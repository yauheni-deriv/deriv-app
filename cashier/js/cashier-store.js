/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("@deriv/components"), require("@deriv/shared"), require("@deriv/translations"), require("mobx"), require("react"));
	else if(typeof define === 'function' && define.amd)
		define(["@deriv/components", "@deriv/shared", "@deriv/translations", "mobx", "react"], factory);
	else if(typeof exports === 'object')
		exports["@deriv/cashier"] = factory(require("@deriv/components"), require("@deriv/shared"), require("@deriv/translations"), require("mobx"), require("react"));
	else
		root["@deriv/cashier"] = factory(root["@deriv/components"], root["@deriv/shared"], root["@deriv/translations"], root["mobx"], root["react"]);
})(self, function(__WEBPACK_EXTERNAL_MODULE__deriv_components__, __WEBPACK_EXTERNAL_MODULE__deriv_shared__, __WEBPACK_EXTERNAL_MODULE__deriv_translations__, __WEBPACK_EXTERNAL_MODULE_mobx__, __WEBPACK_EXTERNAL_MODULE_react__) {
return /******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./components/cashier-notifications/cashier-notifications.tsx":
/*!********************************************************************!*\
  !*** ./components/cashier-notifications/cashier-notifications.tsx ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _deriv_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/components */ \"@deriv/components\");\n/* harmony import */ var _deriv_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_deriv_components__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\nvar CashierNotifications = function CashierNotifications(_ref) {\n  var p2p_notification_count = _ref.p2p_notification_count;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_deriv_components__WEBPACK_IMPORTED_MODULE_1__.Icon, {\n    icon: \"IcCashier\",\n    className: \"header__icon\"\n  }), !!p2p_notification_count && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_deriv_components__WEBPACK_IMPORTED_MODULE_1__.Counter, {\n    className: \"cashier__counter\",\n    count: p2p_notification_count\n  }));\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CashierNotifications);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL2Nhc2hpZXItbm90aWZpY2F0aW9ucy9jYXNoaWVyLW5vdGlmaWNhdGlvbnMudHN4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTs7QUFNQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFIQTs7QUFPQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9jYXNoaWVyLy4vY29tcG9uZW50cy9jYXNoaWVyLW5vdGlmaWNhdGlvbnMvY2FzaGllci1ub3RpZmljYXRpb25zLnRzeD8yZTk1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBJY29uLCBDb3VudGVyIH0gZnJvbSAnQGRlcml2L2NvbXBvbmVudHMnO1xuXG50eXBlIFRDYXNoaWVyTm90aWZpY2F0aW9uc1Byb3BzID0ge1xuICAgIHAycF9ub3RpZmljYXRpb25fY291bnQ6IG51bWJlcjtcbn07XG5cbmNvbnN0IENhc2hpZXJOb3RpZmljYXRpb25zID0gKHsgcDJwX25vdGlmaWNhdGlvbl9jb3VudCB9OiBUQ2FzaGllck5vdGlmaWNhdGlvbnNQcm9wcykgPT4gKFxuICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgPEljb24gaWNvbj0nSWNDYXNoaWVyJyBjbGFzc05hbWU9J2hlYWRlcl9faWNvbicgLz5cbiAgICAgICAgeyEhcDJwX25vdGlmaWNhdGlvbl9jb3VudCAmJiA8Q291bnRlciBjbGFzc05hbWU9J2Nhc2hpZXJfX2NvdW50ZXInIGNvdW50PXtwMnBfbm90aWZpY2F0aW9uX2NvdW50fSAvPn1cbiAgICA8L1JlYWN0LkZyYWdtZW50PlxuKTtcblxuZXhwb3J0IGRlZmF1bHQgQ2FzaGllck5vdGlmaWNhdGlvbnM7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/cashier-notifications/cashier-notifications.tsx\n");

/***/ }),

/***/ "./components/cashier-notifications/index.ts":
/*!***************************************************!*\
  !*** ./components/cashier-notifications/index.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _cashier_notifications__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cashier-notifications */ \"./components/cashier-notifications/cashier-notifications.tsx\");\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_cashier_notifications__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL2Nhc2hpZXItbm90aWZpY2F0aW9ucy9pbmRleC50cy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvY2FzaGllci8uL2NvbXBvbmVudHMvY2FzaGllci1ub3RpZmljYXRpb25zL2luZGV4LnRzPzZkMGEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENhc2hpZXJOb3RpZmljYXRpb25zIGZyb20gJy4vY2FzaGllci1ub3RpZmljYXRpb25zJztcblxuZXhwb3J0IGRlZmF1bHQgQ2FzaGllck5vdGlmaWNhdGlvbnM7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/cashier-notifications/index.ts\n");

/***/ }),

/***/ "./config/on-ramp-providers.js":
/*!*************************************!*\
  !*** ./config/on-ramp-providers.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @deriv/translations */ \"@deriv/translations\");\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_deriv_translations__WEBPACK_IMPORTED_MODULE_0__);\n\n\nvar createBanxaProvider = function createBanxaProvider(store) {\n  return {\n    icon: {\n      dark: 'IcCashierBanxaDark',\n      light: 'IcCashierBanxaLight'\n    },\n    name: 'Banxa',\n    getDescription: function getDescription() {\n      return (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('A fast and secure fiat-to-crypto payment service. Deposit cryptocurrencies from anywhere in the world using your credit/debit cards and bank transfers.');\n    },\n    getAllowedResidencies: function getAllowedResidencies() {\n      return ['*'];\n    },\n    getPaymentIcons: function getPaymentIcons() {\n      return [{\n        dark: 'IcCashierVisaDark',\n        light: 'IcCashierVisaLight'\n      }, {\n        dark: 'IcCashierMastercardDark',\n        light: 'IcCashierMastercardLight'\n      }, {\n        dark: 'IcCashierBpayDark',\n        light: 'IcCashierBpayLight'\n      }, {\n        dark: 'IcCashierSepaDark',\n        light: 'IcCashierSepaLight'\n      }, {\n        dark: 'IcCashierBlueshyftDark',\n        light: 'IcCashierBlueshyftLight'\n      }, {\n        dark: 'IcCashierFlexepinDark',\n        light: 'IcCashierFlexepinLight'\n      }, {\n        dark: 'IcCashierPayIdDark',\n        light: 'IcCashierPayIdLight'\n      }, {\n        dark: 'IcCashierPoliDark',\n        light: 'IcCashierPoliLight'\n      }, {\n        dark: 'IcCashierApplePay',\n        light: 'IcCashierApplePay'\n      }, {\n        dark: 'IcCashierInteracEtransfer',\n        light: 'IcCashierInteracEtransfer'\n      }, {\n        dark: 'IcCashierIdeal',\n        light: 'IcCashierIdeal'\n      }, {\n        dark: 'IcCashierPostBillPayDark',\n        light: 'IcCashierPostBillPayLight'\n      }, {\n        dark: 'IcCashierSofort',\n        light: 'IcCashierSofort'\n      }];\n    },\n    getScriptDependencies: function getScriptDependencies() {\n      return [];\n    },\n    // None.\n    getDefaultFromCurrency: function getDefaultFromCurrency() {\n      return '';\n    },\n    getFromCurrencies: function getFromCurrencies() {\n      return ['*'];\n    },\n    getToCurrencies: function getToCurrencies() {\n      return ['*'];\n    },\n    getWidgetHtml: function getWidgetHtml() {\n      return new Promise(function (resolve, reject) {\n        store.WS.serviceToken({\n          service_token: 1,\n          service: 'banxa',\n          referrer: window.location.href\n        }).then(function (response) {\n          if (response.error) {\n            reject(response.error.message);\n          } else {\n            var url = response.service_token.banxa.url;\n\n            if (url) {\n              window.open(url);\n            } // Resolving empty will/should redirect user.\n\n\n            resolve();\n          }\n        });\n      });\n    },\n    onMountWidgetContainer: function onMountWidgetContainer() {},\n    should_show_deposit_address: false\n  };\n};\n\nvar createChangellyProvider = function createChangellyProvider(store) {\n  return {\n    icon: {\n      dark: 'IcCashierChangellyDark',\n      light: 'IcCashierChangellyLight'\n    },\n    name: 'Changelly',\n    getDescription: function getDescription() {\n      return (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Your simple access to crypto. Fast and secure way to exchange and purchase cryptocurrencies. 24/7 live chat support.');\n    },\n    getAllowedResidencies: function getAllowedResidencies() {\n      return ['*'];\n    },\n    getPaymentIcons: function getPaymentIcons() {\n      return [{\n        dark: 'IcCashierVisaDark',\n        light: 'IcCashierVisaLight'\n      }, {\n        dark: 'IcCashierMastercardDark',\n        light: 'IcCashierMastercardLight'\n      }];\n    },\n    getScriptDependencies: function getScriptDependencies() {\n      return [];\n    },\n    getDefaultFromCurrency: function getDefaultFromCurrency() {\n      return 'usd';\n    },\n    getFromCurrencies: function getFromCurrencies() {\n      return ['usd', 'eur', 'gbp'];\n    },\n    getToCurrencies: function getToCurrencies() {\n      return ['bch', 'btc', 'etc', 'eth', 'ltc', 'ust'];\n    },\n    getWidgetHtml: function getWidgetHtml() {\n      var _this = this;\n\n      return new Promise(function (resolve) {\n        var url = new URL('https://widget.changelly.com/?v=3&theme=default');\n        url.searchParams.append('fromDefault', _this.getDefaultFromCurrency());\n        var currency = store.root_store.client.currency.toLowerCase();\n\n        if (_this.getToCurrencies().includes(currency)) {\n          var to_currency = currency === 'ust' ? 'usdt' : currency;\n          url.searchParams.append('to', to_currency);\n          url.searchParams.append('toDefault', to_currency);\n        }\n\n        url.searchParams.append('amount', 1);\n        url.searchParams.append('merchant_id', 'iiq3jdt2p44yrfbx');\n        window.open(url);\n        resolve();\n      });\n    },\n    onMountWidgetContainer: function onMountWidgetContainer() {},\n    should_show_deposit_address: true\n  };\n};\n\nvar createXanPoolProvider = function createXanPoolProvider(store) {\n  return {\n    icon: {\n      dark: 'IcCashierXanpoolDark',\n      light: 'IcCashierXanpoolLight'\n    },\n    name: 'XanPool',\n    getDescription: function getDescription() {\n      return (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('Buy cryptocurrencies in an instant. Enjoy easy, quick, and secure exchanges using your local payment methods.');\n    },\n    getAllowedResidencies: function getAllowedResidencies() {\n      return ['*'];\n    },\n    getPaymentIcons: function getPaymentIcons() {\n      return [{\n        dark: 'IcCashierFpsDark',\n        light: 'IcCashierFpsLight'\n      }, {\n        dark: 'IcCashierAliPayDark',\n        light: 'IcCashierAliPayLight'\n      }, {\n        dark: 'IcCashierGoPayDark',\n        light: 'IcCashierGoPayLight'\n      }, {\n        dark: 'IcCashierMandiriPay',\n        light: 'IcCashierMandiriPay'\n      }, {\n        dark: 'IcCashierInstaPayLight',\n        light: 'IcCashierInstaPayDark'\n      }, {\n        dark: 'IcCashierCebuanaLhuillierDark',\n        light: 'IcCashierCebuanaLhuillierLight'\n      }, {\n        dark: 'IcCashierPayNowDark',\n        light: 'IcCashierPayNowLight'\n      }, {\n        dark: 'IcCashierUpiDark',\n        light: 'IcCashierUpiLight'\n      }, {\n        dark: 'IcCashierPromptPayDark',\n        light: 'IcCashierPromptPayLight'\n      }, {\n        dark: 'IcCashierViettlePay',\n        light: 'IcCashierViettlePay'\n      }];\n    },\n    getScriptDependencies: function getScriptDependencies() {\n      return [];\n    },\n    getToCurrencies: function getToCurrencies() {\n      return ['btc', 'eth', 'ust', 'zil', 'nem'];\n    },\n    getWidgetHtml: function getWidgetHtml() {\n      return new Promise(function (resolve) {\n        var currency = store.root_store.client.currency;\n        var url = 'https://checkout.xanpool.com/';\n        url += \"?apiKey=db4ec638dff9a68abda1ef6b7638c220\";\n        url += \"&redirectUrl=\".concat(window.location.href);\n        url += \"&wallet=\".concat(store.deposit_address);\n        url += \"&cryptoCurrency=\".concat(currency === 'UST' ? 'USDT' : currency);\n        url += \"&transactionType=buy\";\n        window.open(url);\n        resolve();\n      });\n    },\n    onMountWidgetContainer: function onMountWidgetContainer() {},\n    should_show_deposit_address: false\n  };\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  createBanxaProvider: createBanxaProvider,\n  createChangellyProvider: createChangellyProvider,\n  createXanPoolProvider: createXanPoolProvider\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb25maWcvb24tcmFtcC1wcm92aWRlcnMuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFJQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBYkE7QUFlQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWxEQTtBQUFBOztBQXFEQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUlBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFGQTtBQUlBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbENBO0FBQUE7O0FBcUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQVZBO0FBWUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdkNBO0FBQUE7O0FBMENBO0FBQ0E7QUFDQTtBQUNBO0FBSEEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvY2FzaGllci8uL2NvbmZpZy9vbi1yYW1wLXByb3ZpZGVycy5qcz82YmQ0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGxvY2FsaXplIH0gZnJvbSAnQGRlcml2L3RyYW5zbGF0aW9ucyc7XG5cbmNvbnN0IGNyZWF0ZUJhbnhhUHJvdmlkZXIgPSBzdG9yZSA9PiAoe1xuICAgIGljb246IHsgZGFyazogJ0ljQ2FzaGllckJhbnhhRGFyaycsIGxpZ2h0OiAnSWNDYXNoaWVyQmFueGFMaWdodCcgfSxcbiAgICBuYW1lOiAnQmFueGEnLFxuICAgIGdldERlc2NyaXB0aW9uOiAoKSA9PlxuICAgICAgICBsb2NhbGl6ZShcbiAgICAgICAgICAgICdBIGZhc3QgYW5kIHNlY3VyZSBmaWF0LXRvLWNyeXB0byBwYXltZW50IHNlcnZpY2UuIERlcG9zaXQgY3J5cHRvY3VycmVuY2llcyBmcm9tIGFueXdoZXJlIGluIHRoZSB3b3JsZCB1c2luZyB5b3VyIGNyZWRpdC9kZWJpdCBjYXJkcyBhbmQgYmFuayB0cmFuc2ZlcnMuJ1xuICAgICAgICApLFxuICAgIGdldEFsbG93ZWRSZXNpZGVuY2llczogKCkgPT4gWycqJ10sXG4gICAgZ2V0UGF5bWVudEljb25zOiAoKSA9PiBbXG4gICAgICAgIHsgZGFyazogJ0ljQ2FzaGllclZpc2FEYXJrJywgbGlnaHQ6ICdJY0Nhc2hpZXJWaXNhTGlnaHQnIH0sXG4gICAgICAgIHsgZGFyazogJ0ljQ2FzaGllck1hc3RlcmNhcmREYXJrJywgbGlnaHQ6ICdJY0Nhc2hpZXJNYXN0ZXJjYXJkTGlnaHQnIH0sXG4gICAgICAgIHsgZGFyazogJ0ljQ2FzaGllckJwYXlEYXJrJywgbGlnaHQ6ICdJY0Nhc2hpZXJCcGF5TGlnaHQnIH0sXG4gICAgICAgIHsgZGFyazogJ0ljQ2FzaGllclNlcGFEYXJrJywgbGlnaHQ6ICdJY0Nhc2hpZXJTZXBhTGlnaHQnIH0sXG4gICAgICAgIHsgZGFyazogJ0ljQ2FzaGllckJsdWVzaHlmdERhcmsnLCBsaWdodDogJ0ljQ2FzaGllckJsdWVzaHlmdExpZ2h0JyB9LFxuICAgICAgICB7IGRhcms6ICdJY0Nhc2hpZXJGbGV4ZXBpbkRhcmsnLCBsaWdodDogJ0ljQ2FzaGllckZsZXhlcGluTGlnaHQnIH0sXG4gICAgICAgIHsgZGFyazogJ0ljQ2FzaGllclBheUlkRGFyaycsIGxpZ2h0OiAnSWNDYXNoaWVyUGF5SWRMaWdodCcgfSxcbiAgICAgICAgeyBkYXJrOiAnSWNDYXNoaWVyUG9saURhcmsnLCBsaWdodDogJ0ljQ2FzaGllclBvbGlMaWdodCcgfSxcbiAgICAgICAgeyBkYXJrOiAnSWNDYXNoaWVyQXBwbGVQYXknLCBsaWdodDogJ0ljQ2FzaGllckFwcGxlUGF5JyB9LFxuICAgICAgICB7IGRhcms6ICdJY0Nhc2hpZXJJbnRlcmFjRXRyYW5zZmVyJywgbGlnaHQ6ICdJY0Nhc2hpZXJJbnRlcmFjRXRyYW5zZmVyJyB9LFxuICAgICAgICB7IGRhcms6ICdJY0Nhc2hpZXJJZGVhbCcsIGxpZ2h0OiAnSWNDYXNoaWVySWRlYWwnIH0sXG4gICAgICAgIHsgZGFyazogJ0ljQ2FzaGllclBvc3RCaWxsUGF5RGFyaycsIGxpZ2h0OiAnSWNDYXNoaWVyUG9zdEJpbGxQYXlMaWdodCcgfSxcbiAgICAgICAgeyBkYXJrOiAnSWNDYXNoaWVyU29mb3J0JywgbGlnaHQ6ICdJY0Nhc2hpZXJTb2ZvcnQnIH0sXG4gICAgXSxcbiAgICBnZXRTY3JpcHREZXBlbmRlbmNpZXM6ICgpID0+IFtdLCAvLyBOb25lLlxuICAgIGdldERlZmF1bHRGcm9tQ3VycmVuY3k6ICgpID0+ICcnLFxuICAgIGdldEZyb21DdXJyZW5jaWVzOiAoKSA9PiBbJyonXSxcbiAgICBnZXRUb0N1cnJlbmNpZXM6ICgpID0+IFsnKiddLFxuICAgIGdldFdpZGdldEh0bWw6ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHN0b3JlLldTLnNlcnZpY2VUb2tlbih7XG4gICAgICAgICAgICAgICAgc2VydmljZV90b2tlbjogMSxcbiAgICAgICAgICAgICAgICBzZXJ2aWNlOiAnYmFueGEnLFxuICAgICAgICAgICAgICAgIHJlZmVycmVyOiB3aW5kb3cubG9jYXRpb24uaHJlZixcbiAgICAgICAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QocmVzcG9uc2UuZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyB1cmwgfSA9IHJlc3BvbnNlLnNlcnZpY2VfdG9rZW4uYmFueGE7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHVybCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lm9wZW4odXJsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlc29sdmluZyBlbXB0eSB3aWxsL3Nob3VsZCByZWRpcmVjdCB1c2VyLlxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgb25Nb3VudFdpZGdldENvbnRhaW5lcjogKCkgPT4ge30sXG4gICAgc2hvdWxkX3Nob3dfZGVwb3NpdF9hZGRyZXNzOiBmYWxzZSxcbn0pO1xuXG5jb25zdCBjcmVhdGVDaGFuZ2VsbHlQcm92aWRlciA9IHN0b3JlID0+ICh7XG4gICAgaWNvbjogeyBkYXJrOiAnSWNDYXNoaWVyQ2hhbmdlbGx5RGFyaycsIGxpZ2h0OiAnSWNDYXNoaWVyQ2hhbmdlbGx5TGlnaHQnIH0sXG4gICAgbmFtZTogJ0NoYW5nZWxseScsXG4gICAgZ2V0RGVzY3JpcHRpb246ICgpID0+XG4gICAgICAgIGxvY2FsaXplKFxuICAgICAgICAgICAgJ1lvdXIgc2ltcGxlIGFjY2VzcyB0byBjcnlwdG8uIEZhc3QgYW5kIHNlY3VyZSB3YXkgdG8gZXhjaGFuZ2UgYW5kIHB1cmNoYXNlIGNyeXB0b2N1cnJlbmNpZXMuIDI0LzcgbGl2ZSBjaGF0IHN1cHBvcnQuJ1xuICAgICAgICApLFxuICAgIGdldEFsbG93ZWRSZXNpZGVuY2llczogKCkgPT4gWycqJ10sXG4gICAgZ2V0UGF5bWVudEljb25zOiAoKSA9PiBbXG4gICAgICAgIHsgZGFyazogJ0ljQ2FzaGllclZpc2FEYXJrJywgbGlnaHQ6ICdJY0Nhc2hpZXJWaXNhTGlnaHQnIH0sXG4gICAgICAgIHsgZGFyazogJ0ljQ2FzaGllck1hc3RlcmNhcmREYXJrJywgbGlnaHQ6ICdJY0Nhc2hpZXJNYXN0ZXJjYXJkTGlnaHQnIH0sXG4gICAgXSxcbiAgICBnZXRTY3JpcHREZXBlbmRlbmNpZXM6ICgpID0+IFtdLFxuICAgIGdldERlZmF1bHRGcm9tQ3VycmVuY3k6ICgpID0+ICd1c2QnLFxuICAgIGdldEZyb21DdXJyZW5jaWVzOiAoKSA9PiBbJ3VzZCcsICdldXInLCAnZ2JwJ10sXG4gICAgZ2V0VG9DdXJyZW5jaWVzOiAoKSA9PiBbJ2JjaCcsICdidGMnLCAnZXRjJywgJ2V0aCcsICdsdGMnLCAndXN0J10sXG4gICAgZ2V0V2lkZ2V0SHRtbCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCgnaHR0cHM6Ly93aWRnZXQuY2hhbmdlbGx5LmNvbS8/dj0zJnRoZW1lPWRlZmF1bHQnKTtcbiAgICAgICAgICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKCdmcm9tRGVmYXVsdCcsIHRoaXMuZ2V0RGVmYXVsdEZyb21DdXJyZW5jeSgpKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbmN5ID0gc3RvcmUucm9vdF9zdG9yZS5jbGllbnQuY3VycmVuY3kudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmdldFRvQ3VycmVuY2llcygpLmluY2x1ZGVzKGN1cnJlbmN5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvX2N1cnJlbmN5ID0gY3VycmVuY3kgPT09ICd1c3QnID8gJ3VzZHQnIDogY3VycmVuY3k7XG4gICAgICAgICAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoJ3RvJywgdG9fY3VycmVuY3kpO1xuICAgICAgICAgICAgICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKCd0b0RlZmF1bHQnLCB0b19jdXJyZW5jeSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKCdhbW91bnQnLCAxKTtcbiAgICAgICAgICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKCdtZXJjaGFudF9pZCcsICdpaXEzamR0MnA0NHlyZmJ4Jyk7XG4gICAgICAgICAgICB3aW5kb3cub3Blbih1cmwpO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIG9uTW91bnRXaWRnZXRDb250YWluZXI6ICgpID0+IHt9LFxuICAgIHNob3VsZF9zaG93X2RlcG9zaXRfYWRkcmVzczogdHJ1ZSxcbn0pO1xuXG5jb25zdCBjcmVhdGVYYW5Qb29sUHJvdmlkZXIgPSBzdG9yZSA9PiAoe1xuICAgIGljb246IHsgZGFyazogJ0ljQ2FzaGllclhhbnBvb2xEYXJrJywgbGlnaHQ6ICdJY0Nhc2hpZXJYYW5wb29sTGlnaHQnIH0sXG4gICAgbmFtZTogJ1hhblBvb2wnLFxuICAgIGdldERlc2NyaXB0aW9uOiAoKSA9PlxuICAgICAgICBsb2NhbGl6ZShcbiAgICAgICAgICAgICdCdXkgY3J5cHRvY3VycmVuY2llcyBpbiBhbiBpbnN0YW50LiBFbmpveSBlYXN5LCBxdWljaywgYW5kIHNlY3VyZSBleGNoYW5nZXMgdXNpbmcgeW91ciBsb2NhbCBwYXltZW50IG1ldGhvZHMuJ1xuICAgICAgICApLFxuICAgIGdldEFsbG93ZWRSZXNpZGVuY2llczogKCkgPT4gWycqJ10sXG4gICAgZ2V0UGF5bWVudEljb25zOiAoKSA9PiBbXG4gICAgICAgIHsgZGFyazogJ0ljQ2FzaGllckZwc0RhcmsnLCBsaWdodDogJ0ljQ2FzaGllckZwc0xpZ2h0JyB9LFxuICAgICAgICB7IGRhcms6ICdJY0Nhc2hpZXJBbGlQYXlEYXJrJywgbGlnaHQ6ICdJY0Nhc2hpZXJBbGlQYXlMaWdodCcgfSxcbiAgICAgICAgeyBkYXJrOiAnSWNDYXNoaWVyR29QYXlEYXJrJywgbGlnaHQ6ICdJY0Nhc2hpZXJHb1BheUxpZ2h0JyB9LFxuICAgICAgICB7IGRhcms6ICdJY0Nhc2hpZXJNYW5kaXJpUGF5JywgbGlnaHQ6ICdJY0Nhc2hpZXJNYW5kaXJpUGF5JyB9LFxuICAgICAgICB7IGRhcms6ICdJY0Nhc2hpZXJJbnN0YVBheUxpZ2h0JywgbGlnaHQ6ICdJY0Nhc2hpZXJJbnN0YVBheURhcmsnIH0sXG4gICAgICAgIHsgZGFyazogJ0ljQ2FzaGllckNlYnVhbmFMaHVpbGxpZXJEYXJrJywgbGlnaHQ6ICdJY0Nhc2hpZXJDZWJ1YW5hTGh1aWxsaWVyTGlnaHQnIH0sXG4gICAgICAgIHsgZGFyazogJ0ljQ2FzaGllclBheU5vd0RhcmsnLCBsaWdodDogJ0ljQ2FzaGllclBheU5vd0xpZ2h0JyB9LFxuICAgICAgICB7IGRhcms6ICdJY0Nhc2hpZXJVcGlEYXJrJywgbGlnaHQ6ICdJY0Nhc2hpZXJVcGlMaWdodCcgfSxcbiAgICAgICAgeyBkYXJrOiAnSWNDYXNoaWVyUHJvbXB0UGF5RGFyaycsIGxpZ2h0OiAnSWNDYXNoaWVyUHJvbXB0UGF5TGlnaHQnIH0sXG4gICAgICAgIHsgZGFyazogJ0ljQ2FzaGllclZpZXR0bGVQYXknLCBsaWdodDogJ0ljQ2FzaGllclZpZXR0bGVQYXknIH0sXG4gICAgXSxcbiAgICBnZXRTY3JpcHREZXBlbmRlbmNpZXM6ICgpID0+IFtdLFxuICAgIGdldFRvQ3VycmVuY2llczogKCkgPT4gWydidGMnLCAnZXRoJywgJ3VzdCcsICd6aWwnLCAnbmVtJ10sXG4gICAgZ2V0V2lkZ2V0SHRtbCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBjdXJyZW5jeSB9ID0gc3RvcmUucm9vdF9zdG9yZS5jbGllbnQ7XG5cbiAgICAgICAgICAgIGxldCB1cmwgPSAnaHR0cHM6Ly9jaGVja291dC54YW5wb29sLmNvbS8nO1xuXG4gICAgICAgICAgICB1cmwgKz0gYD9hcGlLZXk9ZGI0ZWM2MzhkZmY5YTY4YWJkYTFlZjZiNzYzOGMyMjBgO1xuICAgICAgICAgICAgdXJsICs9IGAmcmVkaXJlY3RVcmw9JHt3aW5kb3cubG9jYXRpb24uaHJlZn1gO1xuICAgICAgICAgICAgdXJsICs9IGAmd2FsbGV0PSR7c3RvcmUuZGVwb3NpdF9hZGRyZXNzfWA7XG4gICAgICAgICAgICB1cmwgKz0gYCZjcnlwdG9DdXJyZW5jeT0ke2N1cnJlbmN5ID09PSAnVVNUJyA/ICdVU0RUJyA6IGN1cnJlbmN5fWA7XG4gICAgICAgICAgICB1cmwgKz0gYCZ0cmFuc2FjdGlvblR5cGU9YnV5YDtcblxuICAgICAgICAgICAgd2luZG93Lm9wZW4odXJsKTtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBvbk1vdW50V2lkZ2V0Q29udGFpbmVyOiAoKSA9PiB7fSxcbiAgICBzaG91bGRfc2hvd19kZXBvc2l0X2FkZHJlc3M6IGZhbHNlLFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBjcmVhdGVCYW54YVByb3ZpZGVyLFxuICAgIGNyZWF0ZUNoYW5nZWxseVByb3ZpZGVyLFxuICAgIGNyZWF0ZVhhblBvb2xQcm92aWRlcixcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./config/on-ramp-providers.js\n");

/***/ }),

/***/ "./constants/constants.js":
/*!********************************!*\
  !*** ./constants/constants.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nvar containers = {\n  account_transfer: 'account_transfer',\n  deposit: 'deposit',\n  payment_agent: 'payment_agent',\n  payment_agent_transfer: 'payment_agent_transfer',\n  withdraw: 'withdraw'\n};\nvar map_action = {\n  withdraw: 'payment_withdraw',\n  payment_agent: 'payment_agent_withdraw'\n};\nvar icon_payment_methods = {\n  Alipay: ['alipay'],\n  Bank: ['bank', 'bankdeposit', 'banks', 'banktransfer', 'bankwire', 'bankwiretransfer', 'localbankwire', 'localbank', 'localbanks', 'localbanktransfer'],\n  Bankbri: ['bri', 'bankbri'],\n  Bca: ['bca', 'grupbca'],\n  Bch: ['bch'],\n  Bni: ['bni'],\n  Bitcoin: ['bitcoin', 'btc'],\n  Card: ['card', 'cards', 'visa', 'mastercard'],\n  Cimbniaga: ['cimbniaga'],\n  Crypto: ['crypto', 'cryptos', 'cryptocurrencies', 'cryptocurrency', 'weacceptcrypto'],\n  Dai: ['dai'],\n  Diamondbank: ['diamondbank'],\n  Eth: ['eth', 'ethd', 'ethereum'],\n  Ewallet: ['ewallet', 'ewallets', 'ewalletpayment', 'skrill'],\n  Firstbank: ['firstbank'],\n  Gtbank: ['gtbank'],\n  Icbc: ['icbc'],\n  Libertyreserve: ['libertyreserve'],\n  LiteCoin: ['ltc', 'litecoin'],\n  Mandiri: ['mandiri'],\n  Mandirisyariah: ['mandirisyariah'],\n  Moneygram: ['moneygram'],\n  Paypal: ['paypal'],\n  PerfectMoney: ['perfectmoneyandwebmoney', 'perfectmoney'],\n  Permatabank: ['permatabank'],\n  Tether: ['tether'],\n  Verve: ['verve'],\n  WebMoney: ['perfectmoneyandwebmoney', 'webmoney'],\n  Wechatpay: ['wechatpay'],\n  Zenithbank: ['zenithbank']\n};\nvar payment_methods = {\n  AbokiFX: ['AbokiFX', 'A BOKI FX'],\n  'ABSA Bank': ['Absa', 'ABSA', 'ABSA Bank', 'ABSABank', 'ABSABANK', 'Absabank', 'ABSA Bank Transfer', 'ABSA Cash Send', 'Absa fund transfer and orange money services', 'ABSA GHANA LIMITED', 'Direct deposit FNB and ABSA'],\n  'Access bank': ['Access bank', 'Access Bank', 'Accessbank', 'AccessBank', 'ACCESS BANK', 'Acess Bank'],\n  'Access forex': ['Access Forex', 'ACCESS FOREX', 'Access forex'],\n  'Afriland First Bank': ['Afriland First Bank', 'AFRILAND FIRST BANK'],\n  'Airtel Mobile money': ['Airtel Mobile money', 'airtel', 'Airtel', 'AIRTEL MOBILE MONEY', 'airtel money', 'Airtel money', 'Airtelmoney', 'Airtel Money', 'AirtelMoney', 'AIRTELMONEY', 'AIRTEL MONEY', 'Airtel Tigo', 'AirtelTigo cash', 'all mobile money'],\n  Airtm: ['airtm', 'Airtm'],\n  AlfalahBank: ['AlfalahBank', 'bank alfalfa', 'Alflah Bank'],\n  'All banks': ['All banks', 'All local banks', 'All local Banks', 'All local banks ZWL', 'All Local Bank transfer', 'bank', 'Bank', 'BANK', 'banks', 'Banks', 'local banks', 'Local banks', 'Local Banks', 'Pakistani Local All banks', 'Local Indian banks', 'LocalBanks'],\n  Astropay: ['astropay', 'Astropay', 'Astro Pay'],\n  'ATM transfer': ['ATM', 'ATMDeposits', 'ATMdeposit', 'ATM transfer', 'ATM Transfer', 'BanktransferATM', 'FNB ATM deposit'],\n  AzamPesa: ['AzamPesa', 'Azampesa'],\n  'Banco Bradesco': ['Banco Bradesco', 'Bradesco'],\n  'Banco de Pichincha': ['Banco de Pichincha', 'BANCO DE PICHINCHA', 'Pichincha'],\n  'Banco de Produbanco': ['Banco de Produbanco', 'BANCO DE PRODUBANCO'],\n  'Banco del Pacifico': ['Banco del Pacifico', 'BANCO DE PACIFICO', 'Pacifico'],\n  'Banco Internacional': ['Banco Internacional', 'BANCO INTERNACIONAL'],\n  'Banco Internacional de Moçambique (BIM)': ['Banco Internacional de Moçambique (BIM)', 'Bim', 'Transferencia Bim'],\n  'Bancobu Bank eNoti': ['Bancobu Bank eNoti', 'Bancobu e-noti'],\n  'Bank AL Habib': ['Bank AL Habib', 'bank al habib', 'Bank Alhabib'],\n  'Bank Negara Indonesia (BNI)': ['Bank Negara Indonesia (BNI)', 'BNI', 'BankBNI'],\n  'Bank Of Ceylon (BOC)': ['Bank Of Ceylon (BOC)', 'Bankofceylon', 'Boc Peoples Bank'],\n  'Bank Rakyat Indonesia (BRI)': ['Bank Rakyat Indonesia (BRI)', 'BankBri', 'BankBRI', 'BRI', 'BRI dan Ewallet'],\n  'Bank transfer': ['All Local Bank payment Accept', 'All local bank payments', 'All Local Bank transfer', 'bank', 'Bank', 'BANK', 'Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe', 'Bank and E-wallet', 'bank deposit', 'Bank deposit', 'Bankdeposit', 'Bank Deposit', 'Bank deposits', 'bank ewallet', 'bank payment', 'banks', 'Banks', 'Bank to Bank account transfer', 'bank transfer', 'Bank transfer', 'Banktransfer', 'Bank Transfer', 'BankTransfer', 'BANK TRANSFER', 'BANKTRANSFER', 'bank transfer and all form of E-payments', 'Bank Transfer and all Forms of E-payments', 'BanktransferATM', 'bank transfers', 'Bank transfers', 'Bank Transfers', 'Ban transfer', 'Depositos direto em conta', 'Direct deposit FNB and ABSA', 'E-wallet Bank transfer', 'Internet Banking', 'Internet transfer', 'Internet Transfer', 'LocalBank', 'local banks', 'Local banks', 'Local Banks', 'Local bank transfer', 'Local bank Transfers', 'Local deposits', 'Local deposit', 'local deposits', 'BANKTRANSFERS', 'Bank Deposits', 'Bank deposit and transfer', 'Bank transfer and e-wallets', 'BankDeposit', 'Fiat', 'LOCALBANK', 'OnlineTransfer', 'ZWbanktransfers', 'localbanktransfer', 'Bank transfer Bank wire'],\n  'Bank wire': ['bank', 'Bank', 'BANK', 'bank payment', 'banks', 'Banks', 'bank wire', 'bankwire', 'Bank wire', 'Bankwire', 'Bank Wire', 'BankWire', 'BANKWIRE', 'Bank wire and e-wallets', 'Bank wire and E-wallets', 'Bank wires', 'Bankwires', 'bank wires and e-wallet', 'Bank wires and e-wallets', 'BankWire transfer', 'E-wallets and bank wires', 'local bank wire', 'LocalBankWire', 'LocalBankwire', 'Wire Bank Transfer', 'WIRE TRANSFER', 'Bank Wire transfer', 'Fiat', 'OnlineTransfer', 'Bank transfer Bank wire'],\n  BankABC: ['BankABC', 'BANCABC BANK'],\n  'Bank BTN': ['Bank BTN', 'BTN'],\n  'Bank of the Philippine Islands (BPI)': ['Bank of the Philippine Islands (BPI)', 'BPI'],\n  'BCA bank': ['BCA bank', 'BCA', 'BankBCA', 'bca'],\n  'BDO Unibank': ['BDO Unibank', 'BDO'],\n  BHIM: ['BHIM', 'Bhim', 'Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe'],\n  'BMCE Bank': ['BMCE Bank', 'Bmce Bank'],\n  'CABS Bank': ['CABS Bank', 'Cabs bank', 'CABS transfer'],\n  Card: ['Card', 'card', 'cards', 'Cards', 'Credit card', 'Debit Card', 'Mastercard', 'MasterCard', 'visa', 'Visa', 'VISA', 'Visa card', 'Bank cards', 'Carteiras Electronicas', 'Fiat', 'Master card'],\n  Cash: ['cash', 'Cash', 'Cash deposit', 'Cash deposits', 'Cash in USD or Local', 'electronic transfers and cash deposits', 'FNB cash deposit', 'physical local and foreign bank notes', 'USD', 'USD cash', 'Cash Deposit', 'Fiat', 'INR', 'USDCash', 'Zwcash'],\n  'Cash send ABSA bank': ['Cash send ABSA bank', 'ABSA Cash Send', 'Cashsend', 'Cash Send', 'CashSend', 'cash send Absa', 'Cash send Absa bank'],\n  'Chipper Cash': ['Chipper Cash', 'Chipper', 'Chippercash', 'Chipperchash'],\n  'CIH Bank': ['CIH Bank', 'Cih Bank'],\n  CIMB: ['CIMB', 'CIMBNIAGA', 'NIAGA'],\n  'City Hopper': ['City hopper', 'City Hopper'],\n  'Co-operative Bank of Kenya': ['Co-operative Bank of Kenya', 'cooperativebank'],\n  'Commercial Bank': ['Commercial Bank', 'Commercialbank'],\n  'CRDB Bank': ['CRDB Bank', 'CRDBBANK'],\n  Crypto: ['Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe', 'bitcoin', 'Bitcoin', 'BITCOIN', 'bitcoins', 'Bitcoins', 'btc', 'BTC', 'btc smega', 'Cripto', 'crypto', 'Crypto', 'Cyptocurrency', 'cryptocurrencies', 'Cryptocurrencies', 'Crypto Currencies', 'CRYPTOCURRENCIES', 'cryptocurrency', 'Cryptocurrency', 'CRYPTOCURRENCY', 'Cryptos', 'ETH', 'eUSDT', 'EUSDT', 'LTC', 'Tether', 'TRON', 'USDC', 'USDT', 'UST', 'We accept Crypto', 'BCH', 'Btc', 'Criptomoedas', 'Crypto Payment', 'Crypto transfer', 'CryptoTransfer', 'E-Wallets and Crypto', 'E-wallets and Crypto', 'Ethereum', 'Etherium', 'Litecoin', 'Skrill Neteller Crypto', 'SkrillCrypto', 'Tether ERC20', 'Tether Omni', 'Thether', 'Usdt', 'cryptos', 'ethereum', 'litecoin'],\n  'Diamond Bank': ['Diamond bank', 'Diamond Bank', 'DiamondBank'],\n  'E-Mola': ['E-Mola', 'E-mola', 'Emola'],\n  'E-money': ['E-money', 'e money'],\n  'E-payment': ['E-payment', 'all form of E-payments', 'All form of E-payments', 'all forms of E-payments', 'and all other forms of Epayment', 'bank transfer and all form of E-payments', 'Bank Transfer and all Forms of E-payments', 'E-payments', 'Epayments', 'All forms of E-Payments', 'DigitalPayment', 'OnlineTransfer', 'all forms of E-Payment'],\n  'E-transfer': ['E-transfer', 'electronic transfers and cash deposits', 'E-Transfers', 'OnlineTransfer'],\n  'E-wallet': ['Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe', 'Bank and E-wallet', 'bank ewallet', 'Bank wire and e-wallets', 'Bank wire and E-wallets', 'bank wires and e-wallet', 'Bank wires and e-wallets', 'Digital Wallets', 'electronic wallets', 'e-wallers', 'e-wallet', 'ewallet', 'eWallet', 'E-wallet', 'Ewallet', 'EWALLET', 'E-wallet Bank transfer', 'E wallet FNB', 'E-wallet payment', 'Ewallet payment', 'e-wallets', 'ewallets', 'e-Wallets', 'e-WALLETS', 'E- wallets', 'E-wallets', 'Ewallets', 'E-Wallets', 'E-wallets and bank wires', 'fnb ewallet', 'MY WALLET', 'wallet', 'Bank transfer and e-wallets', 'E-Wallets and Crypto', 'E-wallets and Crypto', 'E-Wallet', 'EWallets', 'Fiat', 'OnlineTransfer', 'ewalllets', 'ewalltets', 'local bank wallets and Orange money'],\n  Easypaisa: ['easypaisa', 'Easy paisa', 'Easypaisa', 'Easy Paisa', 'EasyPaisaTransfer'],\n  Ecobank: ['Ecobank', 'Eco Bank', 'ECO BANK', 'Eco bank Transfers'],\n  EcoCash: ['Eco cash', 'Ecocash', 'EcoCash', 'ECOCASH', 'Ecocash FCA', 'Ecocash method', 'ECOCASH WALLET', 'Ecocash ZWL', 'EcocashMobileMoney', 'Zwecocash'],\n  'Electronic Funds Transfer (EFT)': ['Electronic Funds Transfer (EFT)', 'EFT'],\n  'Equity Bank': ['Equity bank', 'Equity Bank', 'equitybankmoneytransfer'],\n  'EU Mobile Money': ['EU Mobile Money', 'all mobile money', 'EU MONEY'],\n  EzyPesa: ['EzyPesa', 'Ezypesa', 'Ezzy pesa', 'Ezzy Pesa', 'EzzyPesa'],\n  FasaPay: ['fasapay', 'Fasa pay', 'FasaPay'],\n  'Fast Payment': ['Fast payment', 'Fast Payment'],\n  'Faysal Bank': ['Faysal Bank', 'FaysalBank'],\n  'FBC Bank': ['FBC Bank', 'FBC BANK'],\n  'Fidelity Bank': ['Fidelity Bank', 'fidelitybank'],\n  Finbank: ['Finbank', 'Fin bank', 'FinBank'],\n  'First Bank of Nigeria': ['First Bank of Nigeria', 'First bank', 'First Bank', 'FirstBank', 'FIRST BANK', 'Firstbank'],\n  'First City Monument Bank (FCMB)': ['First City Monument Bank (FCMB)', 'FCMB', 'fcmb'],\n  'First MicroFinanceBank (FMFB)': ['First MicroFinanceBank (FMFB)', 'FMFB'],\n  'First National Bank (FNB)': ['First National Bank (FNB)', 'Direct deposit FNB and ABSA', 'E wallet FNB', 'First National Bank', 'fnb', 'FNB', 'FNB ATM deposit', 'Fnbbank', 'FNB Bank', 'FNBB Bank Transfer', 'FNB cash deposit', 'fnb ewallet', 'FNB First National Bank', 'FNB pay2cell', 'FNB pay to cell', 'FNB pay to sell', 'Pay to cell FNB', 'FNB bank transfer', 'FNBB', 'FNBBank', 'FirNationalBank', 'First National Bank of Botswana', 'Firstnationalbank', 'Fnb'],\n  Gmoney: ['Gmoney', 'GMONEY'],\n  'Google Pay': ['Google Pay', 'Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe', 'Google pay', 'gpay', 'Gpay', 'GPay'],\n  'Grup BCA': ['Grup BCA', 'GrupBCA'],\n  'GT bank': ['GT bank', 'Gtb', 'GTB', 'Gt Bank', 'GT Bank', 'GTBank', 'GT BANK', 'Gtbank', 'Guarantee Trust Bank', 'GuarantyTrustBank'],\n  Halopesa: ['halopesa', 'Halo pesa', 'Halopesa', 'Halo Pesa', 'HaloPesa', 'HALOPESA'],\n  'Hatton National Bank': ['Hatton National Bank', 'HattonNationalBank'],\n  HBL: ['HBL', 'HBLMFB', 'KONNET HBL'],\n  Help2Pay: ['Help2Pay', 'help2pay'],\n  'HNB Bank': ['HNB Bank', 'HNB'],\n  'IMPS Transfer': ['imps', 'Imps', 'IMPS', 'IMPS Transfer'],\n  'ING Bank': ['ING Bank', 'ING'],\n  Innbucks: ['Innbucks', 'INNBUCKS'],\n  'Instant Money': ['Instant Money', 'InstantMoney', 'Instant money stambic bank', 'Instant money stanbic', 'Instant money'],\n  'Inter Bank Fund Transfer': ['Inter Bank Fund Transfer', 'InterBankfundtransfer', 'Interbank Transfer'],\n  'Itau Bank': ['Itau Bank', 'Itau'],\n  IZI: ['IZI', 'Izzy'],\n  JazzCash: ['JazzCash', 'jazzcash', 'Jazz cash', 'Jazzcash', 'Jazz-Cash', 'JazzCashTransfer'],\n  JENIUS: ['JENIUS', 'Jenius'],\n  Jeton: ['Jeton', 'jeton', 'JetonWallet'],\n  'Key Stone Bank': ['Key Stone Bank', 'Keystone'],\n  'Kuda Bank': ['Kuda Bank', 'KUDA BANK', 'Kuda MFB', 'KudaMFB', 'KUDA MICROFINANCE BANK 2014563937', 'Kuda Microfinance', 'KUDA'],\n  'Luno Wallet': ['Luno Wallet', 'Luno', 'Luno crypto wallet', 'Luno e-wallet', 'Luno ewallet', 'luno'],\n  'Mandiri Bank': ['Mandiri Bank', 'Mandiri', 'MANDIRI', 'MandiriSyariah', 'BankMandiri'],\n  'Meezan Bank': ['Meezan Bank', 'MeezanBank'],\n  'Millenium Bim Visa': ['Millenium Bim Visa', 'Millenium Bim'],\n  MIX: ['mix', 'Mix', 'MIX', 'Mixed'],\n  'Mobile money': ['all mobile money', 'mobile banking', 'Mobile banking', 'Mobile money', 'Mobile Money', 'MobileMoney', 'Mobile money MTN', 'Mobile Money transfer', 'MOBILE MONEY TRANSFER', 'Mobile money transfers', 'Mobilemoneyoption', 'OnlineTransfer'],\n  'Mojo Mula': ['Mojo money', 'Mojo Mula', 'MOJO MULA', 'MoMo pay', 'Mojo Moolah'],\n  MoMo: ['MoMo', 'MOMO', 'MoMo pay', 'MTN MOMO', 'MTNMOMO'],\n  MoneyGram: ['Moneygram', 'Money Gram', 'MoneyGram', 'Money grame'],\n  'M-PESA': ['AbesafaricomMpesa Transfers', 'mpesa', 'M pesa', 'M-pesa', 'Mpesa', 'M Pesa', 'M-Pesa', 'MPesa', 'M PESA', 'M-PESA', 'MPESA', 'M-Pesa Tigo-Pesa T-Pesa', 'Pesa', 'safaricom mpesa', 'MPESA 0710393947 Albert Kyalo', 'VodacomMpesa'],\n  'MTN MOMO': ['all mobile money', 'Mobile money MTN', 'MoMo', 'MOMO', 'MTN', 'MTN mobile money', 'MTN Mobile money', 'MTN Mobile Money', 'MTN MOBILE MONEY', 'MTNMOBILEMONEY', 'MTN MOMO', 'MTNMOMO', 'MTN MONEY'],\n  'Mukuru money transfers': ['Mukuru', 'Mukuru money transfers', 'MukuruMoneyTransfer', 'USDMukurutransfer'],\n  'MyZaka Mascom Money': ['MyZaka Mascom Money', 'mascom', 'mascom myZaka', 'Mascom MyZaka', 'myzaka', 'My zaka', 'Myzaka', 'MyZaka', 'My zaka mascom money', 'my Zaka', 'myzaaka'],\n  Neft: ['neft', 'Neft', 'NEFT'],\n  Nequi: ['Nequi', 'Nequi o Daviplata al 300 6839026'],\n  Neteller: ['neTeller', 'Neteller', 'NETELLER', 'NETelle', 'Skrill Neteller Crypto', 'neteller', 'netteller'],\n  'Nigeria local bank': ['Nigeria Local', 'Nigeria local bank', 'NIGERIA LOCAL BANK'],\n  'NMB Bank': ['NMB Bank', 'NATIONALMICROFINANCEBANK', 'Nmb bank'],\n  'One Money': ['OM', 'Onemoney', 'One Money', 'One money service', 'OneMoney', 'OneMoneyMobileMoney'],\n  Opay: ['Opay', 'OPAY'],\n  'Orange Money Transfer': ['Absa fund transfer and orange money services', 'Orange Cameroon', 'orange money', 'orangemoney', 'Orange money', 'Orangemoney', 'Orange Money', 'OrangeMoney', 'ORANGE MONEY', 'Orange Money Transfer', 'local bank wallets and Orange money'],\n  PalmPay: ['PalmPay', 'PALMPAY'],\n  'Pay safe Card': ['paysafecard', 'Pay safe Card'],\n  Pay2Cell: ['FNB pay2cell', 'FNB pay to cell', 'FNB pay to sell', 'Pay2cell', 'Pay2Cell', 'PAY2CELL', 'pay to cell', 'Pay to cell', 'Paytocell', 'Pay to Cell', 'Pay to cell FNB', 'PayToCell', 'pay2cell'],\n  'Payment Checks': ['Payment checks', 'Payment Checks'],\n  PayPal: ['Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe', 'Paypal', 'PayPal', 'PAYPAL', 'paypal'],\n  PayTM: ['Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe', 'Paytm', 'PayTM'],\n  'Perfect Money': ['Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe', 'perfect money', 'perfectmoney', 'Perfect money', 'Perfectmoney', 'Perfect Money', 'PerfectMoney', 'PERFECT MONEY', 'Perfect Money and Webmoney', 'PM', 'PERFECTMONEY', 'PERFECT'],\n  'Permata Bank': ['Permata Bank', 'PermataBank', 'PERMATA'],\n  PhonePhe: ['PhonePhe', 'Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe', 'Phonepay', 'phonepe', 'Phonepe', 'PhonePe', 'Phone pay', 'PhonePay'],\n  Pix: ['Pix', 'PIX'],\n  'Polaris Bank': ['Polaris Bank', 'Polaris'],\n  'Ponto 24': ['Conta movel', 'Conta Movel', 'ContamovelBCI', 'Ponto 24', 'Ponto24'],\n  'Pos deposit': ['Pos', 'POS', 'Pos deposit'],\n  'Postal transfer': ['Postal transfer', 'Egyptian postal transfers'],\n  RIA: ['Ria', 'RIA'],\n  'RTGS Transfers': ['RTGS Transfers', 'rtgs', 'RTGS', 'Rtgs bank transfer', 'RTGS transfers', 'Rtgs'],\n  Safaricom: ['Safaricom', 'AbesafaricomMpesa Transfers', 'AbeSafaricomMpesaTransfers', 'safaricom mpesa'],\n  'Sama Money': ['Sama Money', 'Sama money'],\n  ShopeePay: ['ShopeePay', 'SHOPEEPAY'],\n  Skrill: ['Skrill', 'Skill', 'Skril', 'skrill', 'SKRILL', 'skrillpayments', 'Skrll', 'SkrillCrypto', 'Skrill Neteller Crypto'],\n  Smega: ['btc smega', 'smega', 'Smega'],\n  'Standard Bank Namibia': ['Standard Bank Namibia', 'Standard Bank', 'StandardBank'],\n  'Stanbic Bank': ['Instant money stambic bank', 'Instant money stanbic', 'stanbic', 'Stanbic', 'Stanbic Bank', 'StanbicBank', 'Stanbic Bank Transfer', 'Stanbic Money Transfer', 'Standbic', 'Stanbic IBTC', 'Stanbic bank'],\n  'Standard Charted Bank': ['STANCHART', 'Standard Charted Bank', 'Standard chartered', 'Standard chartered bank', 'Standard Chartered Bank Transfer', 'Standard Chatterd Bank'],\n  'Steward remit': ['Steward remit', 'Steward Remmitt'],\n  'T-pesa': ['M-Pesa Tigo-Pesa T-Pesa', 'Pesa', 'T-pesa', 'Tpesa', 'T PESA', 'TTCLpesa'],\n  'Tigo Cash': ['Tigo', 'Tigo Cash', 'AirtelTigo cash'],\n  'Tigo Mobile Money': ['Tigo Mobile Money', 'Airtel Tigo', 'all mobile money', 'Tigo', 'TIGO MOBILE MONEY', 'TIGOMOBILEMONEY', 'AirtelTigo cash'],\n  'Tigo Pesa': ['M-Pesa Tigo-Pesa T-Pesa', 'Pesa', 'Tigo', 'tigopesa', 'Tigo pesa', 'Tigopesa', 'Tigo Pesa', 'TigoPesa', 'TIGO PESA', 'TTCLpesa', 'TIGOPESA'],\n  'Transferencia bancaria': ['Transferencia bancaria', 'Transferencia Eletronica TED', 'Transferencias bancarias', 'Ted', 'Transferencia Bancaria'],\n  'UBA Bank': ['UBA', 'UBA Bank', 'UBA BANK'],\n  'Union Bank': ['Union Bank', 'Unionbank', 'Union'],\n  'United Bank Limited (UBL)': ['United Bank Limited (UBL)', 'UBL Bank'],\n  UPI: ['All UPI Transfer', 'Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe', 'upi', 'UPI', 'UPI transfer', 'AmazonUPI', 'PaytmUPI', 'Upi'],\n  'USSD code transfer': ['USSD code transfer', 'Or USSD transfer from all Nigeria banks', 'USSD Code', 'USSD CODE', 'Ussd code Transfer from all Nigerian banks', 'Ussd transfer', 'USSD transfer', 'USSD Transfer', 'ussd transfer'],\n  Vodacom: ['Vodacom', 'VodacomMpesa'],\n  'Vodafone Cash': ['Vodafon Cash Methods', 'Vodafone cash', 'Vodafone Cash', 'VODAFONE CASH', 'VODAFONECASH'],\n  Webmoney: ['Perfect Money and Webmoney', 'Webmoney', 'WebMoney', 'Web Money', 'Web money'],\n  'WeChat Pay': ['WeChat Pay', 'WeChatPay'],\n  'Wema Bank': ['Wema Bank', 'Wema'],\n  WesternUnion: ['Western union', 'Western Union', 'WesternUnion', 'westernunion'],\n  Wise: ['Wise', 'transferwise'],\n  'World Remit': ['World remit', 'World Remit', 'CoinbaseworldRemit'],\n  'Zanaco bank': ['ZANACO', 'Zanaco bank'],\n  'Zenith bank': ['Zenith bank', 'Zenithbank', 'Zenith Bank', 'ZenithBank', 'ZENITH BANK', 'Zenith', 'zenithbank'],\n  Zipit: ['Zipit', 'ZIPIT', 'ZIPIT bank transfers']\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  containers: containers,\n  map_action: map_action,\n  icon_payment_methods: icon_payment_methods,\n  payment_methods: payment_methods\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb25zdGFudHMvY29uc3RhbnRzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQVFBO0FBQ0E7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUNBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF6Q0E7QUE0Q0E7QUFDQTtBQUNBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFnQkE7QUFDQTtBQUNBO0FBa0JBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTREQTtBQWdDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFrQkE7QUFpQkE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBcURBO0FBQ0E7QUFDQTtBQUNBO0FBZUE7QUFDQTtBQTRDQTtBQUNBO0FBQ0E7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBMEJBO0FBQ0E7QUFRQTtBQUNBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBa0JBO0FBZUE7QUFDQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFhQTtBQUNBO0FBQ0E7QUFlQTtBQUNBO0FBT0E7QUFDQTtBQWNBO0FBQ0E7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBV0E7QUFDQTtBQUNBO0FBYUE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBYUE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQVVBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWxzQkE7QUFxc0JBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9jYXNoaWVyLy4vY29uc3RhbnRzL2NvbnN0YW50cy5qcz9hZjE5Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGNvbnRhaW5lcnMgPSB7XG4gICAgYWNjb3VudF90cmFuc2ZlcjogJ2FjY291bnRfdHJhbnNmZXInLFxuICAgIGRlcG9zaXQ6ICdkZXBvc2l0JyxcbiAgICBwYXltZW50X2FnZW50OiAncGF5bWVudF9hZ2VudCcsXG4gICAgcGF5bWVudF9hZ2VudF90cmFuc2ZlcjogJ3BheW1lbnRfYWdlbnRfdHJhbnNmZXInLFxuICAgIHdpdGhkcmF3OiAnd2l0aGRyYXcnLFxufTtcblxuY29uc3QgbWFwX2FjdGlvbiA9IHtcbiAgICB3aXRoZHJhdzogJ3BheW1lbnRfd2l0aGRyYXcnLFxuICAgIHBheW1lbnRfYWdlbnQ6ICdwYXltZW50X2FnZW50X3dpdGhkcmF3Jyxcbn07XG5cbmNvbnN0IGljb25fcGF5bWVudF9tZXRob2RzID0ge1xuICAgIEFsaXBheTogWydhbGlwYXknXSxcbiAgICBCYW5rOiBbXG4gICAgICAgICdiYW5rJyxcbiAgICAgICAgJ2JhbmtkZXBvc2l0JyxcbiAgICAgICAgJ2JhbmtzJyxcbiAgICAgICAgJ2Jhbmt0cmFuc2ZlcicsXG4gICAgICAgICdiYW5rd2lyZScsXG4gICAgICAgICdiYW5rd2lyZXRyYW5zZmVyJyxcbiAgICAgICAgJ2xvY2FsYmFua3dpcmUnLFxuICAgICAgICAnbG9jYWxiYW5rJyxcbiAgICAgICAgJ2xvY2FsYmFua3MnLFxuICAgICAgICAnbG9jYWxiYW5rdHJhbnNmZXInLFxuICAgIF0sXG4gICAgQmFua2JyaTogWydicmknLCAnYmFua2JyaSddLFxuICAgIEJjYTogWydiY2EnLCAnZ3J1cGJjYSddLFxuICAgIEJjaDogWydiY2gnXSxcbiAgICBCbmk6IFsnYm5pJ10sXG4gICAgQml0Y29pbjogWydiaXRjb2luJywgJ2J0YyddLFxuICAgIENhcmQ6IFsnY2FyZCcsICdjYXJkcycsICd2aXNhJywgJ21hc3RlcmNhcmQnXSxcbiAgICBDaW1ibmlhZ2E6IFsnY2ltYm5pYWdhJ10sXG4gICAgQ3J5cHRvOiBbJ2NyeXB0bycsICdjcnlwdG9zJywgJ2NyeXB0b2N1cnJlbmNpZXMnLCAnY3J5cHRvY3VycmVuY3knLCAnd2VhY2NlcHRjcnlwdG8nXSxcbiAgICBEYWk6IFsnZGFpJ10sXG4gICAgRGlhbW9uZGJhbms6IFsnZGlhbW9uZGJhbmsnXSxcbiAgICBFdGg6IFsnZXRoJywgJ2V0aGQnLCAnZXRoZXJldW0nXSxcbiAgICBFd2FsbGV0OiBbJ2V3YWxsZXQnLCAnZXdhbGxldHMnLCAnZXdhbGxldHBheW1lbnQnLCAnc2tyaWxsJ10sXG4gICAgRmlyc3RiYW5rOiBbJ2ZpcnN0YmFuayddLFxuICAgIEd0YmFuazogWydndGJhbmsnXSxcbiAgICBJY2JjOiBbJ2ljYmMnXSxcbiAgICBMaWJlcnR5cmVzZXJ2ZTogWydsaWJlcnR5cmVzZXJ2ZSddLFxuICAgIExpdGVDb2luOiBbJ2x0YycsICdsaXRlY29pbiddLFxuICAgIE1hbmRpcmk6IFsnbWFuZGlyaSddLFxuICAgIE1hbmRpcmlzeWFyaWFoOiBbJ21hbmRpcmlzeWFyaWFoJ10sXG4gICAgTW9uZXlncmFtOiBbJ21vbmV5Z3JhbSddLFxuICAgIFBheXBhbDogWydwYXlwYWwnXSxcbiAgICBQZXJmZWN0TW9uZXk6IFsncGVyZmVjdG1vbmV5YW5kd2VibW9uZXknLCAncGVyZmVjdG1vbmV5J10sXG4gICAgUGVybWF0YWJhbms6IFsncGVybWF0YWJhbmsnXSxcbiAgICBUZXRoZXI6IFsndGV0aGVyJ10sXG4gICAgVmVydmU6IFsndmVydmUnXSxcbiAgICBXZWJNb25leTogWydwZXJmZWN0bW9uZXlhbmR3ZWJtb25leScsICd3ZWJtb25leSddLFxuICAgIFdlY2hhdHBheTogWyd3ZWNoYXRwYXknXSxcbiAgICBaZW5pdGhiYW5rOiBbJ3plbml0aGJhbmsnXSxcbn07XG5cbmNvbnN0IHBheW1lbnRfbWV0aG9kcyA9IHtcbiAgICBBYm9raUZYOiBbJ0Fib2tpRlgnLCAnQSBCT0tJIEZYJ10sXG4gICAgJ0FCU0EgQmFuayc6IFtcbiAgICAgICAgJ0Fic2EnLFxuICAgICAgICAnQUJTQScsXG4gICAgICAgICdBQlNBIEJhbmsnLFxuICAgICAgICAnQUJTQUJhbmsnLFxuICAgICAgICAnQUJTQUJBTksnLFxuICAgICAgICAnQWJzYWJhbmsnLFxuICAgICAgICAnQUJTQSBCYW5rIFRyYW5zZmVyJyxcbiAgICAgICAgJ0FCU0EgQ2FzaCBTZW5kJyxcbiAgICAgICAgJ0Fic2EgZnVuZCB0cmFuc2ZlciBhbmQgb3JhbmdlIG1vbmV5IHNlcnZpY2VzJyxcbiAgICAgICAgJ0FCU0EgR0hBTkEgTElNSVRFRCcsXG4gICAgICAgICdEaXJlY3QgZGVwb3NpdCBGTkIgYW5kIEFCU0EnLFxuICAgIF0sXG4gICAgJ0FjY2VzcyBiYW5rJzogWydBY2Nlc3MgYmFuaycsICdBY2Nlc3MgQmFuaycsICdBY2Nlc3NiYW5rJywgJ0FjY2Vzc0JhbmsnLCAnQUNDRVNTIEJBTksnLCAnQWNlc3MgQmFuayddLFxuICAgICdBY2Nlc3MgZm9yZXgnOiBbJ0FjY2VzcyBGb3JleCcsICdBQ0NFU1MgRk9SRVgnLCAnQWNjZXNzIGZvcmV4J10sXG4gICAgJ0FmcmlsYW5kIEZpcnN0IEJhbmsnOiBbJ0FmcmlsYW5kIEZpcnN0IEJhbmsnLCAnQUZSSUxBTkQgRklSU1QgQkFOSyddLFxuICAgICdBaXJ0ZWwgTW9iaWxlIG1vbmV5JzogW1xuICAgICAgICAnQWlydGVsIE1vYmlsZSBtb25leScsXG4gICAgICAgICdhaXJ0ZWwnLFxuICAgICAgICAnQWlydGVsJyxcbiAgICAgICAgJ0FJUlRFTCBNT0JJTEUgTU9ORVknLFxuICAgICAgICAnYWlydGVsIG1vbmV5JyxcbiAgICAgICAgJ0FpcnRlbCBtb25leScsXG4gICAgICAgICdBaXJ0ZWxtb25leScsXG4gICAgICAgICdBaXJ0ZWwgTW9uZXknLFxuICAgICAgICAnQWlydGVsTW9uZXknLFxuICAgICAgICAnQUlSVEVMTU9ORVknLFxuICAgICAgICAnQUlSVEVMIE1PTkVZJyxcbiAgICAgICAgJ0FpcnRlbCBUaWdvJyxcbiAgICAgICAgJ0FpcnRlbFRpZ28gY2FzaCcsXG4gICAgICAgICdhbGwgbW9iaWxlIG1vbmV5JyxcbiAgICBdLFxuICAgIEFpcnRtOiBbJ2FpcnRtJywgJ0FpcnRtJ10sXG4gICAgQWxmYWxhaEJhbms6IFsnQWxmYWxhaEJhbmsnLCAnYmFuayBhbGZhbGZhJywgJ0FsZmxhaCBCYW5rJ10sXG4gICAgJ0FsbCBiYW5rcyc6IFtcbiAgICAgICAgJ0FsbCBiYW5rcycsXG4gICAgICAgICdBbGwgbG9jYWwgYmFua3MnLFxuICAgICAgICAnQWxsIGxvY2FsIEJhbmtzJyxcbiAgICAgICAgJ0FsbCBsb2NhbCBiYW5rcyBaV0wnLFxuICAgICAgICAnQWxsIExvY2FsIEJhbmsgdHJhbnNmZXInLFxuICAgICAgICAnYmFuaycsXG4gICAgICAgICdCYW5rJyxcbiAgICAgICAgJ0JBTksnLFxuICAgICAgICAnYmFua3MnLFxuICAgICAgICAnQmFua3MnLFxuICAgICAgICAnbG9jYWwgYmFua3MnLFxuICAgICAgICAnTG9jYWwgYmFua3MnLFxuICAgICAgICAnTG9jYWwgQmFua3MnLFxuICAgICAgICAnUGFraXN0YW5pIExvY2FsIEFsbCBiYW5rcycsXG4gICAgICAgICdMb2NhbCBJbmRpYW4gYmFua3MnLFxuICAgICAgICAnTG9jYWxCYW5rcycsXG4gICAgXSxcbiAgICBBc3Ryb3BheTogWydhc3Ryb3BheScsICdBc3Ryb3BheScsICdBc3RybyBQYXknXSxcbiAgICAnQVRNIHRyYW5zZmVyJzogW1xuICAgICAgICAnQVRNJyxcbiAgICAgICAgJ0FUTURlcG9zaXRzJyxcbiAgICAgICAgJ0FUTWRlcG9zaXQnLFxuICAgICAgICAnQVRNIHRyYW5zZmVyJyxcbiAgICAgICAgJ0FUTSBUcmFuc2ZlcicsXG4gICAgICAgICdCYW5rdHJhbnNmZXJBVE0nLFxuICAgICAgICAnRk5CIEFUTSBkZXBvc2l0JyxcbiAgICBdLFxuICAgIEF6YW1QZXNhOiBbJ0F6YW1QZXNhJywgJ0F6YW1wZXNhJ10sXG4gICAgJ0JhbmNvIEJyYWRlc2NvJzogWydCYW5jbyBCcmFkZXNjbycsICdCcmFkZXNjbyddLFxuICAgICdCYW5jbyBkZSBQaWNoaW5jaGEnOiBbJ0JhbmNvIGRlIFBpY2hpbmNoYScsICdCQU5DTyBERSBQSUNISU5DSEEnLCAnUGljaGluY2hhJ10sXG4gICAgJ0JhbmNvIGRlIFByb2R1YmFuY28nOiBbJ0JhbmNvIGRlIFByb2R1YmFuY28nLCAnQkFOQ08gREUgUFJPRFVCQU5DTyddLFxuICAgICdCYW5jbyBkZWwgUGFjaWZpY28nOiBbJ0JhbmNvIGRlbCBQYWNpZmljbycsICdCQU5DTyBERSBQQUNJRklDTycsICdQYWNpZmljbyddLFxuICAgICdCYW5jbyBJbnRlcm5hY2lvbmFsJzogWydCYW5jbyBJbnRlcm5hY2lvbmFsJywgJ0JBTkNPIElOVEVSTkFDSU9OQUwnXSxcbiAgICAnQmFuY28gSW50ZXJuYWNpb25hbCBkZSBNb8OnYW1iaXF1ZSAoQklNKSc6IFsnQmFuY28gSW50ZXJuYWNpb25hbCBkZSBNb8OnYW1iaXF1ZSAoQklNKScsICdCaW0nLCAnVHJhbnNmZXJlbmNpYSBCaW0nXSxcbiAgICAnQmFuY29idSBCYW5rIGVOb3RpJzogWydCYW5jb2J1IEJhbmsgZU5vdGknLCAnQmFuY29idSBlLW5vdGknXSxcbiAgICAnQmFuayBBTCBIYWJpYic6IFsnQmFuayBBTCBIYWJpYicsICdiYW5rIGFsIGhhYmliJywgJ0JhbmsgQWxoYWJpYiddLFxuICAgICdCYW5rIE5lZ2FyYSBJbmRvbmVzaWEgKEJOSSknOiBbJ0JhbmsgTmVnYXJhIEluZG9uZXNpYSAoQk5JKScsICdCTkknLCAnQmFua0JOSSddLFxuICAgICdCYW5rIE9mIENleWxvbiAoQk9DKSc6IFsnQmFuayBPZiBDZXlsb24gKEJPQyknLCAnQmFua29mY2V5bG9uJywgJ0JvYyBQZW9wbGVzIEJhbmsnXSxcbiAgICAnQmFuayBSYWt5YXQgSW5kb25lc2lhIChCUkkpJzogWydCYW5rIFJha3lhdCBJbmRvbmVzaWEgKEJSSSknLCAnQmFua0JyaScsICdCYW5rQlJJJywgJ0JSSScsICdCUkkgZGFuIEV3YWxsZXQnXSxcbiAgICAnQmFuayB0cmFuc2Zlcic6IFtcbiAgICAgICAgJ0FsbCBMb2NhbCBCYW5rIHBheW1lbnQgQWNjZXB0JyxcbiAgICAgICAgJ0FsbCBsb2NhbCBiYW5rIHBheW1lbnRzJyxcbiAgICAgICAgJ0FsbCBMb2NhbCBCYW5rIHRyYW5zZmVyJyxcbiAgICAgICAgJ2JhbmsnLFxuICAgICAgICAnQmFuaycsXG4gICAgICAgICdCQU5LJyxcbiAgICAgICAgJ0JhbmtzIEJISU1VUCBCVEMgRXdhbGxldCBHb29nbGVQYXkgTG9jYWxCYW5rIFBheXBhbCBQYXl0bSBQZXJmZWN0IE1vbmV5IFBob25lUGhlJyxcbiAgICAgICAgJ0JhbmsgYW5kIEUtd2FsbGV0JyxcbiAgICAgICAgJ2JhbmsgZGVwb3NpdCcsXG4gICAgICAgICdCYW5rIGRlcG9zaXQnLFxuICAgICAgICAnQmFua2RlcG9zaXQnLFxuICAgICAgICAnQmFuayBEZXBvc2l0JyxcbiAgICAgICAgJ0JhbmsgZGVwb3NpdHMnLFxuICAgICAgICAnYmFuayBld2FsbGV0JyxcbiAgICAgICAgJ2JhbmsgcGF5bWVudCcsXG4gICAgICAgICdiYW5rcycsXG4gICAgICAgICdCYW5rcycsXG4gICAgICAgICdCYW5rIHRvIEJhbmsgYWNjb3VudCB0cmFuc2ZlcicsXG4gICAgICAgICdiYW5rIHRyYW5zZmVyJyxcbiAgICAgICAgJ0JhbmsgdHJhbnNmZXInLFxuICAgICAgICAnQmFua3RyYW5zZmVyJyxcbiAgICAgICAgJ0JhbmsgVHJhbnNmZXInLFxuICAgICAgICAnQmFua1RyYW5zZmVyJyxcbiAgICAgICAgJ0JBTksgVFJBTlNGRVInLFxuICAgICAgICAnQkFOS1RSQU5TRkVSJyxcbiAgICAgICAgJ2JhbmsgdHJhbnNmZXIgYW5kIGFsbCBmb3JtIG9mIEUtcGF5bWVudHMnLFxuICAgICAgICAnQmFuayBUcmFuc2ZlciBhbmQgYWxsIEZvcm1zIG9mIEUtcGF5bWVudHMnLFxuICAgICAgICAnQmFua3RyYW5zZmVyQVRNJyxcbiAgICAgICAgJ2JhbmsgdHJhbnNmZXJzJyxcbiAgICAgICAgJ0JhbmsgdHJhbnNmZXJzJyxcbiAgICAgICAgJ0JhbmsgVHJhbnNmZXJzJyxcbiAgICAgICAgJ0JhbiB0cmFuc2ZlcicsXG4gICAgICAgICdEZXBvc2l0b3MgZGlyZXRvIGVtIGNvbnRhJyxcbiAgICAgICAgJ0RpcmVjdCBkZXBvc2l0IEZOQiBhbmQgQUJTQScsXG4gICAgICAgICdFLXdhbGxldCBCYW5rIHRyYW5zZmVyJyxcbiAgICAgICAgJ0ludGVybmV0IEJhbmtpbmcnLFxuICAgICAgICAnSW50ZXJuZXQgdHJhbnNmZXInLFxuICAgICAgICAnSW50ZXJuZXQgVHJhbnNmZXInLFxuICAgICAgICAnTG9jYWxCYW5rJyxcbiAgICAgICAgJ2xvY2FsIGJhbmtzJyxcbiAgICAgICAgJ0xvY2FsIGJhbmtzJyxcbiAgICAgICAgJ0xvY2FsIEJhbmtzJyxcbiAgICAgICAgJ0xvY2FsIGJhbmsgdHJhbnNmZXInLFxuICAgICAgICAnTG9jYWwgYmFuayBUcmFuc2ZlcnMnLFxuICAgICAgICAnTG9jYWwgZGVwb3NpdHMnLFxuICAgICAgICAnTG9jYWwgZGVwb3NpdCcsXG4gICAgICAgICdsb2NhbCBkZXBvc2l0cycsXG4gICAgICAgICdCQU5LVFJBTlNGRVJTJyxcbiAgICAgICAgJ0JhbmsgRGVwb3NpdHMnLFxuICAgICAgICAnQmFuayBkZXBvc2l0IGFuZCB0cmFuc2ZlcicsXG4gICAgICAgICdCYW5rIHRyYW5zZmVyIGFuZCBlLXdhbGxldHMnLFxuICAgICAgICAnQmFua0RlcG9zaXQnLFxuICAgICAgICAnRmlhdCcsXG4gICAgICAgICdMT0NBTEJBTksnLFxuICAgICAgICAnT25saW5lVHJhbnNmZXInLFxuICAgICAgICAnWldiYW5rdHJhbnNmZXJzJyxcbiAgICAgICAgJ2xvY2FsYmFua3RyYW5zZmVyJyxcbiAgICAgICAgJ0JhbmsgdHJhbnNmZXIgQmFuayB3aXJlJyxcbiAgICBdLFxuICAgICdCYW5rIHdpcmUnOiBbXG4gICAgICAgICdiYW5rJyxcbiAgICAgICAgJ0JhbmsnLFxuICAgICAgICAnQkFOSycsXG4gICAgICAgICdiYW5rIHBheW1lbnQnLFxuICAgICAgICAnYmFua3MnLFxuICAgICAgICAnQmFua3MnLFxuICAgICAgICAnYmFuayB3aXJlJyxcbiAgICAgICAgJ2Jhbmt3aXJlJyxcbiAgICAgICAgJ0Jhbmsgd2lyZScsXG4gICAgICAgICdCYW5rd2lyZScsXG4gICAgICAgICdCYW5rIFdpcmUnLFxuICAgICAgICAnQmFua1dpcmUnLFxuICAgICAgICAnQkFOS1dJUkUnLFxuICAgICAgICAnQmFuayB3aXJlIGFuZCBlLXdhbGxldHMnLFxuICAgICAgICAnQmFuayB3aXJlIGFuZCBFLXdhbGxldHMnLFxuICAgICAgICAnQmFuayB3aXJlcycsXG4gICAgICAgICdCYW5rd2lyZXMnLFxuICAgICAgICAnYmFuayB3aXJlcyBhbmQgZS13YWxsZXQnLFxuICAgICAgICAnQmFuayB3aXJlcyBhbmQgZS13YWxsZXRzJyxcbiAgICAgICAgJ0JhbmtXaXJlIHRyYW5zZmVyJyxcbiAgICAgICAgJ0Utd2FsbGV0cyBhbmQgYmFuayB3aXJlcycsXG4gICAgICAgICdsb2NhbCBiYW5rIHdpcmUnLFxuICAgICAgICAnTG9jYWxCYW5rV2lyZScsXG4gICAgICAgICdMb2NhbEJhbmt3aXJlJyxcbiAgICAgICAgJ1dpcmUgQmFuayBUcmFuc2ZlcicsXG4gICAgICAgICdXSVJFIFRSQU5TRkVSJyxcbiAgICAgICAgJ0JhbmsgV2lyZSB0cmFuc2ZlcicsXG4gICAgICAgICdGaWF0JyxcbiAgICAgICAgJ09ubGluZVRyYW5zZmVyJyxcbiAgICAgICAgJ0JhbmsgdHJhbnNmZXIgQmFuayB3aXJlJyxcbiAgICBdLFxuICAgIEJhbmtBQkM6IFsnQmFua0FCQycsICdCQU5DQUJDIEJBTksnXSxcbiAgICAnQmFuayBCVE4nOiBbJ0JhbmsgQlROJywgJ0JUTiddLFxuICAgICdCYW5rIG9mIHRoZSBQaGlsaXBwaW5lIElzbGFuZHMgKEJQSSknOiBbJ0Jhbmsgb2YgdGhlIFBoaWxpcHBpbmUgSXNsYW5kcyAoQlBJKScsICdCUEknXSxcbiAgICAnQkNBIGJhbmsnOiBbJ0JDQSBiYW5rJywgJ0JDQScsICdCYW5rQkNBJywgJ2JjYSddLFxuICAgICdCRE8gVW5pYmFuayc6IFsnQkRPIFVuaWJhbmsnLCAnQkRPJ10sXG4gICAgQkhJTTogWydCSElNJywgJ0JoaW0nLCAnQmFua3MgQkhJTVVQIEJUQyBFd2FsbGV0IEdvb2dsZVBheSBMb2NhbEJhbmsgUGF5cGFsIFBheXRtIFBlcmZlY3QgTW9uZXkgUGhvbmVQaGUnXSxcbiAgICAnQk1DRSBCYW5rJzogWydCTUNFIEJhbmsnLCAnQm1jZSBCYW5rJ10sXG4gICAgJ0NBQlMgQmFuayc6IFsnQ0FCUyBCYW5rJywgJ0NhYnMgYmFuaycsICdDQUJTIHRyYW5zZmVyJ10sXG4gICAgQ2FyZDogW1xuICAgICAgICAnQ2FyZCcsXG4gICAgICAgICdjYXJkJyxcbiAgICAgICAgJ2NhcmRzJyxcbiAgICAgICAgJ0NhcmRzJyxcbiAgICAgICAgJ0NyZWRpdCBjYXJkJyxcbiAgICAgICAgJ0RlYml0IENhcmQnLFxuICAgICAgICAnTWFzdGVyY2FyZCcsXG4gICAgICAgICdNYXN0ZXJDYXJkJyxcbiAgICAgICAgJ3Zpc2EnLFxuICAgICAgICAnVmlzYScsXG4gICAgICAgICdWSVNBJyxcbiAgICAgICAgJ1Zpc2EgY2FyZCcsXG4gICAgICAgICdCYW5rIGNhcmRzJyxcbiAgICAgICAgJ0NhcnRlaXJhcyBFbGVjdHJvbmljYXMnLFxuICAgICAgICAnRmlhdCcsXG4gICAgICAgICdNYXN0ZXIgY2FyZCcsXG4gICAgXSxcbiAgICBDYXNoOiBbXG4gICAgICAgICdjYXNoJyxcbiAgICAgICAgJ0Nhc2gnLFxuICAgICAgICAnQ2FzaCBkZXBvc2l0JyxcbiAgICAgICAgJ0Nhc2ggZGVwb3NpdHMnLFxuICAgICAgICAnQ2FzaCBpbiBVU0Qgb3IgTG9jYWwnLFxuICAgICAgICAnZWxlY3Ryb25pYyB0cmFuc2ZlcnMgYW5kIGNhc2ggZGVwb3NpdHMnLFxuICAgICAgICAnRk5CIGNhc2ggZGVwb3NpdCcsXG4gICAgICAgICdwaHlzaWNhbCBsb2NhbCBhbmQgZm9yZWlnbiBiYW5rIG5vdGVzJyxcbiAgICAgICAgJ1VTRCcsXG4gICAgICAgICdVU0QgY2FzaCcsXG4gICAgICAgICdDYXNoIERlcG9zaXQnLFxuICAgICAgICAnRmlhdCcsXG4gICAgICAgICdJTlInLFxuICAgICAgICAnVVNEQ2FzaCcsXG4gICAgICAgICdad2Nhc2gnLFxuICAgIF0sXG4gICAgJ0Nhc2ggc2VuZCBBQlNBIGJhbmsnOiBbXG4gICAgICAgICdDYXNoIHNlbmQgQUJTQSBiYW5rJyxcbiAgICAgICAgJ0FCU0EgQ2FzaCBTZW5kJyxcbiAgICAgICAgJ0Nhc2hzZW5kJyxcbiAgICAgICAgJ0Nhc2ggU2VuZCcsXG4gICAgICAgICdDYXNoU2VuZCcsXG4gICAgICAgICdjYXNoIHNlbmQgQWJzYScsXG4gICAgICAgICdDYXNoIHNlbmQgQWJzYSBiYW5rJyxcbiAgICBdLFxuICAgICdDaGlwcGVyIENhc2gnOiBbJ0NoaXBwZXIgQ2FzaCcsICdDaGlwcGVyJywgJ0NoaXBwZXJjYXNoJywgJ0NoaXBwZXJjaGFzaCddLFxuICAgICdDSUggQmFuayc6IFsnQ0lIIEJhbmsnLCAnQ2loIEJhbmsnXSxcbiAgICBDSU1COiBbJ0NJTUInLCAnQ0lNQk5JQUdBJywgJ05JQUdBJ10sXG4gICAgJ0NpdHkgSG9wcGVyJzogWydDaXR5IGhvcHBlcicsICdDaXR5IEhvcHBlciddLFxuICAgICdDby1vcGVyYXRpdmUgQmFuayBvZiBLZW55YSc6IFsnQ28tb3BlcmF0aXZlIEJhbmsgb2YgS2VueWEnLCAnY29vcGVyYXRpdmViYW5rJ10sXG4gICAgJ0NvbW1lcmNpYWwgQmFuayc6IFsnQ29tbWVyY2lhbCBCYW5rJywgJ0NvbW1lcmNpYWxiYW5rJ10sXG4gICAgJ0NSREIgQmFuayc6IFsnQ1JEQiBCYW5rJywgJ0NSREJCQU5LJ10sXG4gICAgQ3J5cHRvOiBbXG4gICAgICAgICdCYW5rcyBCSElNVVAgQlRDIEV3YWxsZXQgR29vZ2xlUGF5IExvY2FsQmFuayBQYXlwYWwgUGF5dG0gUGVyZmVjdCBNb25leSBQaG9uZVBoZScsXG4gICAgICAgICdiaXRjb2luJyxcbiAgICAgICAgJ0JpdGNvaW4nLFxuICAgICAgICAnQklUQ09JTicsXG4gICAgICAgICdiaXRjb2lucycsXG4gICAgICAgICdCaXRjb2lucycsXG4gICAgICAgICdidGMnLFxuICAgICAgICAnQlRDJyxcbiAgICAgICAgJ2J0YyBzbWVnYScsXG4gICAgICAgICdDcmlwdG8nLFxuICAgICAgICAnY3J5cHRvJyxcbiAgICAgICAgJ0NyeXB0bycsXG4gICAgICAgICdDeXB0b2N1cnJlbmN5JyxcbiAgICAgICAgJ2NyeXB0b2N1cnJlbmNpZXMnLFxuICAgICAgICAnQ3J5cHRvY3VycmVuY2llcycsXG4gICAgICAgICdDcnlwdG8gQ3VycmVuY2llcycsXG4gICAgICAgICdDUllQVE9DVVJSRU5DSUVTJyxcbiAgICAgICAgJ2NyeXB0b2N1cnJlbmN5JyxcbiAgICAgICAgJ0NyeXB0b2N1cnJlbmN5JyxcbiAgICAgICAgJ0NSWVBUT0NVUlJFTkNZJyxcbiAgICAgICAgJ0NyeXB0b3MnLFxuICAgICAgICAnRVRIJyxcbiAgICAgICAgJ2VVU0RUJyxcbiAgICAgICAgJ0VVU0RUJyxcbiAgICAgICAgJ0xUQycsXG4gICAgICAgICdUZXRoZXInLFxuICAgICAgICAnVFJPTicsXG4gICAgICAgICdVU0RDJyxcbiAgICAgICAgJ1VTRFQnLFxuICAgICAgICAnVVNUJyxcbiAgICAgICAgJ1dlIGFjY2VwdCBDcnlwdG8nLFxuICAgICAgICAnQkNIJyxcbiAgICAgICAgJ0J0YycsXG4gICAgICAgICdDcmlwdG9tb2VkYXMnLFxuICAgICAgICAnQ3J5cHRvIFBheW1lbnQnLFxuICAgICAgICAnQ3J5cHRvIHRyYW5zZmVyJyxcbiAgICAgICAgJ0NyeXB0b1RyYW5zZmVyJyxcbiAgICAgICAgJ0UtV2FsbGV0cyBhbmQgQ3J5cHRvJyxcbiAgICAgICAgJ0Utd2FsbGV0cyBhbmQgQ3J5cHRvJyxcbiAgICAgICAgJ0V0aGVyZXVtJyxcbiAgICAgICAgJ0V0aGVyaXVtJyxcbiAgICAgICAgJ0xpdGVjb2luJyxcbiAgICAgICAgJ1NrcmlsbCBOZXRlbGxlciBDcnlwdG8nLFxuICAgICAgICAnU2tyaWxsQ3J5cHRvJyxcbiAgICAgICAgJ1RldGhlciBFUkMyMCcsXG4gICAgICAgICdUZXRoZXIgT21uaScsXG4gICAgICAgICdUaGV0aGVyJyxcbiAgICAgICAgJ1VzZHQnLFxuICAgICAgICAnY3J5cHRvcycsXG4gICAgICAgICdldGhlcmV1bScsXG4gICAgICAgICdsaXRlY29pbicsXG4gICAgXSxcbiAgICAnRGlhbW9uZCBCYW5rJzogWydEaWFtb25kIGJhbmsnLCAnRGlhbW9uZCBCYW5rJywgJ0RpYW1vbmRCYW5rJ10sXG4gICAgJ0UtTW9sYSc6IFsnRS1Nb2xhJywgJ0UtbW9sYScsICdFbW9sYSddLFxuICAgICdFLW1vbmV5JzogWydFLW1vbmV5JywgJ2UgbW9uZXknXSxcbiAgICAnRS1wYXltZW50JzogW1xuICAgICAgICAnRS1wYXltZW50JyxcbiAgICAgICAgJ2FsbCBmb3JtIG9mIEUtcGF5bWVudHMnLFxuICAgICAgICAnQWxsIGZvcm0gb2YgRS1wYXltZW50cycsXG4gICAgICAgICdhbGwgZm9ybXMgb2YgRS1wYXltZW50cycsXG4gICAgICAgICdhbmQgYWxsIG90aGVyIGZvcm1zIG9mIEVwYXltZW50JyxcbiAgICAgICAgJ2JhbmsgdHJhbnNmZXIgYW5kIGFsbCBmb3JtIG9mIEUtcGF5bWVudHMnLFxuICAgICAgICAnQmFuayBUcmFuc2ZlciBhbmQgYWxsIEZvcm1zIG9mIEUtcGF5bWVudHMnLFxuICAgICAgICAnRS1wYXltZW50cycsXG4gICAgICAgICdFcGF5bWVudHMnLFxuICAgICAgICAnQWxsIGZvcm1zIG9mIEUtUGF5bWVudHMnLFxuICAgICAgICAnRGlnaXRhbFBheW1lbnQnLFxuICAgICAgICAnT25saW5lVHJhbnNmZXInLFxuICAgICAgICAnYWxsIGZvcm1zIG9mIEUtUGF5bWVudCcsXG4gICAgXSxcbiAgICAnRS10cmFuc2Zlcic6IFsnRS10cmFuc2ZlcicsICdlbGVjdHJvbmljIHRyYW5zZmVycyBhbmQgY2FzaCBkZXBvc2l0cycsICdFLVRyYW5zZmVycycsICdPbmxpbmVUcmFuc2ZlciddLFxuICAgICdFLXdhbGxldCc6IFtcbiAgICAgICAgJ0JhbmtzIEJISU1VUCBCVEMgRXdhbGxldCBHb29nbGVQYXkgTG9jYWxCYW5rIFBheXBhbCBQYXl0bSBQZXJmZWN0IE1vbmV5IFBob25lUGhlJyxcbiAgICAgICAgJ0JhbmsgYW5kIEUtd2FsbGV0JyxcbiAgICAgICAgJ2JhbmsgZXdhbGxldCcsXG4gICAgICAgICdCYW5rIHdpcmUgYW5kIGUtd2FsbGV0cycsXG4gICAgICAgICdCYW5rIHdpcmUgYW5kIEUtd2FsbGV0cycsXG4gICAgICAgICdiYW5rIHdpcmVzIGFuZCBlLXdhbGxldCcsXG4gICAgICAgICdCYW5rIHdpcmVzIGFuZCBlLXdhbGxldHMnLFxuICAgICAgICAnRGlnaXRhbCBXYWxsZXRzJyxcbiAgICAgICAgJ2VsZWN0cm9uaWMgd2FsbGV0cycsXG4gICAgICAgICdlLXdhbGxlcnMnLFxuICAgICAgICAnZS13YWxsZXQnLFxuICAgICAgICAnZXdhbGxldCcsXG4gICAgICAgICdlV2FsbGV0JyxcbiAgICAgICAgJ0Utd2FsbGV0JyxcbiAgICAgICAgJ0V3YWxsZXQnLFxuICAgICAgICAnRVdBTExFVCcsXG4gICAgICAgICdFLXdhbGxldCBCYW5rIHRyYW5zZmVyJyxcbiAgICAgICAgJ0Ugd2FsbGV0IEZOQicsXG4gICAgICAgICdFLXdhbGxldCBwYXltZW50JyxcbiAgICAgICAgJ0V3YWxsZXQgcGF5bWVudCcsXG4gICAgICAgICdlLXdhbGxldHMnLFxuICAgICAgICAnZXdhbGxldHMnLFxuICAgICAgICAnZS1XYWxsZXRzJyxcbiAgICAgICAgJ2UtV0FMTEVUUycsXG4gICAgICAgICdFLSB3YWxsZXRzJyxcbiAgICAgICAgJ0Utd2FsbGV0cycsXG4gICAgICAgICdFd2FsbGV0cycsXG4gICAgICAgICdFLVdhbGxldHMnLFxuICAgICAgICAnRS13YWxsZXRzIGFuZCBiYW5rIHdpcmVzJyxcbiAgICAgICAgJ2ZuYiBld2FsbGV0JyxcbiAgICAgICAgJ01ZIFdBTExFVCcsXG4gICAgICAgICd3YWxsZXQnLFxuICAgICAgICAnQmFuayB0cmFuc2ZlciBhbmQgZS13YWxsZXRzJyxcbiAgICAgICAgJ0UtV2FsbGV0cyBhbmQgQ3J5cHRvJyxcbiAgICAgICAgJ0Utd2FsbGV0cyBhbmQgQ3J5cHRvJyxcbiAgICAgICAgJ0UtV2FsbGV0JyxcbiAgICAgICAgJ0VXYWxsZXRzJyxcbiAgICAgICAgJ0ZpYXQnLFxuICAgICAgICAnT25saW5lVHJhbnNmZXInLFxuICAgICAgICAnZXdhbGxsZXRzJyxcbiAgICAgICAgJ2V3YWxsdGV0cycsXG4gICAgICAgICdsb2NhbCBiYW5rIHdhbGxldHMgYW5kIE9yYW5nZSBtb25leScsXG4gICAgXSxcbiAgICBFYXN5cGFpc2E6IFsnZWFzeXBhaXNhJywgJ0Vhc3kgcGFpc2EnLCAnRWFzeXBhaXNhJywgJ0Vhc3kgUGFpc2EnLCAnRWFzeVBhaXNhVHJhbnNmZXInXSxcbiAgICBFY29iYW5rOiBbJ0Vjb2JhbmsnLCAnRWNvIEJhbmsnLCAnRUNPIEJBTksnLCAnRWNvIGJhbmsgVHJhbnNmZXJzJ10sXG4gICAgRWNvQ2FzaDogW1xuICAgICAgICAnRWNvIGNhc2gnLFxuICAgICAgICAnRWNvY2FzaCcsXG4gICAgICAgICdFY29DYXNoJyxcbiAgICAgICAgJ0VDT0NBU0gnLFxuICAgICAgICAnRWNvY2FzaCBGQ0EnLFxuICAgICAgICAnRWNvY2FzaCBtZXRob2QnLFxuICAgICAgICAnRUNPQ0FTSCBXQUxMRVQnLFxuICAgICAgICAnRWNvY2FzaCBaV0wnLFxuICAgICAgICAnRWNvY2FzaE1vYmlsZU1vbmV5JyxcbiAgICAgICAgJ1p3ZWNvY2FzaCcsXG4gICAgXSxcbiAgICAnRWxlY3Ryb25pYyBGdW5kcyBUcmFuc2ZlciAoRUZUKSc6IFsnRWxlY3Ryb25pYyBGdW5kcyBUcmFuc2ZlciAoRUZUKScsICdFRlQnXSxcbiAgICAnRXF1aXR5IEJhbmsnOiBbJ0VxdWl0eSBiYW5rJywgJ0VxdWl0eSBCYW5rJywgJ2VxdWl0eWJhbmttb25leXRyYW5zZmVyJ10sXG4gICAgJ0VVIE1vYmlsZSBNb25leSc6IFsnRVUgTW9iaWxlIE1vbmV5JywgJ2FsbCBtb2JpbGUgbW9uZXknLCAnRVUgTU9ORVknXSxcbiAgICBFenlQZXNhOiBbJ0V6eVBlc2EnLCAnRXp5cGVzYScsICdFenp5IHBlc2EnLCAnRXp6eSBQZXNhJywgJ0V6enlQZXNhJ10sXG4gICAgRmFzYVBheTogWydmYXNhcGF5JywgJ0Zhc2EgcGF5JywgJ0Zhc2FQYXknXSxcbiAgICAnRmFzdCBQYXltZW50JzogWydGYXN0IHBheW1lbnQnLCAnRmFzdCBQYXltZW50J10sXG4gICAgJ0ZheXNhbCBCYW5rJzogWydGYXlzYWwgQmFuaycsICdGYXlzYWxCYW5rJ10sXG4gICAgJ0ZCQyBCYW5rJzogWydGQkMgQmFuaycsICdGQkMgQkFOSyddLFxuICAgICdGaWRlbGl0eSBCYW5rJzogWydGaWRlbGl0eSBCYW5rJywgJ2ZpZGVsaXR5YmFuayddLFxuICAgIEZpbmJhbms6IFsnRmluYmFuaycsICdGaW4gYmFuaycsICdGaW5CYW5rJ10sXG4gICAgJ0ZpcnN0IEJhbmsgb2YgTmlnZXJpYSc6IFtcbiAgICAgICAgJ0ZpcnN0IEJhbmsgb2YgTmlnZXJpYScsXG4gICAgICAgICdGaXJzdCBiYW5rJyxcbiAgICAgICAgJ0ZpcnN0IEJhbmsnLFxuICAgICAgICAnRmlyc3RCYW5rJyxcbiAgICAgICAgJ0ZJUlNUIEJBTksnLFxuICAgICAgICAnRmlyc3RiYW5rJyxcbiAgICBdLFxuICAgICdGaXJzdCBDaXR5IE1vbnVtZW50IEJhbmsgKEZDTUIpJzogWydGaXJzdCBDaXR5IE1vbnVtZW50IEJhbmsgKEZDTUIpJywgJ0ZDTUInLCAnZmNtYiddLFxuICAgICdGaXJzdCBNaWNyb0ZpbmFuY2VCYW5rIChGTUZCKSc6IFsnRmlyc3QgTWljcm9GaW5hbmNlQmFuayAoRk1GQiknLCAnRk1GQiddLFxuICAgICdGaXJzdCBOYXRpb25hbCBCYW5rIChGTkIpJzogW1xuICAgICAgICAnRmlyc3QgTmF0aW9uYWwgQmFuayAoRk5CKScsXG4gICAgICAgICdEaXJlY3QgZGVwb3NpdCBGTkIgYW5kIEFCU0EnLFxuICAgICAgICAnRSB3YWxsZXQgRk5CJyxcbiAgICAgICAgJ0ZpcnN0IE5hdGlvbmFsIEJhbmsnLFxuICAgICAgICAnZm5iJyxcbiAgICAgICAgJ0ZOQicsXG4gICAgICAgICdGTkIgQVRNIGRlcG9zaXQnLFxuICAgICAgICAnRm5iYmFuaycsXG4gICAgICAgICdGTkIgQmFuaycsXG4gICAgICAgICdGTkJCIEJhbmsgVHJhbnNmZXInLFxuICAgICAgICAnRk5CIGNhc2ggZGVwb3NpdCcsXG4gICAgICAgICdmbmIgZXdhbGxldCcsXG4gICAgICAgICdGTkIgRmlyc3QgTmF0aW9uYWwgQmFuaycsXG4gICAgICAgICdGTkIgcGF5MmNlbGwnLFxuICAgICAgICAnRk5CIHBheSB0byBjZWxsJyxcbiAgICAgICAgJ0ZOQiBwYXkgdG8gc2VsbCcsXG4gICAgICAgICdQYXkgdG8gY2VsbCBGTkInLFxuICAgICAgICAnRk5CIGJhbmsgdHJhbnNmZXInLFxuICAgICAgICAnRk5CQicsXG4gICAgICAgICdGTkJCYW5rJyxcbiAgICAgICAgJ0Zpck5hdGlvbmFsQmFuaycsXG4gICAgICAgICdGaXJzdCBOYXRpb25hbCBCYW5rIG9mIEJvdHN3YW5hJyxcbiAgICAgICAgJ0ZpcnN0bmF0aW9uYWxiYW5rJyxcbiAgICAgICAgJ0ZuYicsXG4gICAgXSxcbiAgICBHbW9uZXk6IFsnR21vbmV5JywgJ0dNT05FWSddLFxuICAgICdHb29nbGUgUGF5JzogW1xuICAgICAgICAnR29vZ2xlIFBheScsXG4gICAgICAgICdCYW5rcyBCSElNVVAgQlRDIEV3YWxsZXQgR29vZ2xlUGF5IExvY2FsQmFuayBQYXlwYWwgUGF5dG0gUGVyZmVjdCBNb25leSBQaG9uZVBoZScsXG4gICAgICAgICdHb29nbGUgcGF5JyxcbiAgICAgICAgJ2dwYXknLFxuICAgICAgICAnR3BheScsXG4gICAgICAgICdHUGF5JyxcbiAgICBdLFxuICAgICdHcnVwIEJDQSc6IFsnR3J1cCBCQ0EnLCAnR3J1cEJDQSddLFxuICAgICdHVCBiYW5rJzogW1xuICAgICAgICAnR1QgYmFuaycsXG4gICAgICAgICdHdGInLFxuICAgICAgICAnR1RCJyxcbiAgICAgICAgJ0d0IEJhbmsnLFxuICAgICAgICAnR1QgQmFuaycsXG4gICAgICAgICdHVEJhbmsnLFxuICAgICAgICAnR1QgQkFOSycsXG4gICAgICAgICdHdGJhbmsnLFxuICAgICAgICAnR3VhcmFudGVlIFRydXN0IEJhbmsnLFxuICAgICAgICAnR3VhcmFudHlUcnVzdEJhbmsnLFxuICAgIF0sXG4gICAgSGFsb3Blc2E6IFsnaGFsb3Blc2EnLCAnSGFsbyBwZXNhJywgJ0hhbG9wZXNhJywgJ0hhbG8gUGVzYScsICdIYWxvUGVzYScsICdIQUxPUEVTQSddLFxuICAgICdIYXR0b24gTmF0aW9uYWwgQmFuayc6IFsnSGF0dG9uIE5hdGlvbmFsIEJhbmsnLCAnSGF0dG9uTmF0aW9uYWxCYW5rJ10sXG4gICAgSEJMOiBbJ0hCTCcsICdIQkxNRkInLCAnS09OTkVUIEhCTCddLFxuICAgIEhlbHAyUGF5OiBbJ0hlbHAyUGF5JywgJ2hlbHAycGF5J10sXG4gICAgJ0hOQiBCYW5rJzogWydITkIgQmFuaycsICdITkInXSxcbiAgICAnSU1QUyBUcmFuc2Zlcic6IFsnaW1wcycsICdJbXBzJywgJ0lNUFMnLCAnSU1QUyBUcmFuc2ZlciddLFxuICAgICdJTkcgQmFuayc6IFsnSU5HIEJhbmsnLCAnSU5HJ10sXG4gICAgSW5uYnVja3M6IFsnSW5uYnVja3MnLCAnSU5OQlVDS1MnXSxcbiAgICAnSW5zdGFudCBNb25leSc6IFtcbiAgICAgICAgJ0luc3RhbnQgTW9uZXknLFxuICAgICAgICAnSW5zdGFudE1vbmV5JyxcbiAgICAgICAgJ0luc3RhbnQgbW9uZXkgc3RhbWJpYyBiYW5rJyxcbiAgICAgICAgJ0luc3RhbnQgbW9uZXkgc3RhbmJpYycsXG4gICAgICAgICdJbnN0YW50IG1vbmV5JyxcbiAgICBdLFxuICAgICdJbnRlciBCYW5rIEZ1bmQgVHJhbnNmZXInOiBbJ0ludGVyIEJhbmsgRnVuZCBUcmFuc2ZlcicsICdJbnRlckJhbmtmdW5kdHJhbnNmZXInLCAnSW50ZXJiYW5rIFRyYW5zZmVyJ10sXG4gICAgJ0l0YXUgQmFuayc6IFsnSXRhdSBCYW5rJywgJ0l0YXUnXSxcbiAgICBJWkk6IFsnSVpJJywgJ0l6enknXSxcbiAgICBKYXp6Q2FzaDogWydKYXp6Q2FzaCcsICdqYXp6Y2FzaCcsICdKYXp6IGNhc2gnLCAnSmF6emNhc2gnLCAnSmF6ei1DYXNoJywgJ0phenpDYXNoVHJhbnNmZXInXSxcbiAgICBKRU5JVVM6IFsnSkVOSVVTJywgJ0plbml1cyddLFxuICAgIEpldG9uOiBbJ0pldG9uJywgJ2pldG9uJywgJ0pldG9uV2FsbGV0J10sXG4gICAgJ0tleSBTdG9uZSBCYW5rJzogWydLZXkgU3RvbmUgQmFuaycsICdLZXlzdG9uZSddLFxuICAgICdLdWRhIEJhbmsnOiBbXG4gICAgICAgICdLdWRhIEJhbmsnLFxuICAgICAgICAnS1VEQSBCQU5LJyxcbiAgICAgICAgJ0t1ZGEgTUZCJyxcbiAgICAgICAgJ0t1ZGFNRkInLFxuICAgICAgICAnS1VEQSBNSUNST0ZJTkFOQ0UgQkFOSyAyMDE0NTYzOTM3JyxcbiAgICAgICAgJ0t1ZGEgTWljcm9maW5hbmNlJyxcbiAgICAgICAgJ0tVREEnLFxuICAgIF0sXG4gICAgJ0x1bm8gV2FsbGV0JzogWydMdW5vIFdhbGxldCcsICdMdW5vJywgJ0x1bm8gY3J5cHRvIHdhbGxldCcsICdMdW5vIGUtd2FsbGV0JywgJ0x1bm8gZXdhbGxldCcsICdsdW5vJ10sXG4gICAgJ01hbmRpcmkgQmFuayc6IFsnTWFuZGlyaSBCYW5rJywgJ01hbmRpcmknLCAnTUFORElSSScsICdNYW5kaXJpU3lhcmlhaCcsICdCYW5rTWFuZGlyaSddLFxuICAgICdNZWV6YW4gQmFuayc6IFsnTWVlemFuIEJhbmsnLCAnTWVlemFuQmFuayddLFxuICAgICdNaWxsZW5pdW0gQmltIFZpc2EnOiBbJ01pbGxlbml1bSBCaW0gVmlzYScsICdNaWxsZW5pdW0gQmltJ10sXG4gICAgTUlYOiBbJ21peCcsICdNaXgnLCAnTUlYJywgJ01peGVkJ10sXG4gICAgJ01vYmlsZSBtb25leSc6IFtcbiAgICAgICAgJ2FsbCBtb2JpbGUgbW9uZXknLFxuICAgICAgICAnbW9iaWxlIGJhbmtpbmcnLFxuICAgICAgICAnTW9iaWxlIGJhbmtpbmcnLFxuICAgICAgICAnTW9iaWxlIG1vbmV5JyxcbiAgICAgICAgJ01vYmlsZSBNb25leScsXG4gICAgICAgICdNb2JpbGVNb25leScsXG4gICAgICAgICdNb2JpbGUgbW9uZXkgTVROJyxcbiAgICAgICAgJ01vYmlsZSBNb25leSB0cmFuc2ZlcicsXG4gICAgICAgICdNT0JJTEUgTU9ORVkgVFJBTlNGRVInLFxuICAgICAgICAnTW9iaWxlIG1vbmV5IHRyYW5zZmVycycsXG4gICAgICAgICdNb2JpbGVtb25leW9wdGlvbicsXG4gICAgICAgICdPbmxpbmVUcmFuc2ZlcicsXG4gICAgXSxcbiAgICAnTW9qbyBNdWxhJzogWydNb2pvIG1vbmV5JywgJ01vam8gTXVsYScsICdNT0pPIE1VTEEnLCAnTW9NbyBwYXknLCAnTW9qbyBNb29sYWgnXSxcbiAgICBNb01vOiBbJ01vTW8nLCAnTU9NTycsICdNb01vIHBheScsICdNVE4gTU9NTycsICdNVE5NT01PJ10sXG4gICAgTW9uZXlHcmFtOiBbJ01vbmV5Z3JhbScsICdNb25leSBHcmFtJywgJ01vbmV5R3JhbScsICdNb25leSBncmFtZSddLFxuICAgICdNLVBFU0EnOiBbXG4gICAgICAgICdBYmVzYWZhcmljb21NcGVzYSBUcmFuc2ZlcnMnLFxuICAgICAgICAnbXBlc2EnLFxuICAgICAgICAnTSBwZXNhJyxcbiAgICAgICAgJ00tcGVzYScsXG4gICAgICAgICdNcGVzYScsXG4gICAgICAgICdNIFBlc2EnLFxuICAgICAgICAnTS1QZXNhJyxcbiAgICAgICAgJ01QZXNhJyxcbiAgICAgICAgJ00gUEVTQScsXG4gICAgICAgICdNLVBFU0EnLFxuICAgICAgICAnTVBFU0EnLFxuICAgICAgICAnTS1QZXNhIFRpZ28tUGVzYSBULVBlc2EnLFxuICAgICAgICAnUGVzYScsXG4gICAgICAgICdzYWZhcmljb20gbXBlc2EnLFxuICAgICAgICAnTVBFU0EgMDcxMDM5Mzk0NyBBbGJlcnQgS3lhbG8nLFxuICAgICAgICAnVm9kYWNvbU1wZXNhJyxcbiAgICBdLFxuICAgICdNVE4gTU9NTyc6IFtcbiAgICAgICAgJ2FsbCBtb2JpbGUgbW9uZXknLFxuICAgICAgICAnTW9iaWxlIG1vbmV5IE1UTicsXG4gICAgICAgICdNb01vJyxcbiAgICAgICAgJ01PTU8nLFxuICAgICAgICAnTVROJyxcbiAgICAgICAgJ01UTiBtb2JpbGUgbW9uZXknLFxuICAgICAgICAnTVROIE1vYmlsZSBtb25leScsXG4gICAgICAgICdNVE4gTW9iaWxlIE1vbmV5JyxcbiAgICAgICAgJ01UTiBNT0JJTEUgTU9ORVknLFxuICAgICAgICAnTVROTU9CSUxFTU9ORVknLFxuICAgICAgICAnTVROIE1PTU8nLFxuICAgICAgICAnTVROTU9NTycsXG4gICAgICAgICdNVE4gTU9ORVknLFxuICAgIF0sXG4gICAgJ011a3VydSBtb25leSB0cmFuc2ZlcnMnOiBbJ011a3VydScsICdNdWt1cnUgbW9uZXkgdHJhbnNmZXJzJywgJ011a3VydU1vbmV5VHJhbnNmZXInLCAnVVNETXVrdXJ1dHJhbnNmZXInXSxcbiAgICAnTXlaYWthIE1hc2NvbSBNb25leSc6IFtcbiAgICAgICAgJ015WmFrYSBNYXNjb20gTW9uZXknLFxuICAgICAgICAnbWFzY29tJyxcbiAgICAgICAgJ21hc2NvbSBteVpha2EnLFxuICAgICAgICAnTWFzY29tIE15WmFrYScsXG4gICAgICAgICdteXpha2EnLFxuICAgICAgICAnTXkgemFrYScsXG4gICAgICAgICdNeXpha2EnLFxuICAgICAgICAnTXlaYWthJyxcbiAgICAgICAgJ015IHpha2EgbWFzY29tIG1vbmV5JyxcbiAgICAgICAgJ215IFpha2EnLFxuICAgICAgICAnbXl6YWFrYScsXG4gICAgXSxcbiAgICBOZWZ0OiBbJ25lZnQnLCAnTmVmdCcsICdORUZUJ10sXG4gICAgTmVxdWk6IFsnTmVxdWknLCAnTmVxdWkgbyBEYXZpcGxhdGEgYWwgMzAwIDY4MzkwMjYnXSxcbiAgICBOZXRlbGxlcjogWyduZVRlbGxlcicsICdOZXRlbGxlcicsICdORVRFTExFUicsICdORVRlbGxlJywgJ1NrcmlsbCBOZXRlbGxlciBDcnlwdG8nLCAnbmV0ZWxsZXInLCAnbmV0dGVsbGVyJ10sXG4gICAgJ05pZ2VyaWEgbG9jYWwgYmFuayc6IFsnTmlnZXJpYSBMb2NhbCcsICdOaWdlcmlhIGxvY2FsIGJhbmsnLCAnTklHRVJJQSBMT0NBTCBCQU5LJ10sXG4gICAgJ05NQiBCYW5rJzogWydOTUIgQmFuaycsICdOQVRJT05BTE1JQ1JPRklOQU5DRUJBTksnLCAnTm1iIGJhbmsnXSxcbiAgICAnT25lIE1vbmV5JzogWydPTScsICdPbmVtb25leScsICdPbmUgTW9uZXknLCAnT25lIG1vbmV5IHNlcnZpY2UnLCAnT25lTW9uZXknLCAnT25lTW9uZXlNb2JpbGVNb25leSddLFxuICAgIE9wYXk6IFsnT3BheScsICdPUEFZJ10sXG4gICAgJ09yYW5nZSBNb25leSBUcmFuc2Zlcic6IFtcbiAgICAgICAgJ0Fic2EgZnVuZCB0cmFuc2ZlciBhbmQgb3JhbmdlIG1vbmV5IHNlcnZpY2VzJyxcbiAgICAgICAgJ09yYW5nZSBDYW1lcm9vbicsXG4gICAgICAgICdvcmFuZ2UgbW9uZXknLFxuICAgICAgICAnb3JhbmdlbW9uZXknLFxuICAgICAgICAnT3JhbmdlIG1vbmV5JyxcbiAgICAgICAgJ09yYW5nZW1vbmV5JyxcbiAgICAgICAgJ09yYW5nZSBNb25leScsXG4gICAgICAgICdPcmFuZ2VNb25leScsXG4gICAgICAgICdPUkFOR0UgTU9ORVknLFxuICAgICAgICAnT3JhbmdlIE1vbmV5IFRyYW5zZmVyJyxcbiAgICAgICAgJ2xvY2FsIGJhbmsgd2FsbGV0cyBhbmQgT3JhbmdlIG1vbmV5JyxcbiAgICBdLFxuICAgIFBhbG1QYXk6IFsnUGFsbVBheScsICdQQUxNUEFZJ10sXG4gICAgJ1BheSBzYWZlIENhcmQnOiBbJ3BheXNhZmVjYXJkJywgJ1BheSBzYWZlIENhcmQnXSxcbiAgICBQYXkyQ2VsbDogW1xuICAgICAgICAnRk5CIHBheTJjZWxsJyxcbiAgICAgICAgJ0ZOQiBwYXkgdG8gY2VsbCcsXG4gICAgICAgICdGTkIgcGF5IHRvIHNlbGwnLFxuICAgICAgICAnUGF5MmNlbGwnLFxuICAgICAgICAnUGF5MkNlbGwnLFxuICAgICAgICAnUEFZMkNFTEwnLFxuICAgICAgICAncGF5IHRvIGNlbGwnLFxuICAgICAgICAnUGF5IHRvIGNlbGwnLFxuICAgICAgICAnUGF5dG9jZWxsJyxcbiAgICAgICAgJ1BheSB0byBDZWxsJyxcbiAgICAgICAgJ1BheSB0byBjZWxsIEZOQicsXG4gICAgICAgICdQYXlUb0NlbGwnLFxuICAgICAgICAncGF5MmNlbGwnLFxuICAgIF0sXG4gICAgJ1BheW1lbnQgQ2hlY2tzJzogWydQYXltZW50IGNoZWNrcycsICdQYXltZW50IENoZWNrcyddLFxuICAgIFBheVBhbDogW1xuICAgICAgICAnQmFua3MgQkhJTVVQIEJUQyBFd2FsbGV0IEdvb2dsZVBheSBMb2NhbEJhbmsgUGF5cGFsIFBheXRtIFBlcmZlY3QgTW9uZXkgUGhvbmVQaGUnLFxuICAgICAgICAnUGF5cGFsJyxcbiAgICAgICAgJ1BheVBhbCcsXG4gICAgICAgICdQQVlQQUwnLFxuICAgICAgICAncGF5cGFsJyxcbiAgICBdLFxuICAgIFBheVRNOiBbJ0JhbmtzIEJISU1VUCBCVEMgRXdhbGxldCBHb29nbGVQYXkgTG9jYWxCYW5rIFBheXBhbCBQYXl0bSBQZXJmZWN0IE1vbmV5IFBob25lUGhlJywgJ1BheXRtJywgJ1BheVRNJ10sXG4gICAgJ1BlcmZlY3QgTW9uZXknOiBbXG4gICAgICAgICdCYW5rcyBCSElNVVAgQlRDIEV3YWxsZXQgR29vZ2xlUGF5IExvY2FsQmFuayBQYXlwYWwgUGF5dG0gUGVyZmVjdCBNb25leSBQaG9uZVBoZScsXG4gICAgICAgICdwZXJmZWN0IG1vbmV5JyxcbiAgICAgICAgJ3BlcmZlY3Rtb25leScsXG4gICAgICAgICdQZXJmZWN0IG1vbmV5JyxcbiAgICAgICAgJ1BlcmZlY3Rtb25leScsXG4gICAgICAgICdQZXJmZWN0IE1vbmV5JyxcbiAgICAgICAgJ1BlcmZlY3RNb25leScsXG4gICAgICAgICdQRVJGRUNUIE1PTkVZJyxcbiAgICAgICAgJ1BlcmZlY3QgTW9uZXkgYW5kIFdlYm1vbmV5JyxcbiAgICAgICAgJ1BNJyxcbiAgICAgICAgJ1BFUkZFQ1RNT05FWScsXG4gICAgICAgICdQRVJGRUNUJyxcbiAgICBdLFxuICAgICdQZXJtYXRhIEJhbmsnOiBbJ1Blcm1hdGEgQmFuaycsICdQZXJtYXRhQmFuaycsICdQRVJNQVRBJ10sXG4gICAgUGhvbmVQaGU6IFtcbiAgICAgICAgJ1Bob25lUGhlJyxcbiAgICAgICAgJ0JhbmtzIEJISU1VUCBCVEMgRXdhbGxldCBHb29nbGVQYXkgTG9jYWxCYW5rIFBheXBhbCBQYXl0bSBQZXJmZWN0IE1vbmV5IFBob25lUGhlJyxcbiAgICAgICAgJ1Bob25lcGF5JyxcbiAgICAgICAgJ3Bob25lcGUnLFxuICAgICAgICAnUGhvbmVwZScsXG4gICAgICAgICdQaG9uZVBlJyxcbiAgICAgICAgJ1Bob25lIHBheScsXG4gICAgICAgICdQaG9uZVBheScsXG4gICAgXSxcbiAgICBQaXg6IFsnUGl4JywgJ1BJWCddLFxuICAgICdQb2xhcmlzIEJhbmsnOiBbJ1BvbGFyaXMgQmFuaycsICdQb2xhcmlzJ10sXG4gICAgJ1BvbnRvIDI0JzogWydDb250YSBtb3ZlbCcsICdDb250YSBNb3ZlbCcsICdDb250YW1vdmVsQkNJJywgJ1BvbnRvIDI0JywgJ1BvbnRvMjQnXSxcbiAgICAnUG9zIGRlcG9zaXQnOiBbJ1BvcycsICdQT1MnLCAnUG9zIGRlcG9zaXQnXSxcbiAgICAnUG9zdGFsIHRyYW5zZmVyJzogWydQb3N0YWwgdHJhbnNmZXInLCAnRWd5cHRpYW4gcG9zdGFsIHRyYW5zZmVycyddLFxuICAgIFJJQTogWydSaWEnLCAnUklBJ10sXG4gICAgJ1JUR1MgVHJhbnNmZXJzJzogWydSVEdTIFRyYW5zZmVycycsICdydGdzJywgJ1JUR1MnLCAnUnRncyBiYW5rIHRyYW5zZmVyJywgJ1JUR1MgdHJhbnNmZXJzJywgJ1J0Z3MnXSxcbiAgICBTYWZhcmljb206IFsnU2FmYXJpY29tJywgJ0FiZXNhZmFyaWNvbU1wZXNhIFRyYW5zZmVycycsICdBYmVTYWZhcmljb21NcGVzYVRyYW5zZmVycycsICdzYWZhcmljb20gbXBlc2EnXSxcbiAgICAnU2FtYSBNb25leSc6IFsnU2FtYSBNb25leScsICdTYW1hIG1vbmV5J10sXG4gICAgU2hvcGVlUGF5OiBbJ1Nob3BlZVBheScsICdTSE9QRUVQQVknXSxcbiAgICBTa3JpbGw6IFtcbiAgICAgICAgJ1NrcmlsbCcsXG4gICAgICAgICdTa2lsbCcsXG4gICAgICAgICdTa3JpbCcsXG4gICAgICAgICdza3JpbGwnLFxuICAgICAgICAnU0tSSUxMJyxcbiAgICAgICAgJ3NrcmlsbHBheW1lbnRzJyxcbiAgICAgICAgJ1NrcmxsJyxcbiAgICAgICAgJ1NrcmlsbENyeXB0bycsXG4gICAgICAgICdTa3JpbGwgTmV0ZWxsZXIgQ3J5cHRvJyxcbiAgICBdLFxuICAgIFNtZWdhOiBbJ2J0YyBzbWVnYScsICdzbWVnYScsICdTbWVnYSddLFxuICAgICdTdGFuZGFyZCBCYW5rIE5hbWliaWEnOiBbJ1N0YW5kYXJkIEJhbmsgTmFtaWJpYScsICdTdGFuZGFyZCBCYW5rJywgJ1N0YW5kYXJkQmFuayddLFxuICAgICdTdGFuYmljIEJhbmsnOiBbXG4gICAgICAgICdJbnN0YW50IG1vbmV5IHN0YW1iaWMgYmFuaycsXG4gICAgICAgICdJbnN0YW50IG1vbmV5IHN0YW5iaWMnLFxuICAgICAgICAnc3RhbmJpYycsXG4gICAgICAgICdTdGFuYmljJyxcbiAgICAgICAgJ1N0YW5iaWMgQmFuaycsXG4gICAgICAgICdTdGFuYmljQmFuaycsXG4gICAgICAgICdTdGFuYmljIEJhbmsgVHJhbnNmZXInLFxuICAgICAgICAnU3RhbmJpYyBNb25leSBUcmFuc2ZlcicsXG4gICAgICAgICdTdGFuZGJpYycsXG4gICAgICAgICdTdGFuYmljIElCVEMnLFxuICAgICAgICAnU3RhbmJpYyBiYW5rJyxcbiAgICBdLFxuICAgICdTdGFuZGFyZCBDaGFydGVkIEJhbmsnOiBbXG4gICAgICAgICdTVEFOQ0hBUlQnLFxuICAgICAgICAnU3RhbmRhcmQgQ2hhcnRlZCBCYW5rJyxcbiAgICAgICAgJ1N0YW5kYXJkIGNoYXJ0ZXJlZCcsXG4gICAgICAgICdTdGFuZGFyZCBjaGFydGVyZWQgYmFuaycsXG4gICAgICAgICdTdGFuZGFyZCBDaGFydGVyZWQgQmFuayBUcmFuc2ZlcicsXG4gICAgICAgICdTdGFuZGFyZCBDaGF0dGVyZCBCYW5rJyxcbiAgICBdLFxuICAgICdTdGV3YXJkIHJlbWl0JzogWydTdGV3YXJkIHJlbWl0JywgJ1N0ZXdhcmQgUmVtbWl0dCddLFxuICAgICdULXBlc2EnOiBbJ00tUGVzYSBUaWdvLVBlc2EgVC1QZXNhJywgJ1Blc2EnLCAnVC1wZXNhJywgJ1RwZXNhJywgJ1QgUEVTQScsICdUVENMcGVzYSddLFxuICAgICdUaWdvIENhc2gnOiBbJ1RpZ28nLCAnVGlnbyBDYXNoJywgJ0FpcnRlbFRpZ28gY2FzaCddLFxuICAgICdUaWdvIE1vYmlsZSBNb25leSc6IFtcbiAgICAgICAgJ1RpZ28gTW9iaWxlIE1vbmV5JyxcbiAgICAgICAgJ0FpcnRlbCBUaWdvJyxcbiAgICAgICAgJ2FsbCBtb2JpbGUgbW9uZXknLFxuICAgICAgICAnVGlnbycsXG4gICAgICAgICdUSUdPIE1PQklMRSBNT05FWScsXG4gICAgICAgICdUSUdPTU9CSUxFTU9ORVknLFxuICAgICAgICAnQWlydGVsVGlnbyBjYXNoJyxcbiAgICBdLFxuICAgICdUaWdvIFBlc2EnOiBbXG4gICAgICAgICdNLVBlc2EgVGlnby1QZXNhIFQtUGVzYScsXG4gICAgICAgICdQZXNhJyxcbiAgICAgICAgJ1RpZ28nLFxuICAgICAgICAndGlnb3Blc2EnLFxuICAgICAgICAnVGlnbyBwZXNhJyxcbiAgICAgICAgJ1RpZ29wZXNhJyxcbiAgICAgICAgJ1RpZ28gUGVzYScsXG4gICAgICAgICdUaWdvUGVzYScsXG4gICAgICAgICdUSUdPIFBFU0EnLFxuICAgICAgICAnVFRDTHBlc2EnLFxuICAgICAgICAnVElHT1BFU0EnLFxuICAgIF0sXG4gICAgJ1RyYW5zZmVyZW5jaWEgYmFuY2FyaWEnOiBbXG4gICAgICAgICdUcmFuc2ZlcmVuY2lhIGJhbmNhcmlhJyxcbiAgICAgICAgJ1RyYW5zZmVyZW5jaWEgRWxldHJvbmljYSBURUQnLFxuICAgICAgICAnVHJhbnNmZXJlbmNpYXMgYmFuY2FyaWFzJyxcbiAgICAgICAgJ1RlZCcsXG4gICAgICAgICdUcmFuc2ZlcmVuY2lhIEJhbmNhcmlhJyxcbiAgICBdLFxuICAgICdVQkEgQmFuayc6IFsnVUJBJywgJ1VCQSBCYW5rJywgJ1VCQSBCQU5LJ10sXG4gICAgJ1VuaW9uIEJhbmsnOiBbJ1VuaW9uIEJhbmsnLCAnVW5pb25iYW5rJywgJ1VuaW9uJ10sXG4gICAgJ1VuaXRlZCBCYW5rIExpbWl0ZWQgKFVCTCknOiBbJ1VuaXRlZCBCYW5rIExpbWl0ZWQgKFVCTCknLCAnVUJMIEJhbmsnXSxcbiAgICBVUEk6IFtcbiAgICAgICAgJ0FsbCBVUEkgVHJhbnNmZXInLFxuICAgICAgICAnQmFua3MgQkhJTVVQIEJUQyBFd2FsbGV0IEdvb2dsZVBheSBMb2NhbEJhbmsgUGF5cGFsIFBheXRtIFBlcmZlY3QgTW9uZXkgUGhvbmVQaGUnLFxuICAgICAgICAndXBpJyxcbiAgICAgICAgJ1VQSScsXG4gICAgICAgICdVUEkgdHJhbnNmZXInLFxuICAgICAgICAnQW1hem9uVVBJJyxcbiAgICAgICAgJ1BheXRtVVBJJyxcbiAgICAgICAgJ1VwaScsXG4gICAgXSxcbiAgICAnVVNTRCBjb2RlIHRyYW5zZmVyJzogW1xuICAgICAgICAnVVNTRCBjb2RlIHRyYW5zZmVyJyxcbiAgICAgICAgJ09yIFVTU0QgdHJhbnNmZXIgZnJvbSBhbGwgTmlnZXJpYSBiYW5rcycsXG4gICAgICAgICdVU1NEIENvZGUnLFxuICAgICAgICAnVVNTRCBDT0RFJyxcbiAgICAgICAgJ1Vzc2QgY29kZSBUcmFuc2ZlciBmcm9tIGFsbCBOaWdlcmlhbiBiYW5rcycsXG4gICAgICAgICdVc3NkIHRyYW5zZmVyJyxcbiAgICAgICAgJ1VTU0QgdHJhbnNmZXInLFxuICAgICAgICAnVVNTRCBUcmFuc2ZlcicsXG4gICAgICAgICd1c3NkIHRyYW5zZmVyJyxcbiAgICBdLFxuICAgIFZvZGFjb206IFsnVm9kYWNvbScsICdWb2RhY29tTXBlc2EnXSxcbiAgICAnVm9kYWZvbmUgQ2FzaCc6IFsnVm9kYWZvbiBDYXNoIE1ldGhvZHMnLCAnVm9kYWZvbmUgY2FzaCcsICdWb2RhZm9uZSBDYXNoJywgJ1ZPREFGT05FIENBU0gnLCAnVk9EQUZPTkVDQVNIJ10sXG4gICAgV2VibW9uZXk6IFsnUGVyZmVjdCBNb25leSBhbmQgV2VibW9uZXknLCAnV2VibW9uZXknLCAnV2ViTW9uZXknLCAnV2ViIE1vbmV5JywgJ1dlYiBtb25leSddLFxuICAgICdXZUNoYXQgUGF5JzogWydXZUNoYXQgUGF5JywgJ1dlQ2hhdFBheSddLFxuICAgICdXZW1hIEJhbmsnOiBbJ1dlbWEgQmFuaycsICdXZW1hJ10sXG4gICAgV2VzdGVyblVuaW9uOiBbJ1dlc3Rlcm4gdW5pb24nLCAnV2VzdGVybiBVbmlvbicsICdXZXN0ZXJuVW5pb24nLCAnd2VzdGVybnVuaW9uJ10sXG4gICAgV2lzZTogWydXaXNlJywgJ3RyYW5zZmVyd2lzZSddLFxuICAgICdXb3JsZCBSZW1pdCc6IFsnV29ybGQgcmVtaXQnLCAnV29ybGQgUmVtaXQnLCAnQ29pbmJhc2V3b3JsZFJlbWl0J10sXG4gICAgJ1phbmFjbyBiYW5rJzogWydaQU5BQ08nLCAnWmFuYWNvIGJhbmsnXSxcbiAgICAnWmVuaXRoIGJhbmsnOiBbJ1plbml0aCBiYW5rJywgJ1plbml0aGJhbmsnLCAnWmVuaXRoIEJhbmsnLCAnWmVuaXRoQmFuaycsICdaRU5JVEggQkFOSycsICdaZW5pdGgnLCAnemVuaXRoYmFuayddLFxuICAgIFppcGl0OiBbJ1ppcGl0JywgJ1pJUElUJywgJ1pJUElUIGJhbmsgdHJhbnNmZXJzJ10sXG59O1xuXG5leHBvcnQgZGVmYXVsdCB7IGNvbnRhaW5lcnMsIG1hcF9hY3Rpb24sIGljb25fcGF5bWVudF9tZXRob2RzLCBwYXltZW50X21ldGhvZHMgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./constants/constants.js\n");

/***/ }),

/***/ "./stores/account-prompt-dialog-store.js":
/*!***********************************************!*\
  !*** ./stores/account-prompt-dialog-store.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AccountPromptDialogStore)\n/* harmony export */ });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/shared */ \"@deriv/shared\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__);\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n\n\n\nvar AccountPromptDialogStore = /*#__PURE__*/function () {\n  function AccountPromptDialogStore(root_store) {\n    _classCallCheck(this, AccountPromptDialogStore);\n\n    this.should_show = false;\n    this.is_confirmed = false;\n    this.last_location = null;\n    this.current_location = null;\n    (0,mobx__WEBPACK_IMPORTED_MODULE_0__.makeObservable)(this, {\n      should_show: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_confirmed: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      last_location: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      current_location: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      shouldNavigateAfterPrompt: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      resetLastLocation: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      resetIsConfirmed: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onConfirm: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onCancel: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      continueRoute: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound\n    });\n    this.root_store = root_store;\n  }\n\n  _createClass(AccountPromptDialogStore, [{\n    key: \"shouldNavigateAfterPrompt\",\n    value: function shouldNavigateAfterPrompt(next_location, current_location) {\n      if (!this.is_confirmed) {\n        this.last_location = next_location;\n        this.should_show = true;\n        this.current_location = current_location;\n      }\n    }\n  }, {\n    key: \"resetLastLocation\",\n    value: function resetLastLocation() {\n      this.last_location = null;\n    }\n  }, {\n    key: \"resetIsConfirmed\",\n    value: function resetIsConfirmed() {\n      this.is_confirmed = false;\n    }\n  }, {\n    key: \"onConfirm\",\n    value: function () {\n      var _onConfirm = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var client, has_fiat_account;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                client = this.root_store.client;\n                this.should_show = false;\n                this.is_confirmed = true;\n                has_fiat_account = Object.values(client.accounts).some(function (acc_settings) {\n                  return !acc_settings.is_virtual && !(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isCryptocurrency)(acc_settings.currency);\n                });\n\n                if (!((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isCryptocurrency)(client === null || client === void 0 ? void 0 : client.currency) && has_fiat_account)) {\n                  _context.next = 7;\n                  break;\n                }\n\n                _context.next = 7;\n                return this.doSwitch();\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function onConfirm() {\n        return _onConfirm.apply(this, arguments);\n      }\n\n      return onConfirm;\n    }()\n  }, {\n    key: \"doSwitch\",\n    value: function () {\n      var _doSwitch = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        var _this$root_store, client, modules, general_store, non_crypto_account_loginid;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _this$root_store = this.root_store, client = _this$root_store.client, modules = _this$root_store.modules;\n                general_store = modules.cashier.general_store;\n                non_crypto_account_loginid = Object.entries(client.accounts).reduce(function (initial_value, _ref) {\n                  var _ref2 = _slicedToArray(_ref, 2),\n                      loginid = _ref2[0],\n                      settings = _ref2[1];\n\n                  return !settings.is_virtual && !(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isCryptocurrency)(settings.currency) ? loginid : initial_value;\n                }, '');\n                _context2.next = 5;\n                return client.switchAccount(non_crypto_account_loginid);\n\n              case 5:\n                if (this.current_location === 'deposit') {\n                  general_store.setIsDeposit(true);\n                }\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function doSwitch() {\n        return _doSwitch.apply(this, arguments);\n      }\n\n      return doSwitch;\n    }()\n  }, {\n    key: \"onCancel\",\n    value: function onCancel() {\n      this.should_show = false;\n    }\n  }, {\n    key: \"continueRoute\",\n    value: function continueRoute() {\n      if (this.is_confirmed && this.last_location) {\n        this.root_store.common.routeTo(this.last_location);\n      }\n    }\n  }]);\n\n  return AccountPromptDialogStore;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zdG9yZXMvYWNjb3VudC1wcm9tcHQtZGlhbG9nLXN0b3JlLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVZBO0FBYUE7QUFDQTs7OztBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7OztBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTs7QUFQQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7Ozs7Ozs7OztBQVlBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBQUE7O0FBQ0E7QUFDQTtBQVBBO0FBQUE7O0FBQUE7QUFZQTtBQUNBO0FBQ0E7O0FBZEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7Ozs7Ozs7QUFpQkE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2Nhc2hpZXIvLi9zdG9yZXMvYWNjb3VudC1wcm9tcHQtZGlhbG9nLXN0b3JlLmpzP2Q2NDEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgb2JzZXJ2YWJsZSwgYWN0aW9uLCBtYWtlT2JzZXJ2YWJsZSB9IGZyb20gJ21vYngnO1xuaW1wb3J0IHsgaXNDcnlwdG9jdXJyZW5jeSB9IGZyb20gJ0BkZXJpdi9zaGFyZWQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBY2NvdW50UHJvbXB0RGlhbG9nU3RvcmUge1xuICAgIGNvbnN0cnVjdG9yKHJvb3Rfc3RvcmUpIHtcbiAgICAgICAgbWFrZU9ic2VydmFibGUodGhpcywge1xuICAgICAgICAgICAgc2hvdWxkX3Nob3c6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBpc19jb25maXJtZWQ6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBsYXN0X2xvY2F0aW9uOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgY3VycmVudF9sb2NhdGlvbjogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIHNob3VsZE5hdmlnYXRlQWZ0ZXJQcm9tcHQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHJlc2V0TGFzdExvY2F0aW9uOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICByZXNldElzQ29uZmlybWVkOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBvbkNvbmZpcm06IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIG9uQ2FuY2VsOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBjb250aW51ZVJvdXRlOiBhY3Rpb24uYm91bmQsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMucm9vdF9zdG9yZSA9IHJvb3Rfc3RvcmU7XG4gICAgfVxuXG4gICAgc2hvdWxkX3Nob3cgPSBmYWxzZTtcbiAgICBpc19jb25maXJtZWQgPSBmYWxzZTtcbiAgICBsYXN0X2xvY2F0aW9uID0gbnVsbDtcbiAgICBjdXJyZW50X2xvY2F0aW9uID0gbnVsbDtcblxuICAgIHNob3VsZE5hdmlnYXRlQWZ0ZXJQcm9tcHQobmV4dF9sb2NhdGlvbiwgY3VycmVudF9sb2NhdGlvbikge1xuICAgICAgICBpZiAoIXRoaXMuaXNfY29uZmlybWVkKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RfbG9jYXRpb24gPSBuZXh0X2xvY2F0aW9uO1xuICAgICAgICAgICAgdGhpcy5zaG91bGRfc2hvdyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRfbG9jYXRpb24gPSBjdXJyZW50X2xvY2F0aW9uO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVzZXRMYXN0TG9jYXRpb24oKSB7XG4gICAgICAgIHRoaXMubGFzdF9sb2NhdGlvbiA9IG51bGw7XG4gICAgfVxuXG4gICAgcmVzZXRJc0NvbmZpcm1lZCgpIHtcbiAgICAgICAgdGhpcy5pc19jb25maXJtZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBhc3luYyBvbkNvbmZpcm0oKSB7XG4gICAgICAgIGNvbnN0IHsgY2xpZW50IH0gPSB0aGlzLnJvb3Rfc3RvcmU7XG5cbiAgICAgICAgdGhpcy5zaG91bGRfc2hvdyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzX2NvbmZpcm1lZCA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgaGFzX2ZpYXRfYWNjb3VudCA9IE9iamVjdC52YWx1ZXMoY2xpZW50LmFjY291bnRzKS5zb21lKFxuICAgICAgICAgICAgYWNjX3NldHRpbmdzID0+ICFhY2Nfc2V0dGluZ3MuaXNfdmlydHVhbCAmJiAhaXNDcnlwdG9jdXJyZW5jeShhY2Nfc2V0dGluZ3MuY3VycmVuY3kpXG4gICAgICAgICk7XG4gICAgICAgIGlmIChpc0NyeXB0b2N1cnJlbmN5KGNsaWVudD8uY3VycmVuY3kpICYmIGhhc19maWF0X2FjY291bnQpIGF3YWl0IHRoaXMuZG9Td2l0Y2goKTtcbiAgICB9XG5cbiAgICBhc3luYyBkb1N3aXRjaCgpIHtcbiAgICAgICAgY29uc3QgeyBjbGllbnQsIG1vZHVsZXMgfSA9IHRoaXMucm9vdF9zdG9yZTtcbiAgICAgICAgY29uc3QgeyBnZW5lcmFsX3N0b3JlIH0gPSBtb2R1bGVzLmNhc2hpZXI7XG5cbiAgICAgICAgY29uc3Qgbm9uX2NyeXB0b19hY2NvdW50X2xvZ2luaWQgPSBPYmplY3QuZW50cmllcyhjbGllbnQuYWNjb3VudHMpLnJlZHVjZShcbiAgICAgICAgICAgIChpbml0aWFsX3ZhbHVlLCBbbG9naW5pZCwgc2V0dGluZ3NdKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFzZXR0aW5ncy5pc192aXJ0dWFsICYmICFpc0NyeXB0b2N1cnJlbmN5KHNldHRpbmdzLmN1cnJlbmN5KSA/IGxvZ2luaWQgOiBpbml0aWFsX3ZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICcnXG4gICAgICAgICk7XG4gICAgICAgIGF3YWl0IGNsaWVudC5zd2l0Y2hBY2NvdW50KG5vbl9jcnlwdG9fYWNjb3VudF9sb2dpbmlkKTtcblxuICAgICAgICBpZiAodGhpcy5jdXJyZW50X2xvY2F0aW9uID09PSAnZGVwb3NpdCcpIHtcbiAgICAgICAgICAgIGdlbmVyYWxfc3RvcmUuc2V0SXNEZXBvc2l0KHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25DYW5jZWwoKSB7XG4gICAgICAgIHRoaXMuc2hvdWxkX3Nob3cgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBjb250aW51ZVJvdXRlKCkge1xuICAgICAgICBpZiAodGhpcy5pc19jb25maXJtZWQgJiYgdGhpcy5sYXN0X2xvY2F0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnJvb3Rfc3RvcmUuY29tbW9uLnJvdXRlVG8odGhpcy5sYXN0X2xvY2F0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./stores/account-prompt-dialog-store.js\n");

/***/ }),

/***/ "./stores/account-transfer-store.js":
/*!******************************************!*\
  !*** ./stores/account-transfer-store.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AccountTransferStore)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @deriv/shared */ \"@deriv/shared\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_deriv_shared__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @deriv/translations */ \"@deriv/translations\");\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_deriv_translations__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var Constants_constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! Constants/constants */ \"./constants/constants.js\");\n/* harmony import */ var _error_store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./error-store */ \"./stores/error-store.ts\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n\n\n\n\n\n\n\nvar hasTransferNotAllowedLoginid = function hasTransferNotAllowedLoginid(loginid) {\n  return loginid.startsWith('MX');\n};\n\nvar getSelectedError = function getSelectedError(selected_value, is_from_account) {\n  if (is_from_account) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.Localize, {\n      i18n_default_text: \"Transfer from {{selected_value}} is not allowed, Please choose another account from dropdown\",\n      values: {\n        selected_value: selected_value\n      }\n    });\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.Localize, {\n    i18n_default_text: \"Transfer to {{selected_value}} is not allowed, Please choose another account from dropdown\",\n    values: {\n      selected_value: selected_value\n    }\n  });\n};\n\nvar AccountTransferStore = /*#__PURE__*/function () {\n  function AccountTransferStore(_ref) {\n    var _this = this;\n\n    var WS = _ref.WS,\n        root_store = _ref.root_store;\n\n    _classCallCheck(this, AccountTransferStore);\n\n    this.accounts_list = [];\n    this.container = Constants_constants__WEBPACK_IMPORTED_MODULE_4__[\"default\"].containers.account_transfer;\n    this.error = new _error_store__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\n    this.has_no_account = false;\n    this.has_no_accounts_balance = false;\n    this.is_transfer_confirm = false;\n    this.is_transfer_successful = false;\n    this.is_mt5_transfer_in_progress = false;\n    this.minimum_fee = null;\n    this.receipt = {};\n    this.selected_from = {};\n    this.selected_to = {};\n    this.account_transfer_amount = '';\n    this.transfer_fee = null;\n    this.transfer_limit = {};\n\n    this.requestTransferBetweenAccounts = /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref2) {\n        var amount, _this$root_store, client, modules, common, setLoading, is_from_derivgo, is_logged_in, responseMt5LoginList, responseTradingPlatformAccountsList, setAccountStatus, setBalanceOtherAccounts, is_mt_transfer, currency, transfer_between_accounts, account_status_response;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                amount = _ref2.amount;\n                _this$root_store = _this.root_store, client = _this$root_store.client, modules = _this$root_store.modules, common = _this$root_store.common;\n                setLoading = modules.cashier.general_store.setLoading;\n                is_from_derivgo = common.is_from_derivgo;\n                is_logged_in = client.is_logged_in, responseMt5LoginList = client.responseMt5LoginList, responseTradingPlatformAccountsList = client.responseTradingPlatformAccountsList, setAccountStatus = client.setAccountStatus, setBalanceOtherAccounts = client.setBalanceOtherAccounts;\n\n                if (is_logged_in) {\n                  _context.next = 7;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", null);\n\n              case 7:\n                setLoading(true);\n\n                _this.error.setErrorMessage('');\n\n                is_mt_transfer = _this.selected_from.is_mt || _this.selected_to.is_mt;\n                if (is_mt_transfer) _this.setIsMT5TransferInProgress(true);\n                currency = _this.selected_from.currency;\n                _context.next = 14;\n                return _this.WS.authorized.transferBetweenAccounts(_this.selected_from.value, _this.selected_to.value, currency, amount);\n\n              case 14:\n                transfer_between_accounts = _context.sent;\n\n                if (!is_from_derivgo && transfer_between_accounts && Array.isArray(transfer_between_accounts.accounts)) {\n                  transfer_between_accounts.accounts = transfer_between_accounts.accounts.filter(function (account) {\n                    return account.account_type !== _deriv_shared__WEBPACK_IMPORTED_MODULE_2__.CFD_PLATFORMS.DERIVEZ;\n                  });\n                }\n\n                if (is_mt_transfer) _this.setIsMT5TransferInProgress(false);\n\n                if (!transfer_between_accounts.error) {\n                  _context.next = 26;\n                  break;\n                }\n\n                if (!(transfer_between_accounts.error.code === 'Fiat2CryptoTransferOverLimit')) {\n                  _context.next = 23;\n                  break;\n                }\n\n                _context.next = 21;\n                return _this.WS.authorized.getAccountStatus();\n\n              case 21:\n                account_status_response = _context.sent;\n\n                if (!account_status_response.error) {\n                  setAccountStatus(account_status_response.get_account_status);\n                }\n\n              case 23:\n                _this.error.setErrorMessage(transfer_between_accounts.error);\n\n                _context.next = 30;\n                break;\n\n              case 26:\n                _this.setReceiptTransfer({\n                  amount: (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.formatMoney)(currency, amount, true)\n                });\n\n                transfer_between_accounts.accounts.forEach(function (account) {\n                  _this.setBalanceByLoginId(account.loginid, account.balance);\n\n                  if (account.loginid === _this.selected_from.value) {\n                    _this.setBalanceSelectedFrom(account.balance);\n                  } else if (account.loginid === _this.selected_to.value) {\n                    _this.setBalanceSelectedTo(account.balance);\n                  } // if one of the accounts was mt5\n\n\n                  if (account.account_type === _deriv_shared__WEBPACK_IMPORTED_MODULE_2__.CFD_PLATFORMS.MT5) {\n                    Promise.all([_this.WS.mt5LoginList(), _this.WS.balanceAll()]).then(function (_ref4) {\n                      var _ref5 = _slicedToArray(_ref4, 2),\n                          mt5_login_list_response = _ref5[0],\n                          balance_response = _ref5[1];\n\n                      // update the balance for account switcher by renewing the mt5_login_list response\n                      responseMt5LoginList(mt5_login_list_response); // update total balance since MT5 total only comes in non-stream balance call\n\n                      setBalanceOtherAccounts(balance_response.balance);\n                    });\n                  } // if one of the accounts was dxtrade\n\n\n                  if (account.account_type === _deriv_shared__WEBPACK_IMPORTED_MODULE_2__.CFD_PLATFORMS.DXTRADE) {\n                    Promise.all([_this.WS.tradingPlatformAccountsList(_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.CFD_PLATFORMS.DXTRADE), _this.WS.balanceAll()]).then(function (_ref6) {\n                      var _ref7 = _slicedToArray(_ref6, 2),\n                          dxtrade_login_list_response = _ref7[0],\n                          balance_response = _ref7[1];\n\n                      // update the balance for account switcher by renewing the dxtrade_login_list_response\n                      responseTradingPlatformAccountsList(dxtrade_login_list_response); // update total balance since Dxtrade total only comes in non-stream balance call\n\n                      setBalanceOtherAccounts(balance_response.balance);\n                    });\n                  }\n                });\n\n                _this.setAccountTransferAmount(null);\n\n                _this.setIsTransferConfirm(true);\n\n              case 30:\n                setLoading(false);\n                return _context.abrupt(\"return\", transfer_between_accounts);\n\n              case 32:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n\n    this.resetAccountTransfer = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _this.setIsTransferConfirm(false);\n\n              _this.setTransferLimit();\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    (0,mobx__WEBPACK_IMPORTED_MODULE_1__.makeObservable)(this, {\n      accounts_list: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      container: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      error: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      has_no_account: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      has_no_accounts_balance: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      is_transfer_confirm: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      is_transfer_successful: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      is_mt5_transfer_in_progress: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      minimum_fee: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      receipt: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      selected_from: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      selected_to: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      account_transfer_amount: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      transfer_fee: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      transfer_limit: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      is_account_transfer_visible: mobx__WEBPACK_IMPORTED_MODULE_1__.computed,\n      is_transfer_locked: mobx__WEBPACK_IMPORTED_MODULE_1__.computed,\n      setBalanceByLoginId: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      setBalanceSelectedFrom: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      setBalanceSelectedTo: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      onMountAccountTransfer: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      setHasNoAccountsBalance: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      setHasNoAccount: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      setTransferFee: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      setMinimumFee: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      setTransferLimit: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      sortAccountsTransfer: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      setSelectedFrom: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      setSelectedTo: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      setAccounts: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      setIsTransferConfirm: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      setAccountTransferAmount: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      setIsTransferSuccessful: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      setIsMT5TransferInProgress: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      setReceiptTransfer: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      onChangeTransferFrom: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      onChangeTransferTo: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      resetAccountTransfer: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      setTransferPercentageSelectorResult: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      validateTransferFromAmount: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      validateTransferToAmount: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound\n    });\n    this.root_store = root_store;\n    this.WS = WS;\n  }\n\n  _createClass(AccountTransferStore, [{\n    key: \"is_account_transfer_visible\",\n    get: function get() {\n      var _this$root_store$clie = this.root_store.client,\n          has_maltainvest_account = _this$root_store$clie.has_maltainvest_account,\n          landing_company_shortcode = _this$root_store$clie.landing_company_shortcode,\n          residence = _this$root_store$clie.residence; // cashier Transfer account tab is hidden for iom clients\n      // check for residence to hide the tab before creating a real money account\n\n      return residence !== 'im' && (landing_company_shortcode !== 'malta' || has_maltainvest_account);\n    }\n  }, {\n    key: \"is_transfer_locked\",\n    get: function get() {\n      var _this$root_store$clie2 = this.root_store.client,\n          is_financial_account = _this$root_store$clie2.is_financial_account,\n          is_financial_information_incomplete = _this$root_store$clie2.is_financial_information_incomplete,\n          is_trading_experience_incomplete = _this$root_store$clie2.is_trading_experience_incomplete,\n          account_status = _this$root_store$clie2.account_status;\n      if (!account_status.status) return false;\n      var need_financial_assessment = is_financial_account && (is_financial_information_incomplete || is_trading_experience_incomplete);\n      return need_financial_assessment && this.error.is_ask_financial_risk_approval;\n    }\n  }, {\n    key: \"setBalanceByLoginId\",\n    value: function setBalanceByLoginId(loginid, balance) {\n      this.accounts_list.find(function (acc) {\n        return loginid === acc.value;\n      }).balance = balance;\n    }\n  }, {\n    key: \"setBalanceSelectedFrom\",\n    value: function setBalanceSelectedFrom(balance) {\n      this.selected_from.balance = balance;\n    }\n  }, {\n    key: \"setBalanceSelectedTo\",\n    value: function setBalanceSelectedTo(balance) {\n      this.selected_to.balance = balance;\n    } // possible transfers:\n    // 1. fiat to crypto & vice versa\n    // 2. fiat to mt & vice versa\n    // 3. crypto to mt & vice versa\n\n  }, {\n    key: \"onMountAccountTransfer\",\n    value: function () {\n      var _onMountAccountTransfer = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n        var _this$root_store2, client, common, modules, _modules$cashier$gene, onMountCommon, setLoading, setOnRemount, active_accounts, is_logged_in, is_from_derivgo, has_updated_account_balance, _this$accounts_list, transfer_between_accounts, cfd_transfer_to_login_id, obj_values;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _this$root_store2 = this.root_store, client = _this$root_store2.client, common = _this$root_store2.common, modules = _this$root_store2.modules;\n                _modules$cashier$gene = modules.cashier.general_store, onMountCommon = _modules$cashier$gene.onMountCommon, setLoading = _modules$cashier$gene.setLoading, setOnRemount = _modules$cashier$gene.setOnRemount;\n                active_accounts = client.active_accounts, is_logged_in = client.is_logged_in;\n                is_from_derivgo = common.is_from_derivgo;\n                setLoading(true);\n                setOnRemount(this.onMountAccountTransfer);\n                _context3.next = 8;\n                return onMountCommon();\n\n              case 8:\n                _context3.next = 10;\n                return this.WS.wait('website_status');\n\n              case 10:\n                // check if some balance update has come in since the last mount\n                has_updated_account_balance = this.has_no_accounts_balance && Object.keys(active_accounts).find(function (account) {\n                  return !active_accounts[account].is_virtual && active_accounts[account].balance;\n                });\n\n                if (has_updated_account_balance) {\n                  this.setHasNoAccountsBalance(false);\n                } // various issues happen when loading from cache\n                // e.g. new account may have been created, transfer may have been done elsewhere, etc\n                // so on load of this page just call it again\n\n\n                if (!is_logged_in) {\n                  _context3.next = 29;\n                  break;\n                }\n\n                _context3.next = 15;\n                return this.WS.authorized.transferBetweenAccounts();\n\n              case 15:\n                transfer_between_accounts = _context3.sent;\n\n                if (!transfer_between_accounts.error) {\n                  _context3.next = 20;\n                  break;\n                }\n\n                this.error.setErrorMessage(transfer_between_accounts.error, this.onMountAccountTransfer);\n                setLoading(false);\n                return _context3.abrupt(\"return\");\n\n              case 20:\n                if (!is_from_derivgo) {\n                  transfer_between_accounts.accounts = transfer_between_accounts.accounts.filter(function (account) {\n                    return account.account_type !== _deriv_shared__WEBPACK_IMPORTED_MODULE_2__.CFD_PLATFORMS.DERIVEZ;\n                  });\n                }\n\n                if (this.canDoAccountTransfer(transfer_between_accounts.accounts)) {\n                  _context3.next = 23;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 23:\n                _context3.next = 25;\n                return this.sortAccountsTransfer(transfer_between_accounts, is_from_derivgo);\n\n              case 25:\n                this.setTransferFee();\n                this.setMinimumFee();\n                this.setTransferLimit();\n\n                if (((_this$accounts_list = this.accounts_list) === null || _this$accounts_list === void 0 ? void 0 : _this$accounts_list.length) > 0) {\n                  cfd_transfer_to_login_id = sessionStorage.getItem('cfd_transfer_to_login_id');\n                  sessionStorage.removeItem('cfd_transfer_to_login_id');\n                  obj_values = this.accounts_list.find(function (account) {\n                    return account.value === cfd_transfer_to_login_id;\n                  });\n\n                  if (obj_values) {\n                    if (hasTransferNotAllowedLoginid(obj_values.value)) {\n                      // check if selected to is not allowed account\n                      obj_values.error = getSelectedError(obj_values.value);\n                    }\n\n                    this.setSelectedTo(obj_values);\n                  }\n                }\n\n              case 29:\n                setLoading(false);\n\n              case 30:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function onMountAccountTransfer() {\n        return _onMountAccountTransfer.apply(this, arguments);\n      }\n\n      return onMountAccountTransfer;\n    }()\n  }, {\n    key: \"canDoAccountTransfer\",\n    value: function canDoAccountTransfer(accounts) {\n      var can_transfer = true; // should have at least one account with balance\n\n      if (!accounts.find(function (account) {\n        return +account.balance > 0;\n      })) {\n        can_transfer = false;\n        this.setHasNoAccountsBalance(true);\n      } else {\n        this.setHasNoAccountsBalance(false);\n      } // should have at least two real-money accounts\n\n\n      if (accounts.length <= 1) {\n        can_transfer = false;\n        this.setHasNoAccount(true);\n      } else {\n        this.setHasNoAccount(false);\n      }\n\n      if (!can_transfer) {\n        this.root_store.modules.cashier.general_store.setLoading(false);\n      }\n\n      return can_transfer;\n    }\n  }, {\n    key: \"setHasNoAccountsBalance\",\n    value: function setHasNoAccountsBalance(has_no_accounts_balance) {\n      this.has_no_accounts_balance = has_no_accounts_balance;\n    }\n  }, {\n    key: \"setHasNoAccount\",\n    value: function setHasNoAccount(has_no_account) {\n      this.has_no_account = has_no_account;\n    }\n  }, {\n    key: \"setTransferFee\",\n    value: function setTransferFee() {\n      var transfer_fee = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.getPropertyValue)((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.getCurrencies)(), [this.selected_from.currency, 'transfer_between_accounts', 'fees', this.selected_to.currency]);\n      this.transfer_fee = Number(transfer_fee || 0);\n    }\n  }, {\n    key: \"setMinimumFee\",\n    value: function setMinimumFee() {\n      var decimals = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.getDecimalPlaces)(this.selected_from.currency); // we need .toFixed() so that it doesn't display in scientific notation, e.g. 1e-8 for currencies with 8 decimal places\n\n      this.minimum_fee = (1 / Math.pow(10, decimals)).toFixed(decimals);\n    }\n  }, {\n    key: \"setTransferLimit\",\n    value: function setTransferLimit() {\n      var is_mt_transfer = this.selected_from.is_mt || this.selected_to.is_mt;\n      var is_dxtrade_transfer = this.selected_from.is_dxtrade || this.selected_to.is_dxtrade;\n      var is_derivez_transfer = this.selected_from.is_derivez || this.selected_to.is_derivez;\n      var limits_key;\n\n      if (is_mt_transfer) {\n        limits_key = 'limits_mt5';\n      } else if (is_dxtrade_transfer) {\n        limits_key = 'limits_dxtrade';\n      } else if (is_derivez_transfer) {\n        limits_key = 'limits_derivez';\n      } else {\n        limits_key = 'limits';\n      }\n\n      var transfer_limit = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.getPropertyValue)((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.getCurrencies)(), [this.selected_from.currency, 'transfer_between_accounts', limits_key]);\n      var balance = this.selected_from.balance;\n      var decimal_places = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.getDecimalPlaces)(this.selected_from.currency); // we need .toFixed() so that it doesn't display in scientific notation, e.g. 1e-8 for currencies with 8 decimal places\n\n      this.transfer_limit = {\n        max: !(transfer_limit !== null && transfer_limit !== void 0 && transfer_limit.max) || +balance >= ((transfer_limit === null || transfer_limit === void 0 ? void 0 : transfer_limit.min) || 0) && +balance <= (transfer_limit === null || transfer_limit === void 0 ? void 0 : transfer_limit.max) ? balance : transfer_limit === null || transfer_limit === void 0 ? void 0 : transfer_limit.max.toFixed(decimal_places),\n        min: transfer_limit !== null && transfer_limit !== void 0 && transfer_limit.min ? (+(transfer_limit === null || transfer_limit === void 0 ? void 0 : transfer_limit.min)).toFixed(decimal_places) : null\n      };\n    }\n  }, {\n    key: \"sortAccountsTransfer\",\n    value: function () {\n      var _sortAccountsTransfer = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(response_accounts, is_from_derivgo) {\n        var _yield$this$WS$storag,\n            _yield$this$WS$tradin,\n            _yield$this$WS$tradin2,\n            _this2 = this;\n\n        var transfer_between_accounts, mt5_login_list, dxtrade_accounts_list, derivez_accounts_list, accounts, arr_accounts;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.t0 = response_accounts;\n\n                if (_context4.t0) {\n                  _context4.next = 5;\n                  break;\n                }\n\n                _context4.next = 4;\n                return this.WS.authorized.transferBetweenAccounts();\n\n              case 4:\n                _context4.t0 = _context4.sent;\n\n              case 5:\n                transfer_between_accounts = _context4.t0;\n\n                if (this.accounts_list.length) {\n                  _context4.next = 9;\n                  break;\n                }\n\n                if (!transfer_between_accounts.error) {\n                  _context4.next = 9;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\");\n\n              case 9:\n                if (!is_from_derivgo && transfer_between_accounts && Array.isArray(transfer_between_accounts.accounts)) {\n                  transfer_between_accounts.accounts = transfer_between_accounts.accounts.filter(function (account) {\n                    return account.account_type !== _deriv_shared__WEBPACK_IMPORTED_MODULE_2__.CFD_PLATFORMS.DERIVEZ;\n                  });\n                }\n\n                _context4.next = 12;\n                return this.WS.storage.mt5LoginList();\n\n              case 12:\n                _context4.t2 = _yield$this$WS$storag = _context4.sent;\n                _context4.t1 = _context4.t2 === null;\n\n                if (_context4.t1) {\n                  _context4.next = 16;\n                  break;\n                }\n\n                _context4.t1 = _yield$this$WS$storag === void 0;\n\n              case 16:\n                if (!_context4.t1) {\n                  _context4.next = 20;\n                  break;\n                }\n\n                _context4.t3 = void 0;\n                _context4.next = 21;\n                break;\n\n              case 20:\n                _context4.t3 = _yield$this$WS$storag.mt5_login_list;\n\n              case 21:\n                mt5_login_list = _context4.t3;\n                _context4.next = 24;\n                return this.WS.tradingPlatformAccountsList(_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.CFD_PLATFORMS.DXTRADE);\n\n              case 24:\n                _context4.t5 = _yield$this$WS$tradin = _context4.sent;\n                _context4.t4 = _context4.t5 === null;\n\n                if (_context4.t4) {\n                  _context4.next = 28;\n                  break;\n                }\n\n                _context4.t4 = _yield$this$WS$tradin === void 0;\n\n              case 28:\n                if (!_context4.t4) {\n                  _context4.next = 32;\n                  break;\n                }\n\n                _context4.t6 = void 0;\n                _context4.next = 33;\n                break;\n\n              case 32:\n                _context4.t6 = _yield$this$WS$tradin.trading_platform_accounts;\n\n              case 33:\n                dxtrade_accounts_list = _context4.t6;\n                _context4.next = 36;\n                return this.WS.tradingPlatformAccountsList(_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.CFD_PLATFORMS.DERIVEZ);\n\n              case 36:\n                _context4.t8 = _yield$this$WS$tradin2 = _context4.sent;\n                _context4.t7 = _context4.t8 === null;\n\n                if (_context4.t7) {\n                  _context4.next = 40;\n                  break;\n                }\n\n                _context4.t7 = _yield$this$WS$tradin2 === void 0;\n\n              case 40:\n                if (!_context4.t7) {\n                  _context4.next = 44;\n                  break;\n                }\n\n                _context4.t9 = void 0;\n                _context4.next = 45;\n                break;\n\n              case 44:\n                _context4.t9 = _yield$this$WS$tradin2.trading_platform_accounts;\n\n              case 45:\n                derivez_accounts_list = _context4.t9;\n                // TODO: remove this temporary mapping when API adds market_type and sub_account_type to transfer_between_accounts\n                accounts = transfer_between_accounts.accounts.map(function (account) {\n                  if (account.account_type === _deriv_shared__WEBPACK_IMPORTED_MODULE_2__.CFD_PLATFORMS.MT5 && Array.isArray(mt5_login_list) && mt5_login_list.length) {\n                    // account_type in transfer_between_accounts (mt5|binary)\n                    // gets overridden by account_type in mt5_login_list (demo|real)\n                    // since in cashier all these are real accounts, the mt5 account type is what we want to keep\n                    var found_account = mt5_login_list.find(function (acc) {\n                      return acc.login === account.loginid;\n                    });\n                    if (found_account === undefined) return account;\n                    return _objectSpread(_objectSpread(_objectSpread({}, account), found_account), {}, {\n                      account_type: _deriv_shared__WEBPACK_IMPORTED_MODULE_2__.CFD_PLATFORMS.MT5\n                    });\n                  }\n\n                  if (account.account_type === _deriv_shared__WEBPACK_IMPORTED_MODULE_2__.CFD_PLATFORMS.DXTRADE && Array.isArray(dxtrade_accounts_list) && dxtrade_accounts_list.length) {\n                    // account_type in transfer_between_accounts (mt5|binary)\n                    // gets overridden by account_type in dxtrade_accounts_list (demo|real)\n                    // since in cashier all these are real accounts, the mt5 account type is what we want to keep\n                    var _found_account = dxtrade_accounts_list.find(function (acc) {\n                      return acc.account_id === account.loginid;\n                    });\n\n                    if (_found_account === undefined) return account;\n                    return _objectSpread(_objectSpread(_objectSpread({}, account), _found_account), {}, {\n                      account_type: _deriv_shared__WEBPACK_IMPORTED_MODULE_2__.CFD_PLATFORMS.DXTRADE\n                    });\n                  }\n\n                  if (account.account_type === _deriv_shared__WEBPACK_IMPORTED_MODULE_2__.CFD_PLATFORMS.DERIVEZ && Array.isArray(derivez_accounts_list) && derivez_accounts_list.length) {\n                    var _found_account2 = derivez_accounts_list.find(function (acc) {\n                      return acc.login === account.loginid;\n                    });\n\n                    if (_found_account2 === undefined) return account;\n                    return _objectSpread(_objectSpread(_objectSpread({}, account), _found_account2), {}, {\n                      account_type: _deriv_shared__WEBPACK_IMPORTED_MODULE_2__.CFD_PLATFORMS.DERIVEZ\n                    });\n                  }\n\n                  return account;\n                }); // sort accounts as follows:\n                // for MT5, synthetic, financial, financial stp\n                // for non-MT5, fiat, crypto (alphabetically by currency)\n                // should have more than one account\n\n                if (transfer_between_accounts.accounts.length > 1) {\n                  accounts.sort(function (a, b) {\n                    var a_is_mt = a.account_type === _deriv_shared__WEBPACK_IMPORTED_MODULE_2__.CFD_PLATFORMS.MT5;\n                    var b_is_mt = b.account_type === _deriv_shared__WEBPACK_IMPORTED_MODULE_2__.CFD_PLATFORMS.MT5;\n                    var a_is_derivez = a.account_type === _deriv_shared__WEBPACK_IMPORTED_MODULE_2__.CFD_PLATFORMS.DERIVEZ;\n                    var b_is_derivez = b.account_type === _deriv_shared__WEBPACK_IMPORTED_MODULE_2__.CFD_PLATFORMS.DERIVEZ;\n                    var a_is_crypto = !a_is_mt && (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.isCryptocurrency)(a.currency);\n                    var b_is_crypto = !b_is_mt && (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.isCryptocurrency)(b.currency);\n                    var a_is_fiat = !a_is_mt && !a_is_crypto;\n                    var b_is_fiat = !b_is_mt && !b_is_crypto;\n\n                    if (a_is_mt && b_is_mt) {\n                      if (a.market_type === 'gaming' || a.market_type === 'synthetic') {\n                        return -1;\n                      }\n\n                      if (a.sub_account_type === 'financial') {\n                        return b.market_type === 'gaming' || b.market_type === 'synthetic' ? 1 : -1;\n                      }\n\n                      return 1;\n                    } else if (a_is_crypto && b_is_derivez || a_is_fiat && b_is_derivez || a_is_derivez && b_is_mt) {\n                      return -1;\n                    } else if (a_is_crypto && b_is_crypto || a_is_fiat && b_is_fiat) {\n                      return a.currency < b.currency ? -1 : 1;\n                    } else if (a_is_crypto && b_is_mt || a_is_fiat && b_is_crypto || a_is_fiat && b_is_mt) {\n                      return -1;\n                    }\n\n                    return a_is_mt ? -1 : 1;\n                  });\n                }\n\n                arr_accounts = [];\n                this.setSelectedTo({}); // set selected to empty each time so we can redetermine its value on reload\n\n                accounts.forEach(function (account) {\n                  var _cfd_platforms$accoun, _cfd_platforms$accoun2, _cfd_platforms$accoun3, _account$landing_comp, _account$landing_comp2, _account$landing_comp3;\n\n                  var cfd_platforms = {\n                    mt5: {\n                      name: 'Deriv MT5',\n                      icon: 'IcMt5'\n                    },\n                    dxtrade: {\n                      name: 'Deriv X',\n                      icon: 'IcDxtrade'\n                    },\n                    derivez: {\n                      name: 'Deriv EZ',\n                      icon: 'IcDerivez'\n                    }\n                  };\n                  var is_cfd = Object.keys(cfd_platforms).includes(account.account_type);\n                  var cfd_text_display = (_cfd_platforms$accoun = cfd_platforms[account.account_type]) === null || _cfd_platforms$accoun === void 0 ? void 0 : _cfd_platforms$accoun.name;\n                  var cfd_icon_display = account.account_type === _deriv_shared__WEBPACK_IMPORTED_MODULE_2__.CFD_PLATFORMS.DERIVEZ ? \"\".concat((_cfd_platforms$accoun2 = cfd_platforms[account.account_type]) === null || _cfd_platforms$accoun2 === void 0 ? void 0 : _cfd_platforms$accoun2.icon) : \"\".concat((_cfd_platforms$accoun3 = cfd_platforms[account.account_type]) === null || _cfd_platforms$accoun3 === void 0 ? void 0 : _cfd_platforms$accoun3.icon, \"-\").concat((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.getCFDAccount)({\n                    market_type: account.market_type,\n                    sub_account_type: account.sub_account_type,\n                    platform: account.account_type,\n                    is_eu: _this2.root_store.client.is_eu\n                  }));\n                  var non_eu_accounts = account.landing_company_short && account.landing_company_short !== 'svg' && account.landing_company_short !== 'bvi' ? ((_account$landing_comp = account.landing_company_short) === null || _account$landing_comp === void 0 ? void 0 : _account$landing_comp.charAt(0).toUpperCase()) + ((_account$landing_comp2 = account.landing_company_short) === null || _account$landing_comp2 === void 0 ? void 0 : _account$landing_comp2.slice(1)) : (_account$landing_comp3 = account.landing_company_short) === null || _account$landing_comp3 === void 0 ? void 0 : _account$landing_comp3.toUpperCase();\n                  var account_text_display = is_cfd ? account.account_type === 'mt5' ? \"\".concat((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.getCFDAccountDisplay)({\n                    market_type: account.market_type,\n                    sub_account_type: account.sub_account_type,\n                    platform: account.account_type,\n                    is_eu: _this2.root_store.client.is_eu\n                  }), \" \").concat(_this2.root_store.client.is_eu ? '' : non_eu_accounts) : \"\".concat(cfd_text_display, \" \").concat((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.getCFDAccountDisplay)({\n                    market_type: account.market_type,\n                    sub_account_type: account.sub_account_type,\n                    platform: account.account_type,\n                    is_eu: _this2.root_store.client.is_eu,\n                    is_transfer_form: true\n                  })) : (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.getCurrencyDisplayCode)(account.currency !== 'eUSDT' ? account.currency.toUpperCase() : account.currency);\n\n                  var obj_values = _objectSpread({\n                    text: account_text_display,\n                    value: account.loginid,\n                    balance: account.balance,\n                    currency: account.currency,\n                    is_crypto: (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.isCryptocurrency)(account.currency),\n                    is_mt: account.account_type === _deriv_shared__WEBPACK_IMPORTED_MODULE_2__.CFD_PLATFORMS.MT5,\n                    is_dxtrade: account.account_type === _deriv_shared__WEBPACK_IMPORTED_MODULE_2__.CFD_PLATFORMS.DXTRADE,\n                    is_derivez: account.account_type === _deriv_shared__WEBPACK_IMPORTED_MODULE_2__.CFD_PLATFORMS.DERIVEZ\n                  }, is_cfd && {\n                    platform_icon: cfd_icon_display,\n                    status: account === null || account === void 0 ? void 0 : account.status,\n                    market_type: (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.getCFDAccount)({\n                      market_type: account.market_type,\n                      sub_account_type: account.sub_account_type,\n                      platform: account.account_type,\n                      is_eu: _this2.root_store.client.is_eu\n                    })\n                  }); // set current logged in client as the default transfer from account\n\n\n                  if (account.loginid === _this2.root_store.client.loginid) {\n                    // check if selected from is not allowed account\n                    if (hasTransferNotAllowedLoginid(obj_values.value)) {\n                      obj_values.error = getSelectedError(obj_values.value, true);\n                    }\n\n                    _this2.setSelectedFrom(obj_values);\n                  } else if ((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.isEmptyObject)(_this2.selected_to)) {\n                    if (hasTransferNotAllowedLoginid(obj_values.value)) {\n                      // check if selected to is not allowed account\n                      obj_values.error = getSelectedError(obj_values.value);\n                    } // set the first available account as the default transfer to account\n\n\n                    _this2.setSelectedTo(obj_values);\n                  }\n\n                  arr_accounts.push(obj_values);\n                });\n                this.setAccounts(arr_accounts);\n\n              case 52:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function sortAccountsTransfer(_x2, _x3) {\n        return _sortAccountsTransfer.apply(this, arguments);\n      }\n\n      return sortAccountsTransfer;\n    }()\n  }, {\n    key: \"setSelectedFrom\",\n    value: function setSelectedFrom(obj_values) {\n      this.selected_from = obj_values;\n    }\n  }, {\n    key: \"setSelectedTo\",\n    value: function setSelectedTo(obj_values) {\n      this.selected_to = obj_values;\n    }\n  }, {\n    key: \"setAccounts\",\n    value: function setAccounts(arr_accounts) {\n      this.accounts_list = arr_accounts;\n    }\n  }, {\n    key: \"setIsTransferConfirm\",\n    value: function setIsTransferConfirm(is_transfer_confirm) {\n      this.is_transfer_confirm = is_transfer_confirm;\n    }\n  }, {\n    key: \"setAccountTransferAmount\",\n    value: function setAccountTransferAmount(amount) {\n      this.account_transfer_amount = amount;\n    }\n  }, {\n    key: \"setIsTransferSuccessful\",\n    value: function setIsTransferSuccessful(is_transfer_successful) {\n      this.is_transfer_successful = is_transfer_successful;\n    }\n  }, {\n    key: \"setIsMT5TransferInProgress\",\n    value: function setIsMT5TransferInProgress(is_mt5_transfer_in_progress) {\n      this.is_mt5_transfer_in_progress = is_mt5_transfer_in_progress;\n    }\n  }, {\n    key: \"setReceiptTransfer\",\n    value: function setReceiptTransfer(_ref9) {\n      var amount = _ref9.amount;\n      this.receipt = {\n        amount_transferred: amount\n      };\n    }\n  }, {\n    key: \"onChangeTransferFrom\",\n    value: function onChangeTransferFrom(_ref10) {\n      var target = _ref10.target;\n      this.error.setErrorMessage('');\n      this.selected_from.error = '';\n      var accounts = this.accounts_list;\n      var selected_from = accounts.find(function (account) {\n        return account.value === target.value;\n      }); // if new value of selected_from is the same as the current selected_to\n      // switch the value of selected_from and selected_to\n\n      if (selected_from.value === this.selected_to.value) {\n        this.onChangeTransferTo({\n          target: {\n            value: this.selected_from.value\n          }\n        });\n      } else if (selected_from.is_mt && this.selected_to.is_mt || selected_from.is_dxtrade && this.selected_to.is_dxtrade || selected_from.is_dxtrade && (this.selected_to.is_mt || this.selected_to.is_derivez) || selected_from.is_mt && (this.selected_to.is_dxtrade || this.selected_to.is_derivez) || selected_from.is_derivez && this.selected_to.is_derivez || selected_from.is_derivez && (this.selected_to.is_dxtrade || this.selected_to.is_mt)) {\n        // not allowed to transfer from MT to MT\n        // not allowed to transfer from Dxtrade to Dxtrade\n        // not allowed to transfer between MT and Dxtrade\n        var first_non_cfd = this.accounts_list.find(function (account) {\n          return !account.is_mt && !account.is_dxtrade && !account.is_derivez;\n        });\n        this.onChangeTransferTo({\n          target: {\n            value: first_non_cfd.value\n          }\n        });\n      }\n\n      if (hasTransferNotAllowedLoginid(selected_from.value)) {\n        selected_from.error = getSelectedError(selected_from.value, true);\n      }\n\n      this.selected_from = selected_from;\n      this.setTransferFee();\n      this.setMinimumFee();\n      this.setTransferLimit();\n    }\n  }, {\n    key: \"onChangeTransferTo\",\n    value: function onChangeTransferTo(_ref11) {\n      var target = _ref11.target;\n      this.error.setErrorMessage('');\n      this.selected_to.error = '';\n      var accounts = this.accounts_list;\n      this.selected_to = accounts.find(function (account) {\n        return account.value === target.value;\n      }) || {};\n\n      if (hasTransferNotAllowedLoginid(this.selected_to.value)) {\n        this.selected_to.error = getSelectedError(this.selected_to.value);\n      }\n\n      this.setTransferFee();\n      this.setMinimumFee();\n      this.setTransferLimit();\n    }\n  }, {\n    key: \"setTransferPercentageSelectorResult\",\n    value: function setTransferPercentageSelectorResult(amount) {\n      var _this$root_store$modu = this.root_store.modules.cashier,\n          crypto_fiat_converter = _this$root_store$modu.crypto_fiat_converter,\n          general_store = _this$root_store$modu.general_store;\n      var selected_from_currency = this.selected_from.currency;\n      var selected_to_currency = this.selected_to.currency;\n\n      if (amount > 0 || +this.selected_from.balance === 0) {\n        crypto_fiat_converter.setConverterFromAmount(amount);\n        this.validateTransferFromAmount();\n        crypto_fiat_converter.onChangeConverterFromAmount({\n          target: {\n            value: amount\n          }\n        }, selected_from_currency, selected_to_currency);\n      } else {\n        crypto_fiat_converter.resetConverter();\n      }\n\n      crypto_fiat_converter.setIsTimerVisible(false);\n      general_store.percentageSelectorSelectionStatus(false);\n    }\n  }, {\n    key: \"validateTransferFromAmount\",\n    value: function validateTransferFromAmount() {\n      var _this$root_store$modu2 = this.root_store.modules.cashier.crypto_fiat_converter,\n          converter_from_amount = _this$root_store$modu2.converter_from_amount,\n          setConverterFromError = _this$root_store$modu2.setConverterFromError;\n\n      if (!converter_from_amount) {\n        setConverterFromError((0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('This field is required.'));\n      } else {\n        var _validNumber = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.validNumber)(converter_from_amount, {\n          type: 'float',\n          decimals: (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.getDecimalPlaces)(this.selected_from.currency),\n          min: this.transfer_limit.min,\n          max: this.transfer_limit.max\n        }),\n            is_ok = _validNumber.is_ok,\n            message = _validNumber.message;\n\n        if (!is_ok) {\n          setConverterFromError(message);\n        } else if (+this.selected_from.balance < +converter_from_amount) {\n          setConverterFromError((0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Insufficient funds'));\n        } else {\n          setConverterFromError('');\n        }\n      }\n    }\n  }, {\n    key: \"validateTransferToAmount\",\n    value: function validateTransferToAmount() {\n      var _this$root_store$modu3 = this.root_store.modules.cashier.crypto_fiat_converter,\n          converter_to_amount = _this$root_store$modu3.converter_to_amount,\n          setConverterToError = _this$root_store$modu3.setConverterToError;\n\n      if (converter_to_amount) {\n        var currency = this.selected_to.currency;\n\n        var _validNumber2 = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.validNumber)(converter_to_amount, {\n          type: 'float',\n          decimals: (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.getDecimalPlaces)(currency)\n        }),\n            is_ok = _validNumber2.is_ok,\n            message = _validNumber2.message;\n\n        if (!is_ok) {\n          setConverterToError(message);\n        } else {\n          setConverterToError('');\n        }\n      }\n    }\n  }]);\n\n  return AccountTransferStore;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zdG9yZXMvYWNjb3VudC10cmFuc2Zlci1zdG9yZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFhQTtBQUNBO0FBQ0E7O0FBRUE7QUFBQTtBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBRkE7QUFLQTs7QUFFQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBRkE7QUFLQTs7QUFFQTtBQUNBO0FBQUE7O0FBQUE7QUFBQTs7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQWlnQkE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUVBOztBQUxBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUFBO0FBZ0JBOztBQUNBOztBQUVBO0FBRUE7QUFFQTtBQXZCQTtBQUFBOztBQUFBO0FBd0JBOztBQU9BO0FBQ0E7QUFDQTtBQUFBO0FBRUE7O0FBRUE7O0FBckNBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7O0FBQUE7QUEwQ0E7O0FBQ0E7QUFDQTtBQUNBOztBQTdDQTtBQStDQTs7QUEvQ0E7QUFBQTs7QUFBQTtBQWlEQTtBQUFBO0FBQUE7O0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBOztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUVBOzs7QUFFQTtBQUNBO0FBR0E7QUFBQTtBQUFBOztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBbEZBO0FBb0ZBO0FBcEZBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQWpnQkE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUF5bEJBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7O0FBQ0E7O0FBRkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUF4bEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXpDQTtBQTRDQTtBQUNBO0FBQ0E7Ozs7QUFrQkE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBOztBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQU9BO0FBRUE7QUFHQTtBQUNBOzs7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTs7Ozs7QUFDQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBUEE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFXQTtBQUNBO0FBR0E7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBOzs7QUF2QkE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTs7QUFBQTtBQXlCQTs7QUF6QkE7QUFBQTtBQUFBO0FBQUE7O0FBNEJBO0FBQ0E7QUE3QkE7O0FBQUE7QUFpQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTs7QUFyQ0E7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBNENBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBM0RBO0FBNkRBOztBQTdEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7Ozs7Ozs7OztBQWdFQTtBQUNBOztBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFNQTtBQUNBOzs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBS0E7QUFDQTs7QUFFQTtBQUNBO0FBSUE7QUFMQTtBQU9BOzs7O0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTs7QUFBQTtBQUFBOztBQUFBO0FBQ0E7O0FBREE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBQUE7QUFRQTtBQUNBO0FBQ0E7QUFBQTtBQUVBOztBQVpBO0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7O0FBQUE7QUFjQTtBQWRBO0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7O0FBQUE7QUFnQkE7QUFoQkE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTs7QUFBQTtBQW1CQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7O0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7O0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFDQTs7QUFDQTtBQUtBO0FBQUE7QUFBQTs7QUFFQTtBQUVBO0FBQUE7QUFBQTtBQUNBOztBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7O0FBRUE7QUFBQTs7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBT0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBOztBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUhBOzs7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBakxBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7Ozs7Ozs7O0FBb0xBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFEQTtBQUdBOzs7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBR0E7O0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7O0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUErRkE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQUE7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFBQTtBQUFBOztBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUFBO0FBQUE7O0FBRUE7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUFBO0FBQUE7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvY2FzaGllci8uL3N0b3Jlcy9hY2NvdW50LXRyYW5zZmVyLXN0b3JlLmpzPzE4N2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGFjdGlvbiwgY29tcHV0ZWQsIG9ic2VydmFibGUsIG1ha2VPYnNlcnZhYmxlIH0gZnJvbSAnbW9ieCc7XG5pbXBvcnQge1xuICAgIGZvcm1hdE1vbmV5LFxuICAgIGlzRW1wdHlPYmplY3QsXG4gICAgaXNDcnlwdG9jdXJyZW5jeSxcbiAgICBnZXRDdXJyZW5jaWVzLFxuICAgIGdldEN1cnJlbmN5RGlzcGxheUNvZGUsXG4gICAgZ2V0RGVjaW1hbFBsYWNlcyxcbiAgICBnZXRDRkRBY2NvdW50RGlzcGxheSxcbiAgICBnZXRDRkRBY2NvdW50LFxuICAgIGdldFByb3BlcnR5VmFsdWUsXG4gICAgdmFsaWROdW1iZXIsXG4gICAgQ0ZEX1BMQVRGT1JNUyxcbn0gZnJvbSAnQGRlcml2L3NoYXJlZCc7XG5pbXBvcnQgeyBsb2NhbGl6ZSwgTG9jYWxpemUgfSBmcm9tICdAZGVyaXYvdHJhbnNsYXRpb25zJztcbmltcG9ydCBDb25zdGFudHMgZnJvbSAnQ29uc3RhbnRzL2NvbnN0YW50cyc7XG5pbXBvcnQgRXJyb3JTdG9yZSBmcm9tICcuL2Vycm9yLXN0b3JlJztcblxuY29uc3QgaGFzVHJhbnNmZXJOb3RBbGxvd2VkTG9naW5pZCA9IGxvZ2luaWQgPT4gbG9naW5pZC5zdGFydHNXaXRoKCdNWCcpO1xuXG5jb25zdCBnZXRTZWxlY3RlZEVycm9yID0gKHNlbGVjdGVkX3ZhbHVlLCBpc19mcm9tX2FjY291bnQpID0+IHtcbiAgICBpZiAoaXNfZnJvbV9hY2NvdW50KSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8TG9jYWxpemVcbiAgICAgICAgICAgICAgICBpMThuX2RlZmF1bHRfdGV4dD0nVHJhbnNmZXIgZnJvbSB7e3NlbGVjdGVkX3ZhbHVlfX0gaXMgbm90IGFsbG93ZWQsIFBsZWFzZSBjaG9vc2UgYW5vdGhlciBhY2NvdW50IGZyb20gZHJvcGRvd24nXG4gICAgICAgICAgICAgICAgdmFsdWVzPXt7IHNlbGVjdGVkX3ZhbHVlIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICAgIDxMb2NhbGl6ZVxuICAgICAgICAgICAgaTE4bl9kZWZhdWx0X3RleHQ9J1RyYW5zZmVyIHRvIHt7c2VsZWN0ZWRfdmFsdWV9fSBpcyBub3QgYWxsb3dlZCwgUGxlYXNlIGNob29zZSBhbm90aGVyIGFjY291bnQgZnJvbSBkcm9wZG93bidcbiAgICAgICAgICAgIHZhbHVlcz17eyBzZWxlY3RlZF92YWx1ZSB9fVxuICAgICAgICAvPlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBY2NvdW50VHJhbnNmZXJTdG9yZSB7XG4gICAgY29uc3RydWN0b3IoeyBXUywgcm9vdF9zdG9yZSB9KSB7XG4gICAgICAgIG1ha2VPYnNlcnZhYmxlKHRoaXMsIHtcbiAgICAgICAgICAgIGFjY291bnRzX2xpc3Q6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBjb250YWluZXI6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBlcnJvcjogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGhhc19ub19hY2NvdW50OiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgaGFzX25vX2FjY291bnRzX2JhbGFuY2U6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBpc190cmFuc2Zlcl9jb25maXJtOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgaXNfdHJhbnNmZXJfc3VjY2Vzc2Z1bDogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGlzX210NV90cmFuc2Zlcl9pbl9wcm9ncmVzczogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIG1pbmltdW1fZmVlOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgcmVjZWlwdDogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIHNlbGVjdGVkX2Zyb206IG9ic2VydmFibGUsXG4gICAgICAgICAgICBzZWxlY3RlZF90bzogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGFjY291bnRfdHJhbnNmZXJfYW1vdW50OiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgdHJhbnNmZXJfZmVlOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgdHJhbnNmZXJfbGltaXQ6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBpc19hY2NvdW50X3RyYW5zZmVyX3Zpc2libGU6IGNvbXB1dGVkLFxuICAgICAgICAgICAgaXNfdHJhbnNmZXJfbG9ja2VkOiBjb21wdXRlZCxcbiAgICAgICAgICAgIHNldEJhbGFuY2VCeUxvZ2luSWQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldEJhbGFuY2VTZWxlY3RlZEZyb206IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldEJhbGFuY2VTZWxlY3RlZFRvOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBvbk1vdW50QWNjb3VudFRyYW5zZmVyOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRIYXNOb0FjY291bnRzQmFsYW5jZTogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0SGFzTm9BY2NvdW50OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRUcmFuc2ZlckZlZTogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0TWluaW11bUZlZTogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0VHJhbnNmZXJMaW1pdDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc29ydEFjY291bnRzVHJhbnNmZXI6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldFNlbGVjdGVkRnJvbTogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0U2VsZWN0ZWRUbzogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0QWNjb3VudHM6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldElzVHJhbnNmZXJDb25maXJtOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRBY2NvdW50VHJhbnNmZXJBbW91bnQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldElzVHJhbnNmZXJTdWNjZXNzZnVsOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRJc01UNVRyYW5zZmVySW5Qcm9ncmVzczogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0UmVjZWlwdFRyYW5zZmVyOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBvbkNoYW5nZVRyYW5zZmVyRnJvbTogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgb25DaGFuZ2VUcmFuc2ZlclRvOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICByZXNldEFjY291bnRUcmFuc2ZlcjogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0VHJhbnNmZXJQZXJjZW50YWdlU2VsZWN0b3JSZXN1bHQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHZhbGlkYXRlVHJhbnNmZXJGcm9tQW1vdW50OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICB2YWxpZGF0ZVRyYW5zZmVyVG9BbW91bnQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5yb290X3N0b3JlID0gcm9vdF9zdG9yZTtcbiAgICAgICAgdGhpcy5XUyA9IFdTO1xuICAgIH1cblxuICAgIGFjY291bnRzX2xpc3QgPSBbXTtcbiAgICBjb250YWluZXIgPSBDb25zdGFudHMuY29udGFpbmVycy5hY2NvdW50X3RyYW5zZmVyO1xuICAgIGVycm9yID0gbmV3IEVycm9yU3RvcmUoKTtcbiAgICBoYXNfbm9fYWNjb3VudCA9IGZhbHNlO1xuICAgIGhhc19ub19hY2NvdW50c19iYWxhbmNlID0gZmFsc2U7XG4gICAgaXNfdHJhbnNmZXJfY29uZmlybSA9IGZhbHNlO1xuICAgIGlzX3RyYW5zZmVyX3N1Y2Nlc3NmdWwgPSBmYWxzZTtcbiAgICBpc19tdDVfdHJhbnNmZXJfaW5fcHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICBtaW5pbXVtX2ZlZSA9IG51bGw7XG4gICAgcmVjZWlwdCA9IHt9O1xuICAgIHNlbGVjdGVkX2Zyb20gPSB7fTtcbiAgICBzZWxlY3RlZF90byA9IHt9O1xuICAgIGFjY291bnRfdHJhbnNmZXJfYW1vdW50ID0gJyc7XG4gICAgdHJhbnNmZXJfZmVlID0gbnVsbDtcbiAgICB0cmFuc2Zlcl9saW1pdCA9IHt9O1xuXG4gICAgZ2V0IGlzX2FjY291bnRfdHJhbnNmZXJfdmlzaWJsZSgpIHtcbiAgICAgICAgY29uc3QgeyBoYXNfbWFsdGFpbnZlc3RfYWNjb3VudCwgbGFuZGluZ19jb21wYW55X3Nob3J0Y29kZSwgcmVzaWRlbmNlIH0gPSB0aGlzLnJvb3Rfc3RvcmUuY2xpZW50O1xuICAgICAgICAvLyBjYXNoaWVyIFRyYW5zZmVyIGFjY291bnQgdGFiIGlzIGhpZGRlbiBmb3IgaW9tIGNsaWVudHNcbiAgICAgICAgLy8gY2hlY2sgZm9yIHJlc2lkZW5jZSB0byBoaWRlIHRoZSB0YWIgYmVmb3JlIGNyZWF0aW5nIGEgcmVhbCBtb25leSBhY2NvdW50XG4gICAgICAgIHJldHVybiByZXNpZGVuY2UgIT09ICdpbScgJiYgKGxhbmRpbmdfY29tcGFueV9zaG9ydGNvZGUgIT09ICdtYWx0YScgfHwgaGFzX21hbHRhaW52ZXN0X2FjY291bnQpO1xuICAgIH1cblxuICAgIGdldCBpc190cmFuc2Zlcl9sb2NrZWQoKSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGlzX2ZpbmFuY2lhbF9hY2NvdW50LFxuICAgICAgICAgICAgaXNfZmluYW5jaWFsX2luZm9ybWF0aW9uX2luY29tcGxldGUsXG4gICAgICAgICAgICBpc190cmFkaW5nX2V4cGVyaWVuY2VfaW5jb21wbGV0ZSxcbiAgICAgICAgICAgIGFjY291bnRfc3RhdHVzLFxuICAgICAgICB9ID0gdGhpcy5yb290X3N0b3JlLmNsaWVudDtcblxuICAgICAgICBpZiAoIWFjY291bnRfc3RhdHVzLnN0YXR1cykgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IG5lZWRfZmluYW5jaWFsX2Fzc2Vzc21lbnQgPVxuICAgICAgICAgICAgaXNfZmluYW5jaWFsX2FjY291bnQgJiYgKGlzX2ZpbmFuY2lhbF9pbmZvcm1hdGlvbl9pbmNvbXBsZXRlIHx8IGlzX3RyYWRpbmdfZXhwZXJpZW5jZV9pbmNvbXBsZXRlKTtcblxuICAgICAgICByZXR1cm4gbmVlZF9maW5hbmNpYWxfYXNzZXNzbWVudCAmJiB0aGlzLmVycm9yLmlzX2Fza19maW5hbmNpYWxfcmlza19hcHByb3ZhbDtcbiAgICB9XG5cbiAgICBzZXRCYWxhbmNlQnlMb2dpbklkKGxvZ2luaWQsIGJhbGFuY2UpIHtcbiAgICAgICAgdGhpcy5hY2NvdW50c19saXN0LmZpbmQoYWNjID0+IGxvZ2luaWQgPT09IGFjYy52YWx1ZSkuYmFsYW5jZSA9IGJhbGFuY2U7XG4gICAgfVxuXG4gICAgc2V0QmFsYW5jZVNlbGVjdGVkRnJvbShiYWxhbmNlKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRfZnJvbS5iYWxhbmNlID0gYmFsYW5jZTtcbiAgICB9XG5cbiAgICBzZXRCYWxhbmNlU2VsZWN0ZWRUbyhiYWxhbmNlKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRfdG8uYmFsYW5jZSA9IGJhbGFuY2U7XG4gICAgfVxuXG4gICAgLy8gcG9zc2libGUgdHJhbnNmZXJzOlxuICAgIC8vIDEuIGZpYXQgdG8gY3J5cHRvICYgdmljZSB2ZXJzYVxuICAgIC8vIDIuIGZpYXQgdG8gbXQgJiB2aWNlIHZlcnNhXG4gICAgLy8gMy4gY3J5cHRvIHRvIG10ICYgdmljZSB2ZXJzYVxuICAgIGFzeW5jIG9uTW91bnRBY2NvdW50VHJhbnNmZXIoKSB7XG4gICAgICAgIGNvbnN0IHsgY2xpZW50LCBjb21tb24sIG1vZHVsZXMgfSA9IHRoaXMucm9vdF9zdG9yZTtcbiAgICAgICAgY29uc3QgeyBvbk1vdW50Q29tbW9uLCBzZXRMb2FkaW5nLCBzZXRPblJlbW91bnQgfSA9IG1vZHVsZXMuY2FzaGllci5nZW5lcmFsX3N0b3JlO1xuICAgICAgICBjb25zdCB7IGFjdGl2ZV9hY2NvdW50cywgaXNfbG9nZ2VkX2luIH0gPSBjbGllbnQ7XG4gICAgICAgIGNvbnN0IHsgaXNfZnJvbV9kZXJpdmdvIH0gPSBjb21tb247XG5cbiAgICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgICAgc2V0T25SZW1vdW50KHRoaXMub25Nb3VudEFjY291bnRUcmFuc2Zlcik7XG4gICAgICAgIGF3YWl0IG9uTW91bnRDb21tb24oKTtcbiAgICAgICAgYXdhaXQgdGhpcy5XUy53YWl0KCd3ZWJzaXRlX3N0YXR1cycpO1xuXG4gICAgICAgIC8vIGNoZWNrIGlmIHNvbWUgYmFsYW5jZSB1cGRhdGUgaGFzIGNvbWUgaW4gc2luY2UgdGhlIGxhc3QgbW91bnRcbiAgICAgICAgY29uc3QgaGFzX3VwZGF0ZWRfYWNjb3VudF9iYWxhbmNlID1cbiAgICAgICAgICAgIHRoaXMuaGFzX25vX2FjY291bnRzX2JhbGFuY2UgJiZcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGFjdGl2ZV9hY2NvdW50cykuZmluZChcbiAgICAgICAgICAgICAgICBhY2NvdW50ID0+ICFhY3RpdmVfYWNjb3VudHNbYWNjb3VudF0uaXNfdmlydHVhbCAmJiBhY3RpdmVfYWNjb3VudHNbYWNjb3VudF0uYmFsYW5jZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgaWYgKGhhc191cGRhdGVkX2FjY291bnRfYmFsYW5jZSkge1xuICAgICAgICAgICAgdGhpcy5zZXRIYXNOb0FjY291bnRzQmFsYW5jZShmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB2YXJpb3VzIGlzc3VlcyBoYXBwZW4gd2hlbiBsb2FkaW5nIGZyb20gY2FjaGVcbiAgICAgICAgLy8gZS5nLiBuZXcgYWNjb3VudCBtYXkgaGF2ZSBiZWVuIGNyZWF0ZWQsIHRyYW5zZmVyIG1heSBoYXZlIGJlZW4gZG9uZSBlbHNld2hlcmUsIGV0Y1xuICAgICAgICAvLyBzbyBvbiBsb2FkIG9mIHRoaXMgcGFnZSBqdXN0IGNhbGwgaXQgYWdhaW5cbiAgICAgICAgaWYgKGlzX2xvZ2dlZF9pbikge1xuICAgICAgICAgICAgY29uc3QgdHJhbnNmZXJfYmV0d2Vlbl9hY2NvdW50cyA9IGF3YWl0IHRoaXMuV1MuYXV0aG9yaXplZC50cmFuc2ZlckJldHdlZW5BY2NvdW50cygpO1xuXG4gICAgICAgICAgICBpZiAodHJhbnNmZXJfYmV0d2Vlbl9hY2NvdW50cy5lcnJvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3Iuc2V0RXJyb3JNZXNzYWdlKHRyYW5zZmVyX2JldHdlZW5fYWNjb3VudHMuZXJyb3IsIHRoaXMub25Nb3VudEFjY291bnRUcmFuc2Zlcik7XG4gICAgICAgICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWlzX2Zyb21fZGVyaXZnbykge1xuICAgICAgICAgICAgICAgIHRyYW5zZmVyX2JldHdlZW5fYWNjb3VudHMuYWNjb3VudHMgPSB0cmFuc2Zlcl9iZXR3ZWVuX2FjY291bnRzLmFjY291bnRzLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudCA9PiBhY2NvdW50LmFjY291bnRfdHlwZSAhPT0gQ0ZEX1BMQVRGT1JNUy5ERVJJVkVaXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCF0aGlzLmNhbkRvQWNjb3VudFRyYW5zZmVyKHRyYW5zZmVyX2JldHdlZW5fYWNjb3VudHMuYWNjb3VudHMpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnNvcnRBY2NvdW50c1RyYW5zZmVyKHRyYW5zZmVyX2JldHdlZW5fYWNjb3VudHMsIGlzX2Zyb21fZGVyaXZnbyk7XG4gICAgICAgICAgICB0aGlzLnNldFRyYW5zZmVyRmVlKCk7XG4gICAgICAgICAgICB0aGlzLnNldE1pbmltdW1GZWUoKTtcbiAgICAgICAgICAgIHRoaXMuc2V0VHJhbnNmZXJMaW1pdCgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5hY2NvdW50c19saXN0Py5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2ZkX3RyYW5zZmVyX3RvX2xvZ2luX2lkID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnY2ZkX3RyYW5zZmVyX3RvX2xvZ2luX2lkJyk7XG4gICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgnY2ZkX3RyYW5zZmVyX3RvX2xvZ2luX2lkJyk7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2JqX3ZhbHVlcyA9IHRoaXMuYWNjb3VudHNfbGlzdC5maW5kKGFjY291bnQgPT4gYWNjb3VudC52YWx1ZSA9PT0gY2ZkX3RyYW5zZmVyX3RvX2xvZ2luX2lkKTtcbiAgICAgICAgICAgICAgICBpZiAob2JqX3ZhbHVlcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGFzVHJhbnNmZXJOb3RBbGxvd2VkTG9naW5pZChvYmpfdmFsdWVzLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgc2VsZWN0ZWQgdG8gaXMgbm90IGFsbG93ZWQgYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqX3ZhbHVlcy5lcnJvciA9IGdldFNlbGVjdGVkRXJyb3Iob2JqX3ZhbHVlcy52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3RlZFRvKG9ial92YWx1ZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG5cbiAgICBjYW5Eb0FjY291bnRUcmFuc2ZlcihhY2NvdW50cykge1xuICAgICAgICBsZXQgY2FuX3RyYW5zZmVyID0gdHJ1ZTtcbiAgICAgICAgLy8gc2hvdWxkIGhhdmUgYXQgbGVhc3Qgb25lIGFjY291bnQgd2l0aCBiYWxhbmNlXG4gICAgICAgIGlmICghYWNjb3VudHMuZmluZChhY2NvdW50ID0+ICthY2NvdW50LmJhbGFuY2UgPiAwKSkge1xuICAgICAgICAgICAgY2FuX3RyYW5zZmVyID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnNldEhhc05vQWNjb3VudHNCYWxhbmNlKHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXRIYXNOb0FjY291bnRzQmFsYW5jZShmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2hvdWxkIGhhdmUgYXQgbGVhc3QgdHdvIHJlYWwtbW9uZXkgYWNjb3VudHNcbiAgICAgICAgaWYgKGFjY291bnRzLmxlbmd0aCA8PSAxKSB7XG4gICAgICAgICAgICBjYW5fdHJhbnNmZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuc2V0SGFzTm9BY2NvdW50KHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXRIYXNOb0FjY291bnQoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY2FuX3RyYW5zZmVyKSB7XG4gICAgICAgICAgICB0aGlzLnJvb3Rfc3RvcmUubW9kdWxlcy5jYXNoaWVyLmdlbmVyYWxfc3RvcmUuc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNhbl90cmFuc2ZlcjtcbiAgICB9XG5cbiAgICBzZXRIYXNOb0FjY291bnRzQmFsYW5jZShoYXNfbm9fYWNjb3VudHNfYmFsYW5jZSkge1xuICAgICAgICB0aGlzLmhhc19ub19hY2NvdW50c19iYWxhbmNlID0gaGFzX25vX2FjY291bnRzX2JhbGFuY2U7XG4gICAgfVxuXG4gICAgc2V0SGFzTm9BY2NvdW50KGhhc19ub19hY2NvdW50KSB7XG4gICAgICAgIHRoaXMuaGFzX25vX2FjY291bnQgPSBoYXNfbm9fYWNjb3VudDtcbiAgICB9XG5cbiAgICBzZXRUcmFuc2ZlckZlZSgpIHtcbiAgICAgICAgY29uc3QgdHJhbnNmZXJfZmVlID0gZ2V0UHJvcGVydHlWYWx1ZShnZXRDdXJyZW5jaWVzKCksIFtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRfZnJvbS5jdXJyZW5jeSxcbiAgICAgICAgICAgICd0cmFuc2Zlcl9iZXR3ZWVuX2FjY291bnRzJyxcbiAgICAgICAgICAgICdmZWVzJyxcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRfdG8uY3VycmVuY3ksXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnRyYW5zZmVyX2ZlZSA9IE51bWJlcih0cmFuc2Zlcl9mZWUgfHwgMCk7XG4gICAgfVxuXG4gICAgc2V0TWluaW11bUZlZSgpIHtcbiAgICAgICAgY29uc3QgZGVjaW1hbHMgPSBnZXREZWNpbWFsUGxhY2VzKHRoaXMuc2VsZWN0ZWRfZnJvbS5jdXJyZW5jeSk7XG4gICAgICAgIC8vIHdlIG5lZWQgLnRvRml4ZWQoKSBzbyB0aGF0IGl0IGRvZXNuJ3QgZGlzcGxheSBpbiBzY2llbnRpZmljIG5vdGF0aW9uLCBlLmcuIDFlLTggZm9yIGN1cnJlbmNpZXMgd2l0aCA4IGRlY2ltYWwgcGxhY2VzXG4gICAgICAgIHRoaXMubWluaW11bV9mZWUgPSAoMSAvIE1hdGgucG93KDEwLCBkZWNpbWFscykpLnRvRml4ZWQoZGVjaW1hbHMpO1xuICAgIH1cblxuICAgIHNldFRyYW5zZmVyTGltaXQoKSB7XG4gICAgICAgIGNvbnN0IGlzX210X3RyYW5zZmVyID0gdGhpcy5zZWxlY3RlZF9mcm9tLmlzX210IHx8IHRoaXMuc2VsZWN0ZWRfdG8uaXNfbXQ7XG4gICAgICAgIGNvbnN0IGlzX2R4dHJhZGVfdHJhbnNmZXIgPSB0aGlzLnNlbGVjdGVkX2Zyb20uaXNfZHh0cmFkZSB8fCB0aGlzLnNlbGVjdGVkX3RvLmlzX2R4dHJhZGU7XG4gICAgICAgIGNvbnN0IGlzX2Rlcml2ZXpfdHJhbnNmZXIgPSB0aGlzLnNlbGVjdGVkX2Zyb20uaXNfZGVyaXZleiB8fCB0aGlzLnNlbGVjdGVkX3RvLmlzX2Rlcml2ZXo7XG5cbiAgICAgICAgbGV0IGxpbWl0c19rZXk7XG4gICAgICAgIGlmIChpc19tdF90cmFuc2Zlcikge1xuICAgICAgICAgICAgbGltaXRzX2tleSA9ICdsaW1pdHNfbXQ1JztcbiAgICAgICAgfSBlbHNlIGlmIChpc19keHRyYWRlX3RyYW5zZmVyKSB7XG4gICAgICAgICAgICBsaW1pdHNfa2V5ID0gJ2xpbWl0c19keHRyYWRlJztcbiAgICAgICAgfSBlbHNlIGlmIChpc19kZXJpdmV6X3RyYW5zZmVyKSB7XG4gICAgICAgICAgICBsaW1pdHNfa2V5ID0gJ2xpbWl0c19kZXJpdmV6JztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxpbWl0c19rZXkgPSAnbGltaXRzJztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRyYW5zZmVyX2xpbWl0ID0gZ2V0UHJvcGVydHlWYWx1ZShnZXRDdXJyZW5jaWVzKCksIFtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRfZnJvbS5jdXJyZW5jeSxcbiAgICAgICAgICAgICd0cmFuc2Zlcl9iZXR3ZWVuX2FjY291bnRzJyxcbiAgICAgICAgICAgIGxpbWl0c19rZXksXG4gICAgICAgIF0pO1xuICAgICAgICBjb25zdCBiYWxhbmNlID0gdGhpcy5zZWxlY3RlZF9mcm9tLmJhbGFuY2U7XG4gICAgICAgIGNvbnN0IGRlY2ltYWxfcGxhY2VzID0gZ2V0RGVjaW1hbFBsYWNlcyh0aGlzLnNlbGVjdGVkX2Zyb20uY3VycmVuY3kpO1xuICAgICAgICAvLyB3ZSBuZWVkIC50b0ZpeGVkKCkgc28gdGhhdCBpdCBkb2Vzbid0IGRpc3BsYXkgaW4gc2NpZW50aWZpYyBub3RhdGlvbiwgZS5nLiAxZS04IGZvciBjdXJyZW5jaWVzIHdpdGggOCBkZWNpbWFsIHBsYWNlc1xuICAgICAgICB0aGlzLnRyYW5zZmVyX2xpbWl0ID0ge1xuICAgICAgICAgICAgbWF4OlxuICAgICAgICAgICAgICAgICF0cmFuc2Zlcl9saW1pdD8ubWF4IHx8ICgrYmFsYW5jZSA+PSAodHJhbnNmZXJfbGltaXQ/Lm1pbiB8fCAwKSAmJiArYmFsYW5jZSA8PSB0cmFuc2Zlcl9saW1pdD8ubWF4KVxuICAgICAgICAgICAgICAgICAgICA/IGJhbGFuY2VcbiAgICAgICAgICAgICAgICAgICAgOiB0cmFuc2Zlcl9saW1pdD8ubWF4LnRvRml4ZWQoZGVjaW1hbF9wbGFjZXMpLFxuICAgICAgICAgICAgbWluOiB0cmFuc2Zlcl9saW1pdD8ubWluID8gKCt0cmFuc2Zlcl9saW1pdD8ubWluKS50b0ZpeGVkKGRlY2ltYWxfcGxhY2VzKSA6IG51bGwsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYXN5bmMgc29ydEFjY291bnRzVHJhbnNmZXIocmVzcG9uc2VfYWNjb3VudHMsIGlzX2Zyb21fZGVyaXZnbykge1xuICAgICAgICBjb25zdCB0cmFuc2Zlcl9iZXR3ZWVuX2FjY291bnRzID0gcmVzcG9uc2VfYWNjb3VudHMgfHwgKGF3YWl0IHRoaXMuV1MuYXV0aG9yaXplZC50cmFuc2ZlckJldHdlZW5BY2NvdW50cygpKTtcbiAgICAgICAgaWYgKCF0aGlzLmFjY291bnRzX2xpc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAodHJhbnNmZXJfYmV0d2Vlbl9hY2NvdW50cy5lcnJvcikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaXNfZnJvbV9kZXJpdmdvICYmIHRyYW5zZmVyX2JldHdlZW5fYWNjb3VudHMgJiYgQXJyYXkuaXNBcnJheSh0cmFuc2Zlcl9iZXR3ZWVuX2FjY291bnRzLmFjY291bnRzKSkge1xuICAgICAgICAgICAgdHJhbnNmZXJfYmV0d2Vlbl9hY2NvdW50cy5hY2NvdW50cyA9IHRyYW5zZmVyX2JldHdlZW5fYWNjb3VudHMuYWNjb3VudHMuZmlsdGVyKFxuICAgICAgICAgICAgICAgIGFjY291bnQgPT4gYWNjb3VudC5hY2NvdW50X3R5cGUgIT09IENGRF9QTEFURk9STVMuREVSSVZFWlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG10NV9sb2dpbl9saXN0ID0gKGF3YWl0IHRoaXMuV1Muc3RvcmFnZS5tdDVMb2dpbkxpc3QoKSk/Lm10NV9sb2dpbl9saXN0O1xuICAgICAgICAvLyBUT0RPOiBtb3ZlIGB0cmFkaW5nUGxhdGZvcm1BY2NvdW50c0xpc3RgIHRvIGRlcml2LWFwaSB0byB1c2Ugc3RvcmFnZVxuICAgICAgICBjb25zdCBkeHRyYWRlX2FjY291bnRzX2xpc3QgPSAoYXdhaXQgdGhpcy5XUy50cmFkaW5nUGxhdGZvcm1BY2NvdW50c0xpc3QoQ0ZEX1BMQVRGT1JNUy5EWFRSQURFKSlcbiAgICAgICAgICAgID8udHJhZGluZ19wbGF0Zm9ybV9hY2NvdW50cztcblxuICAgICAgICBjb25zdCBkZXJpdmV6X2FjY291bnRzX2xpc3QgPSAoYXdhaXQgdGhpcy5XUy50cmFkaW5nUGxhdGZvcm1BY2NvdW50c0xpc3QoQ0ZEX1BMQVRGT1JNUy5ERVJJVkVaKSlcbiAgICAgICAgICAgID8udHJhZGluZ19wbGF0Zm9ybV9hY2NvdW50cztcblxuICAgICAgICAvLyBUT0RPOiByZW1vdmUgdGhpcyB0ZW1wb3JhcnkgbWFwcGluZyB3aGVuIEFQSSBhZGRzIG1hcmtldF90eXBlIGFuZCBzdWJfYWNjb3VudF90eXBlIHRvIHRyYW5zZmVyX2JldHdlZW5fYWNjb3VudHNcbiAgICAgICAgY29uc3QgYWNjb3VudHMgPSB0cmFuc2Zlcl9iZXR3ZWVuX2FjY291bnRzLmFjY291bnRzLm1hcChhY2NvdW50ID0+IHtcbiAgICAgICAgICAgIGlmIChhY2NvdW50LmFjY291bnRfdHlwZSA9PT0gQ0ZEX1BMQVRGT1JNUy5NVDUgJiYgQXJyYXkuaXNBcnJheShtdDVfbG9naW5fbGlzdCkgJiYgbXQ1X2xvZ2luX2xpc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgLy8gYWNjb3VudF90eXBlIGluIHRyYW5zZmVyX2JldHdlZW5fYWNjb3VudHMgKG10NXxiaW5hcnkpXG4gICAgICAgICAgICAgICAgLy8gZ2V0cyBvdmVycmlkZGVuIGJ5IGFjY291bnRfdHlwZSBpbiBtdDVfbG9naW5fbGlzdCAoZGVtb3xyZWFsKVxuICAgICAgICAgICAgICAgIC8vIHNpbmNlIGluIGNhc2hpZXIgYWxsIHRoZXNlIGFyZSByZWFsIGFjY291bnRzLCB0aGUgbXQ1IGFjY291bnQgdHlwZSBpcyB3aGF0IHdlIHdhbnQgdG8ga2VlcFxuICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kX2FjY291bnQgPSBtdDVfbG9naW5fbGlzdC5maW5kKGFjYyA9PiBhY2MubG9naW4gPT09IGFjY291bnQubG9naW5pZCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZm91bmRfYWNjb3VudCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gYWNjb3VudDtcblxuICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLmFjY291bnQsIC4uLmZvdW5kX2FjY291bnQsIGFjY291bnRfdHlwZTogQ0ZEX1BMQVRGT1JNUy5NVDUgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBhY2NvdW50LmFjY291bnRfdHlwZSA9PT0gQ0ZEX1BMQVRGT1JNUy5EWFRSQURFICYmXG4gICAgICAgICAgICAgICAgQXJyYXkuaXNBcnJheShkeHRyYWRlX2FjY291bnRzX2xpc3QpICYmXG4gICAgICAgICAgICAgICAgZHh0cmFkZV9hY2NvdW50c19saXN0Lmxlbmd0aFxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgLy8gYWNjb3VudF90eXBlIGluIHRyYW5zZmVyX2JldHdlZW5fYWNjb3VudHMgKG10NXxiaW5hcnkpXG4gICAgICAgICAgICAgICAgLy8gZ2V0cyBvdmVycmlkZGVuIGJ5IGFjY291bnRfdHlwZSBpbiBkeHRyYWRlX2FjY291bnRzX2xpc3QgKGRlbW98cmVhbClcbiAgICAgICAgICAgICAgICAvLyBzaW5jZSBpbiBjYXNoaWVyIGFsbCB0aGVzZSBhcmUgcmVhbCBhY2NvdW50cywgdGhlIG10NSBhY2NvdW50IHR5cGUgaXMgd2hhdCB3ZSB3YW50IHRvIGtlZXBcbiAgICAgICAgICAgICAgICBjb25zdCBmb3VuZF9hY2NvdW50ID0gZHh0cmFkZV9hY2NvdW50c19saXN0LmZpbmQoYWNjID0+IGFjYy5hY2NvdW50X2lkID09PSBhY2NvdW50LmxvZ2luaWQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGZvdW5kX2FjY291bnQgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGFjY291bnQ7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5hY2NvdW50LCAuLi5mb3VuZF9hY2NvdW50LCBhY2NvdW50X3R5cGU6IENGRF9QTEFURk9STVMuRFhUUkFERSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGFjY291bnQuYWNjb3VudF90eXBlID09PSBDRkRfUExBVEZPUk1TLkRFUklWRVogJiZcbiAgICAgICAgICAgICAgICBBcnJheS5pc0FycmF5KGRlcml2ZXpfYWNjb3VudHNfbGlzdCkgJiZcbiAgICAgICAgICAgICAgICBkZXJpdmV6X2FjY291bnRzX2xpc3QubGVuZ3RoXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmb3VuZF9hY2NvdW50ID0gZGVyaXZlel9hY2NvdW50c19saXN0LmZpbmQoYWNjID0+IGFjYy5sb2dpbiA9PT0gYWNjb3VudC5sb2dpbmlkKTtcblxuICAgICAgICAgICAgICAgIGlmIChmb3VuZF9hY2NvdW50ID09PSB1bmRlZmluZWQpIHJldHVybiBhY2NvdW50O1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uYWNjb3VudCwgLi4uZm91bmRfYWNjb3VudCwgYWNjb3VudF90eXBlOiBDRkRfUExBVEZPUk1TLkRFUklWRVogfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhY2NvdW50O1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gc29ydCBhY2NvdW50cyBhcyBmb2xsb3dzOlxuICAgICAgICAvLyBmb3IgTVQ1LCBzeW50aGV0aWMsIGZpbmFuY2lhbCwgZmluYW5jaWFsIHN0cFxuICAgICAgICAvLyBmb3Igbm9uLU1UNSwgZmlhdCwgY3J5cHRvIChhbHBoYWJldGljYWxseSBieSBjdXJyZW5jeSlcbiAgICAgICAgLy8gc2hvdWxkIGhhdmUgbW9yZSB0aGFuIG9uZSBhY2NvdW50XG4gICAgICAgIGlmICh0cmFuc2Zlcl9iZXR3ZWVuX2FjY291bnRzLmFjY291bnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGFjY291bnRzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhX2lzX210ID0gYS5hY2NvdW50X3R5cGUgPT09IENGRF9QTEFURk9STVMuTVQ1O1xuICAgICAgICAgICAgICAgIGNvbnN0IGJfaXNfbXQgPSBiLmFjY291bnRfdHlwZSA9PT0gQ0ZEX1BMQVRGT1JNUy5NVDU7XG4gICAgICAgICAgICAgICAgY29uc3QgYV9pc19kZXJpdmV6ID0gYS5hY2NvdW50X3R5cGUgPT09IENGRF9QTEFURk9STVMuREVSSVZFWjtcbiAgICAgICAgICAgICAgICBjb25zdCBiX2lzX2Rlcml2ZXogPSBiLmFjY291bnRfdHlwZSA9PT0gQ0ZEX1BMQVRGT1JNUy5ERVJJVkVaO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFfaXNfY3J5cHRvID0gIWFfaXNfbXQgJiYgaXNDcnlwdG9jdXJyZW5jeShhLmN1cnJlbmN5KTtcbiAgICAgICAgICAgICAgICBjb25zdCBiX2lzX2NyeXB0byA9ICFiX2lzX210ICYmIGlzQ3J5cHRvY3VycmVuY3koYi5jdXJyZW5jeSk7XG4gICAgICAgICAgICAgICAgY29uc3QgYV9pc19maWF0ID0gIWFfaXNfbXQgJiYgIWFfaXNfY3J5cHRvO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJfaXNfZmlhdCA9ICFiX2lzX210ICYmICFiX2lzX2NyeXB0bztcbiAgICAgICAgICAgICAgICBpZiAoYV9pc19tdCAmJiBiX2lzX210KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhLm1hcmtldF90eXBlID09PSAnZ2FtaW5nJyB8fCBhLm1hcmtldF90eXBlID09PSAnc3ludGhldGljJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChhLnN1Yl9hY2NvdW50X3R5cGUgPT09ICdmaW5hbmNpYWwnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYi5tYXJrZXRfdHlwZSA9PT0gJ2dhbWluZycgfHwgYi5tYXJrZXRfdHlwZSA9PT0gJ3N5bnRoZXRpYycgPyAxIDogLTE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgoYV9pc19jcnlwdG8gJiYgYl9pc19kZXJpdmV6KSB8fCAoYV9pc19maWF0ICYmIGJfaXNfZGVyaXZleikgfHwgKGFfaXNfZGVyaXZleiAmJiBiX2lzX210KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgoYV9pc19jcnlwdG8gJiYgYl9pc19jcnlwdG8pIHx8IChhX2lzX2ZpYXQgJiYgYl9pc19maWF0KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5jdXJyZW5jeSA8IGIuY3VycmVuY3kgPyAtMSA6IDE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgoYV9pc19jcnlwdG8gJiYgYl9pc19tdCkgfHwgKGFfaXNfZmlhdCAmJiBiX2lzX2NyeXB0bykgfHwgKGFfaXNfZmlhdCAmJiBiX2lzX210KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhX2lzX210ID8gLTEgOiAxO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXJyX2FjY291bnRzID0gW107XG4gICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRUbyh7fSk7IC8vIHNldCBzZWxlY3RlZCB0byBlbXB0eSBlYWNoIHRpbWUgc28gd2UgY2FuIHJlZGV0ZXJtaW5lIGl0cyB2YWx1ZSBvbiByZWxvYWRcblxuICAgICAgICBhY2NvdW50cy5mb3JFYWNoKGFjY291bnQgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2ZkX3BsYXRmb3JtcyA9IHtcbiAgICAgICAgICAgICAgICBtdDU6IHsgbmFtZTogJ0Rlcml2IE1UNScsIGljb246ICdJY010NScgfSxcbiAgICAgICAgICAgICAgICBkeHRyYWRlOiB7IG5hbWU6ICdEZXJpdiBYJywgaWNvbjogJ0ljRHh0cmFkZScgfSxcbiAgICAgICAgICAgICAgICBkZXJpdmV6OiB7IG5hbWU6ICdEZXJpdiBFWicsIGljb246ICdJY0Rlcml2ZXonIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgaXNfY2ZkID0gT2JqZWN0LmtleXMoY2ZkX3BsYXRmb3JtcykuaW5jbHVkZXMoYWNjb3VudC5hY2NvdW50X3R5cGUpO1xuICAgICAgICAgICAgY29uc3QgY2ZkX3RleHRfZGlzcGxheSA9IGNmZF9wbGF0Zm9ybXNbYWNjb3VudC5hY2NvdW50X3R5cGVdPy5uYW1lO1xuICAgICAgICAgICAgY29uc3QgY2ZkX2ljb25fZGlzcGxheSA9XG4gICAgICAgICAgICAgICAgYWNjb3VudC5hY2NvdW50X3R5cGUgPT09IENGRF9QTEFURk9STVMuREVSSVZFWlxuICAgICAgICAgICAgICAgICAgICA/IGAke2NmZF9wbGF0Zm9ybXNbYWNjb3VudC5hY2NvdW50X3R5cGVdPy5pY29ufWBcbiAgICAgICAgICAgICAgICAgICAgOiBgJHtjZmRfcGxhdGZvcm1zW2FjY291bnQuYWNjb3VudF90eXBlXT8uaWNvbn0tJHtnZXRDRkRBY2NvdW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWFya2V0X3R5cGU6IGFjY291bnQubWFya2V0X3R5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN1Yl9hY2NvdW50X3R5cGU6IGFjY291bnQuc3ViX2FjY291bnRfdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhdGZvcm06IGFjY291bnQuYWNjb3VudF90eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBpc19ldTogdGhpcy5yb290X3N0b3JlLmNsaWVudC5pc19ldSxcbiAgICAgICAgICAgICAgICAgICAgICB9KX1gO1xuICAgICAgICAgICAgY29uc3Qgbm9uX2V1X2FjY291bnRzID1cbiAgICAgICAgICAgICAgICBhY2NvdW50LmxhbmRpbmdfY29tcGFueV9zaG9ydCAmJlxuICAgICAgICAgICAgICAgIGFjY291bnQubGFuZGluZ19jb21wYW55X3Nob3J0ICE9PSAnc3ZnJyAmJlxuICAgICAgICAgICAgICAgIGFjY291bnQubGFuZGluZ19jb21wYW55X3Nob3J0ICE9PSAnYnZpJ1xuICAgICAgICAgICAgICAgICAgICA/IGFjY291bnQubGFuZGluZ19jb21wYW55X3Nob3J0Py5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGFjY291bnQubGFuZGluZ19jb21wYW55X3Nob3J0Py5zbGljZSgxKVxuICAgICAgICAgICAgICAgICAgICA6IGFjY291bnQubGFuZGluZ19jb21wYW55X3Nob3J0Py50b1VwcGVyQ2FzZSgpO1xuXG4gICAgICAgICAgICBjb25zdCBhY2NvdW50X3RleHRfZGlzcGxheSA9IGlzX2NmZFxuICAgICAgICAgICAgICAgID8gYWNjb3VudC5hY2NvdW50X3R5cGUgPT09ICdtdDUnXG4gICAgICAgICAgICAgICAgICAgID8gYCR7Z2V0Q0ZEQWNjb3VudERpc3BsYXkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXRfdHlwZTogYWNjb3VudC5tYXJrZXRfdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViX2FjY291bnRfdHlwZTogYWNjb3VudC5zdWJfYWNjb3VudF90eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF0Zm9ybTogYWNjb3VudC5hY2NvdW50X3R5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlzX2V1OiB0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LmlzX2V1LFxuICAgICAgICAgICAgICAgICAgICAgIH0pfSAke3RoaXMucm9vdF9zdG9yZS5jbGllbnQuaXNfZXUgPyAnJyA6IG5vbl9ldV9hY2NvdW50c31gXG4gICAgICAgICAgICAgICAgICAgIDogYCR7Y2ZkX3RleHRfZGlzcGxheX0gJHtnZXRDRkRBY2NvdW50RGlzcGxheSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtldF90eXBlOiBhY2NvdW50Lm1hcmtldF90eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJfYWNjb3VudF90eXBlOiBhY2NvdW50LnN1Yl9hY2NvdW50X3R5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXRmb3JtOiBhY2NvdW50LmFjY291bnRfdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXNfZXU6IHRoaXMucm9vdF9zdG9yZS5jbGllbnQuaXNfZXUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlzX3RyYW5zZmVyX2Zvcm06IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgfSl9YFxuICAgICAgICAgICAgICAgIDogZ2V0Q3VycmVuY3lEaXNwbGF5Q29kZShcbiAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50LmN1cnJlbmN5ICE9PSAnZVVTRFQnID8gYWNjb3VudC5jdXJyZW5jeS50b1VwcGVyQ2FzZSgpIDogYWNjb3VudC5jdXJyZW5jeVxuICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgY29uc3Qgb2JqX3ZhbHVlcyA9IHtcbiAgICAgICAgICAgICAgICB0ZXh0OiBhY2NvdW50X3RleHRfZGlzcGxheSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogYWNjb3VudC5sb2dpbmlkLFxuICAgICAgICAgICAgICAgIGJhbGFuY2U6IGFjY291bnQuYmFsYW5jZSxcbiAgICAgICAgICAgICAgICBjdXJyZW5jeTogYWNjb3VudC5jdXJyZW5jeSxcbiAgICAgICAgICAgICAgICBpc19jcnlwdG86IGlzQ3J5cHRvY3VycmVuY3koYWNjb3VudC5jdXJyZW5jeSksXG4gICAgICAgICAgICAgICAgaXNfbXQ6IGFjY291bnQuYWNjb3VudF90eXBlID09PSBDRkRfUExBVEZPUk1TLk1UNSxcbiAgICAgICAgICAgICAgICBpc19keHRyYWRlOiBhY2NvdW50LmFjY291bnRfdHlwZSA9PT0gQ0ZEX1BMQVRGT1JNUy5EWFRSQURFLFxuICAgICAgICAgICAgICAgIGlzX2Rlcml2ZXo6IGFjY291bnQuYWNjb3VudF90eXBlID09PSBDRkRfUExBVEZPUk1TLkRFUklWRVosXG4gICAgICAgICAgICAgICAgLi4uKGlzX2NmZCAmJiB7XG4gICAgICAgICAgICAgICAgICAgIHBsYXRmb3JtX2ljb246IGNmZF9pY29uX2Rpc3BsYXksXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogYWNjb3VudD8uc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICBtYXJrZXRfdHlwZTogZ2V0Q0ZEQWNjb3VudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXRfdHlwZTogYWNjb3VudC5tYXJrZXRfdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Yl9hY2NvdW50X3R5cGU6IGFjY291bnQuc3ViX2FjY291bnRfdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXRmb3JtOiBhY2NvdW50LmFjY291bnRfdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzX2V1OiB0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LmlzX2V1LFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBzZXQgY3VycmVudCBsb2dnZWQgaW4gY2xpZW50IGFzIHRoZSBkZWZhdWx0IHRyYW5zZmVyIGZyb20gYWNjb3VudFxuICAgICAgICAgICAgaWYgKGFjY291bnQubG9naW5pZCA9PT0gdGhpcy5yb290X3N0b3JlLmNsaWVudC5sb2dpbmlkKSB7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgc2VsZWN0ZWQgZnJvbSBpcyBub3QgYWxsb3dlZCBhY2NvdW50XG4gICAgICAgICAgICAgICAgaWYgKGhhc1RyYW5zZmVyTm90QWxsb3dlZExvZ2luaWQob2JqX3ZhbHVlcy52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqX3ZhbHVlcy5lcnJvciA9IGdldFNlbGVjdGVkRXJyb3Iob2JqX3ZhbHVlcy52YWx1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3RlZEZyb20ob2JqX3ZhbHVlcyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzRW1wdHlPYmplY3QodGhpcy5zZWxlY3RlZF90bykpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGFzVHJhbnNmZXJOb3RBbGxvd2VkTG9naW5pZChvYmpfdmFsdWVzLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiBzZWxlY3RlZCB0byBpcyBub3QgYWxsb3dlZCBhY2NvdW50XG4gICAgICAgICAgICAgICAgICAgIG9ial92YWx1ZXMuZXJyb3IgPSBnZXRTZWxlY3RlZEVycm9yKG9ial92YWx1ZXMudmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBzZXQgdGhlIGZpcnN0IGF2YWlsYWJsZSBhY2NvdW50IGFzIHRoZSBkZWZhdWx0IHRyYW5zZmVyIHRvIGFjY291bnRcbiAgICAgICAgICAgICAgICB0aGlzLnNldFNlbGVjdGVkVG8ob2JqX3ZhbHVlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhcnJfYWNjb3VudHMucHVzaChvYmpfdmFsdWVzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2V0QWNjb3VudHMoYXJyX2FjY291bnRzKTtcbiAgICB9XG5cbiAgICBzZXRTZWxlY3RlZEZyb20ob2JqX3ZhbHVlcykge1xuICAgICAgICB0aGlzLnNlbGVjdGVkX2Zyb20gPSBvYmpfdmFsdWVzO1xuICAgIH1cblxuICAgIHNldFNlbGVjdGVkVG8ob2JqX3ZhbHVlcykge1xuICAgICAgICB0aGlzLnNlbGVjdGVkX3RvID0gb2JqX3ZhbHVlcztcbiAgICB9XG5cbiAgICBzZXRBY2NvdW50cyhhcnJfYWNjb3VudHMpIHtcbiAgICAgICAgdGhpcy5hY2NvdW50c19saXN0ID0gYXJyX2FjY291bnRzO1xuICAgIH1cblxuICAgIHNldElzVHJhbnNmZXJDb25maXJtKGlzX3RyYW5zZmVyX2NvbmZpcm0pIHtcbiAgICAgICAgdGhpcy5pc190cmFuc2Zlcl9jb25maXJtID0gaXNfdHJhbnNmZXJfY29uZmlybTtcbiAgICB9XG5cbiAgICBzZXRBY2NvdW50VHJhbnNmZXJBbW91bnQoYW1vdW50KSB7XG4gICAgICAgIHRoaXMuYWNjb3VudF90cmFuc2Zlcl9hbW91bnQgPSBhbW91bnQ7XG4gICAgfVxuXG4gICAgc2V0SXNUcmFuc2ZlclN1Y2Nlc3NmdWwoaXNfdHJhbnNmZXJfc3VjY2Vzc2Z1bCkge1xuICAgICAgICB0aGlzLmlzX3RyYW5zZmVyX3N1Y2Nlc3NmdWwgPSBpc190cmFuc2Zlcl9zdWNjZXNzZnVsO1xuICAgIH1cblxuICAgIHNldElzTVQ1VHJhbnNmZXJJblByb2dyZXNzKGlzX210NV90cmFuc2Zlcl9pbl9wcm9ncmVzcykge1xuICAgICAgICB0aGlzLmlzX210NV90cmFuc2Zlcl9pbl9wcm9ncmVzcyA9IGlzX210NV90cmFuc2Zlcl9pbl9wcm9ncmVzcztcbiAgICB9XG5cbiAgICBzZXRSZWNlaXB0VHJhbnNmZXIoeyBhbW91bnQgfSkge1xuICAgICAgICB0aGlzLnJlY2VpcHQgPSB7XG4gICAgICAgICAgICBhbW91bnRfdHJhbnNmZXJyZWQ6IGFtb3VudCxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBvbkNoYW5nZVRyYW5zZmVyRnJvbSh7IHRhcmdldCB9KSB7XG4gICAgICAgIHRoaXMuZXJyb3Iuc2V0RXJyb3JNZXNzYWdlKCcnKTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZF9mcm9tLmVycm9yID0gJyc7XG5cbiAgICAgICAgY29uc3QgYWNjb3VudHMgPSB0aGlzLmFjY291bnRzX2xpc3Q7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkX2Zyb20gPSBhY2NvdW50cy5maW5kKGFjY291bnQgPT4gYWNjb3VudC52YWx1ZSA9PT0gdGFyZ2V0LnZhbHVlKTtcblxuICAgICAgICAvLyBpZiBuZXcgdmFsdWUgb2Ygc2VsZWN0ZWRfZnJvbSBpcyB0aGUgc2FtZSBhcyB0aGUgY3VycmVudCBzZWxlY3RlZF90b1xuICAgICAgICAvLyBzd2l0Y2ggdGhlIHZhbHVlIG9mIHNlbGVjdGVkX2Zyb20gYW5kIHNlbGVjdGVkX3RvXG4gICAgICAgIGlmIChzZWxlY3RlZF9mcm9tLnZhbHVlID09PSB0aGlzLnNlbGVjdGVkX3RvLnZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLm9uQ2hhbmdlVHJhbnNmZXJUbyh7IHRhcmdldDogeyB2YWx1ZTogdGhpcy5zZWxlY3RlZF9mcm9tLnZhbHVlIH0gfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAoc2VsZWN0ZWRfZnJvbS5pc19tdCAmJiB0aGlzLnNlbGVjdGVkX3RvLmlzX210KSB8fFxuICAgICAgICAgICAgKHNlbGVjdGVkX2Zyb20uaXNfZHh0cmFkZSAmJiB0aGlzLnNlbGVjdGVkX3RvLmlzX2R4dHJhZGUpIHx8XG4gICAgICAgICAgICAoc2VsZWN0ZWRfZnJvbS5pc19keHRyYWRlICYmICh0aGlzLnNlbGVjdGVkX3RvLmlzX210IHx8IHRoaXMuc2VsZWN0ZWRfdG8uaXNfZGVyaXZleikpIHx8XG4gICAgICAgICAgICAoc2VsZWN0ZWRfZnJvbS5pc19tdCAmJiAodGhpcy5zZWxlY3RlZF90by5pc19keHRyYWRlIHx8IHRoaXMuc2VsZWN0ZWRfdG8uaXNfZGVyaXZleikpIHx8XG4gICAgICAgICAgICAoc2VsZWN0ZWRfZnJvbS5pc19kZXJpdmV6ICYmIHRoaXMuc2VsZWN0ZWRfdG8uaXNfZGVyaXZleikgfHxcbiAgICAgICAgICAgIChzZWxlY3RlZF9mcm9tLmlzX2Rlcml2ZXogJiYgKHRoaXMuc2VsZWN0ZWRfdG8uaXNfZHh0cmFkZSB8fCB0aGlzLnNlbGVjdGVkX3RvLmlzX210KSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgICAvLyBub3QgYWxsb3dlZCB0byB0cmFuc2ZlciBmcm9tIE1UIHRvIE1UXG4gICAgICAgICAgICAvLyBub3QgYWxsb3dlZCB0byB0cmFuc2ZlciBmcm9tIER4dHJhZGUgdG8gRHh0cmFkZVxuICAgICAgICAgICAgLy8gbm90IGFsbG93ZWQgdG8gdHJhbnNmZXIgYmV0d2VlbiBNVCBhbmQgRHh0cmFkZVxuICAgICAgICAgICAgY29uc3QgZmlyc3Rfbm9uX2NmZCA9IHRoaXMuYWNjb3VudHNfbGlzdC5maW5kKFxuICAgICAgICAgICAgICAgIGFjY291bnQgPT4gIWFjY291bnQuaXNfbXQgJiYgIWFjY291bnQuaXNfZHh0cmFkZSAmJiAhYWNjb3VudC5pc19kZXJpdmV6XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy5vbkNoYW5nZVRyYW5zZmVyVG8oeyB0YXJnZXQ6IHsgdmFsdWU6IGZpcnN0X25vbl9jZmQudmFsdWUgfSB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNUcmFuc2Zlck5vdEFsbG93ZWRMb2dpbmlkKHNlbGVjdGVkX2Zyb20udmFsdWUpKSB7XG4gICAgICAgICAgICBzZWxlY3RlZF9mcm9tLmVycm9yID0gZ2V0U2VsZWN0ZWRFcnJvcihzZWxlY3RlZF9mcm9tLnZhbHVlLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRfZnJvbSA9IHNlbGVjdGVkX2Zyb207XG4gICAgICAgIHRoaXMuc2V0VHJhbnNmZXJGZWUoKTtcbiAgICAgICAgdGhpcy5zZXRNaW5pbXVtRmVlKCk7XG4gICAgICAgIHRoaXMuc2V0VHJhbnNmZXJMaW1pdCgpO1xuICAgIH1cblxuICAgIG9uQ2hhbmdlVHJhbnNmZXJUbyh7IHRhcmdldCB9KSB7XG4gICAgICAgIHRoaXMuZXJyb3Iuc2V0RXJyb3JNZXNzYWdlKCcnKTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZF90by5lcnJvciA9ICcnO1xuXG4gICAgICAgIGNvbnN0IGFjY291bnRzID0gdGhpcy5hY2NvdW50c19saXN0O1xuICAgICAgICB0aGlzLnNlbGVjdGVkX3RvID0gYWNjb3VudHMuZmluZChhY2NvdW50ID0+IGFjY291bnQudmFsdWUgPT09IHRhcmdldC52YWx1ZSkgfHwge307XG4gICAgICAgIGlmIChoYXNUcmFuc2Zlck5vdEFsbG93ZWRMb2dpbmlkKHRoaXMuc2VsZWN0ZWRfdG8udmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkX3RvLmVycm9yID0gZ2V0U2VsZWN0ZWRFcnJvcih0aGlzLnNlbGVjdGVkX3RvLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldFRyYW5zZmVyRmVlKCk7XG4gICAgICAgIHRoaXMuc2V0TWluaW11bUZlZSgpO1xuICAgICAgICB0aGlzLnNldFRyYW5zZmVyTGltaXQoKTtcbiAgICB9XG5cbiAgICByZXF1ZXN0VHJhbnNmZXJCZXR3ZWVuQWNjb3VudHMgPSBhc3luYyAoeyBhbW91bnQgfSkgPT4ge1xuICAgICAgICBjb25zdCB7IGNsaWVudCwgbW9kdWxlcywgY29tbW9uIH0gPSB0aGlzLnJvb3Rfc3RvcmU7XG4gICAgICAgIGNvbnN0IHsgc2V0TG9hZGluZyB9ID0gbW9kdWxlcy5jYXNoaWVyLmdlbmVyYWxfc3RvcmU7XG4gICAgICAgIGNvbnN0IHsgaXNfZnJvbV9kZXJpdmdvIH0gPSBjb21tb247XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGlzX2xvZ2dlZF9pbixcbiAgICAgICAgICAgIHJlc3BvbnNlTXQ1TG9naW5MaXN0LFxuICAgICAgICAgICAgcmVzcG9uc2VUcmFkaW5nUGxhdGZvcm1BY2NvdW50c0xpc3QsXG4gICAgICAgICAgICBzZXRBY2NvdW50U3RhdHVzLFxuICAgICAgICAgICAgc2V0QmFsYW5jZU90aGVyQWNjb3VudHMsXG4gICAgICAgIH0gPSBjbGllbnQ7XG5cbiAgICAgICAgaWYgKCFpc19sb2dnZWRfaW4pIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgICAgdGhpcy5lcnJvci5zZXRFcnJvck1lc3NhZ2UoJycpO1xuXG4gICAgICAgIGNvbnN0IGlzX210X3RyYW5zZmVyID0gdGhpcy5zZWxlY3RlZF9mcm9tLmlzX210IHx8IHRoaXMuc2VsZWN0ZWRfdG8uaXNfbXQ7XG5cbiAgICAgICAgaWYgKGlzX210X3RyYW5zZmVyKSB0aGlzLnNldElzTVQ1VHJhbnNmZXJJblByb2dyZXNzKHRydWUpO1xuXG4gICAgICAgIGNvbnN0IGN1cnJlbmN5ID0gdGhpcy5zZWxlY3RlZF9mcm9tLmN1cnJlbmN5O1xuICAgICAgICBjb25zdCB0cmFuc2Zlcl9iZXR3ZWVuX2FjY291bnRzID0gYXdhaXQgdGhpcy5XUy5hdXRob3JpemVkLnRyYW5zZmVyQmV0d2VlbkFjY291bnRzKFxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZF9mcm9tLnZhbHVlLFxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZF90by52YWx1ZSxcbiAgICAgICAgICAgIGN1cnJlbmN5LFxuICAgICAgICAgICAgYW1vdW50XG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKCFpc19mcm9tX2Rlcml2Z28gJiYgdHJhbnNmZXJfYmV0d2Vlbl9hY2NvdW50cyAmJiBBcnJheS5pc0FycmF5KHRyYW5zZmVyX2JldHdlZW5fYWNjb3VudHMuYWNjb3VudHMpKSB7XG4gICAgICAgICAgICB0cmFuc2Zlcl9iZXR3ZWVuX2FjY291bnRzLmFjY291bnRzID0gdHJhbnNmZXJfYmV0d2Vlbl9hY2NvdW50cy5hY2NvdW50cy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgYWNjb3VudCA9PiBhY2NvdW50LmFjY291bnRfdHlwZSAhPT0gQ0ZEX1BMQVRGT1JNUy5ERVJJVkVaXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzX210X3RyYW5zZmVyKSB0aGlzLnNldElzTVQ1VHJhbnNmZXJJblByb2dyZXNzKGZhbHNlKTtcblxuICAgICAgICBpZiAodHJhbnNmZXJfYmV0d2Vlbl9hY2NvdW50cy5lcnJvcikge1xuICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgZmlhdDJjcnlwdG8gdHJhbnNmZXIgbGltaXQgZXJyb3IsIHdlIG5lZWQgdG8gcmVmcmVzaCB0aGUgYWNjb3VudF9zdGF0dXMgZm9yIGF1dGhlbnRpY2F0aW9uXG4gICAgICAgICAgICBpZiAodHJhbnNmZXJfYmV0d2Vlbl9hY2NvdW50cy5lcnJvci5jb2RlID09PSAnRmlhdDJDcnlwdG9UcmFuc2Zlck92ZXJMaW1pdCcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhY2NvdW50X3N0YXR1c19yZXNwb25zZSA9IGF3YWl0IHRoaXMuV1MuYXV0aG9yaXplZC5nZXRBY2NvdW50U3RhdHVzKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFhY2NvdW50X3N0YXR1c19yZXNwb25zZS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBzZXRBY2NvdW50U3RhdHVzKGFjY291bnRfc3RhdHVzX3Jlc3BvbnNlLmdldF9hY2NvdW50X3N0YXR1cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lcnJvci5zZXRFcnJvck1lc3NhZ2UodHJhbnNmZXJfYmV0d2Vlbl9hY2NvdW50cy5lcnJvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNldFJlY2VpcHRUcmFuc2Zlcih7IGFtb3VudDogZm9ybWF0TW9uZXkoY3VycmVuY3ksIGFtb3VudCwgdHJ1ZSkgfSk7XG4gICAgICAgICAgICB0cmFuc2Zlcl9iZXR3ZWVuX2FjY291bnRzLmFjY291bnRzLmZvckVhY2goYWNjb3VudCA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRCYWxhbmNlQnlMb2dpbklkKGFjY291bnQubG9naW5pZCwgYWNjb3VudC5iYWxhbmNlKTtcbiAgICAgICAgICAgICAgICBpZiAoYWNjb3VudC5sb2dpbmlkID09PSB0aGlzLnNlbGVjdGVkX2Zyb20udmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRCYWxhbmNlU2VsZWN0ZWRGcm9tKGFjY291bnQuYmFsYW5jZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhY2NvdW50LmxvZ2luaWQgPT09IHRoaXMuc2VsZWN0ZWRfdG8udmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRCYWxhbmNlU2VsZWN0ZWRUbyhhY2NvdW50LmJhbGFuY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBpZiBvbmUgb2YgdGhlIGFjY291bnRzIHdhcyBtdDVcbiAgICAgICAgICAgICAgICBpZiAoYWNjb3VudC5hY2NvdW50X3R5cGUgPT09IENGRF9QTEFURk9STVMuTVQ1KSB7XG4gICAgICAgICAgICAgICAgICAgIFByb21pc2UuYWxsKFt0aGlzLldTLm10NUxvZ2luTGlzdCgpLCB0aGlzLldTLmJhbGFuY2VBbGwoKV0pLnRoZW4oXG4gICAgICAgICAgICAgICAgICAgICAgICAoW210NV9sb2dpbl9saXN0X3Jlc3BvbnNlLCBiYWxhbmNlX3Jlc3BvbnNlXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgYmFsYW5jZSBmb3IgYWNjb3VudCBzd2l0Y2hlciBieSByZW5ld2luZyB0aGUgbXQ1X2xvZ2luX2xpc3QgcmVzcG9uc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZU10NUxvZ2luTGlzdChtdDVfbG9naW5fbGlzdF9yZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIHRvdGFsIGJhbGFuY2Ugc2luY2UgTVQ1IHRvdGFsIG9ubHkgY29tZXMgaW4gbm9uLXN0cmVhbSBiYWxhbmNlIGNhbGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRCYWxhbmNlT3RoZXJBY2NvdW50cyhiYWxhbmNlX3Jlc3BvbnNlLmJhbGFuY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBpZiBvbmUgb2YgdGhlIGFjY291bnRzIHdhcyBkeHRyYWRlXG4gICAgICAgICAgICAgICAgaWYgKGFjY291bnQuYWNjb3VudF90eXBlID09PSBDRkRfUExBVEZPUk1TLkRYVFJBREUpIHtcbiAgICAgICAgICAgICAgICAgICAgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5XUy50cmFkaW5nUGxhdGZvcm1BY2NvdW50c0xpc3QoQ0ZEX1BMQVRGT1JNUy5EWFRSQURFKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuV1MuYmFsYW5jZUFsbCgpLFxuICAgICAgICAgICAgICAgICAgICBdKS50aGVuKChbZHh0cmFkZV9sb2dpbl9saXN0X3Jlc3BvbnNlLCBiYWxhbmNlX3Jlc3BvbnNlXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBiYWxhbmNlIGZvciBhY2NvdW50IHN3aXRjaGVyIGJ5IHJlbmV3aW5nIHRoZSBkeHRyYWRlX2xvZ2luX2xpc3RfcmVzcG9uc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlVHJhZGluZ1BsYXRmb3JtQWNjb3VudHNMaXN0KGR4dHJhZGVfbG9naW5fbGlzdF9yZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgdG90YWwgYmFsYW5jZSBzaW5jZSBEeHRyYWRlIHRvdGFsIG9ubHkgY29tZXMgaW4gbm9uLXN0cmVhbSBiYWxhbmNlIGNhbGxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEJhbGFuY2VPdGhlckFjY291bnRzKGJhbGFuY2VfcmVzcG9uc2UuYmFsYW5jZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5zZXRBY2NvdW50VHJhbnNmZXJBbW91bnQobnVsbCk7XG4gICAgICAgICAgICB0aGlzLnNldElzVHJhbnNmZXJDb25maXJtKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICByZXR1cm4gdHJhbnNmZXJfYmV0d2Vlbl9hY2NvdW50cztcbiAgICB9O1xuXG4gICAgcmVzZXRBY2NvdW50VHJhbnNmZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0SXNUcmFuc2ZlckNvbmZpcm0oZmFsc2UpO1xuICAgICAgICB0aGlzLnNldFRyYW5zZmVyTGltaXQoKTtcbiAgICB9O1xuXG4gICAgc2V0VHJhbnNmZXJQZXJjZW50YWdlU2VsZWN0b3JSZXN1bHQoYW1vdW50KSB7XG4gICAgICAgIGNvbnN0IHsgY3J5cHRvX2ZpYXRfY29udmVydGVyLCBnZW5lcmFsX3N0b3JlIH0gPSB0aGlzLnJvb3Rfc3RvcmUubW9kdWxlcy5jYXNoaWVyO1xuXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkX2Zyb21fY3VycmVuY3kgPSB0aGlzLnNlbGVjdGVkX2Zyb20uY3VycmVuY3k7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkX3RvX2N1cnJlbmN5ID0gdGhpcy5zZWxlY3RlZF90by5jdXJyZW5jeTtcblxuICAgICAgICBpZiAoYW1vdW50ID4gMCB8fCArdGhpcy5zZWxlY3RlZF9mcm9tLmJhbGFuY2UgPT09IDApIHtcbiAgICAgICAgICAgIGNyeXB0b19maWF0X2NvbnZlcnRlci5zZXRDb252ZXJ0ZXJGcm9tQW1vdW50KGFtb3VudCk7XG4gICAgICAgICAgICB0aGlzLnZhbGlkYXRlVHJhbnNmZXJGcm9tQW1vdW50KCk7XG4gICAgICAgICAgICBjcnlwdG9fZmlhdF9jb252ZXJ0ZXIub25DaGFuZ2VDb252ZXJ0ZXJGcm9tQW1vdW50KFxuICAgICAgICAgICAgICAgIHsgdGFyZ2V0OiB7IHZhbHVlOiBhbW91bnQgfSB9LFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkX2Zyb21fY3VycmVuY3ksXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRfdG9fY3VycmVuY3lcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjcnlwdG9fZmlhdF9jb252ZXJ0ZXIucmVzZXRDb252ZXJ0ZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBjcnlwdG9fZmlhdF9jb252ZXJ0ZXIuc2V0SXNUaW1lclZpc2libGUoZmFsc2UpO1xuICAgICAgICBnZW5lcmFsX3N0b3JlLnBlcmNlbnRhZ2VTZWxlY3RvclNlbGVjdGlvblN0YXR1cyhmYWxzZSk7XG4gICAgfVxuXG4gICAgdmFsaWRhdGVUcmFuc2ZlckZyb21BbW91bnQoKSB7XG4gICAgICAgIGNvbnN0IHsgY29udmVydGVyX2Zyb21fYW1vdW50LCBzZXRDb252ZXJ0ZXJGcm9tRXJyb3IgfSA9IHRoaXMucm9vdF9zdG9yZS5tb2R1bGVzLmNhc2hpZXIuY3J5cHRvX2ZpYXRfY29udmVydGVyO1xuXG4gICAgICAgIGlmICghY29udmVydGVyX2Zyb21fYW1vdW50KSB7XG4gICAgICAgICAgICBzZXRDb252ZXJ0ZXJGcm9tRXJyb3IobG9jYWxpemUoJ1RoaXMgZmllbGQgaXMgcmVxdWlyZWQuJykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgeyBpc19vaywgbWVzc2FnZSB9ID0gdmFsaWROdW1iZXIoY29udmVydGVyX2Zyb21fYW1vdW50LCB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2Zsb2F0JyxcbiAgICAgICAgICAgICAgICBkZWNpbWFsczogZ2V0RGVjaW1hbFBsYWNlcyh0aGlzLnNlbGVjdGVkX2Zyb20uY3VycmVuY3kpLFxuICAgICAgICAgICAgICAgIG1pbjogdGhpcy50cmFuc2Zlcl9saW1pdC5taW4sXG4gICAgICAgICAgICAgICAgbWF4OiB0aGlzLnRyYW5zZmVyX2xpbWl0Lm1heCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFpc19vaykge1xuICAgICAgICAgICAgICAgIHNldENvbnZlcnRlckZyb21FcnJvcihtZXNzYWdlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoK3RoaXMuc2VsZWN0ZWRfZnJvbS5iYWxhbmNlIDwgK2NvbnZlcnRlcl9mcm9tX2Ftb3VudCkge1xuICAgICAgICAgICAgICAgIHNldENvbnZlcnRlckZyb21FcnJvcihsb2NhbGl6ZSgnSW5zdWZmaWNpZW50IGZ1bmRzJykpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRDb252ZXJ0ZXJGcm9tRXJyb3IoJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFsaWRhdGVUcmFuc2ZlclRvQW1vdW50KCkge1xuICAgICAgICBjb25zdCB7IGNvbnZlcnRlcl90b19hbW91bnQsIHNldENvbnZlcnRlclRvRXJyb3IgfSA9IHRoaXMucm9vdF9zdG9yZS5tb2R1bGVzLmNhc2hpZXIuY3J5cHRvX2ZpYXRfY29udmVydGVyO1xuXG4gICAgICAgIGlmIChjb252ZXJ0ZXJfdG9fYW1vdW50KSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW5jeSA9IHRoaXMuc2VsZWN0ZWRfdG8uY3VycmVuY3k7XG4gICAgICAgICAgICBjb25zdCB7IGlzX29rLCBtZXNzYWdlIH0gPSB2YWxpZE51bWJlcihjb252ZXJ0ZXJfdG9fYW1vdW50LCB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2Zsb2F0JyxcbiAgICAgICAgICAgICAgICBkZWNpbWFsczogZ2V0RGVjaW1hbFBsYWNlcyhjdXJyZW5jeSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghaXNfb2spIHtcbiAgICAgICAgICAgICAgICBzZXRDb252ZXJ0ZXJUb0Vycm9yKG1lc3NhZ2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRDb252ZXJ0ZXJUb0Vycm9yKCcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./stores/account-transfer-store.js\n");

/***/ }),

/***/ "./stores/base-store.js":
/*!******************************!*\
  !*** ./stores/base-store.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ BaseStore)\n/* harmony export */ });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/shared */ \"@deriv/shared\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var Utils_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! Utils/validator */ \"./utils/validator/index.js\");\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n\n\n\n/**\n * BaseStore class is the base class for all defined stores in the application. It handles some stuff such as:\n *  1. Creating snapshot object from the store.\n *  2. Saving the store's snapshot in local/session storage and keeping them in sync.\n */\n\nvar BaseStore = /*#__PURE__*/function () {\n  /**\n   * An enum object to define LOCAL_STORAGE and SESSION_STORAGE\n   */\n\n  /**\n   * Constructor of the base class that gets properties' name of child which should be saved in storages\n   *\n   * @param {Object} options - An object that contains the following properties:\n   *     @property {Object}   root_store - An object that contains the root store of the app.\n   *     @property {String[]} local_storage_properties - A list of properties' names that should be kept in localStorage.\n   *     @property {String[]} session_storage_properties - A list of properties' names that should be kept in sessionStorage.\n   *     @property {Object}   validation_rules - An object that contains the validation rules for each property of the store.\n   *     @property {String}   store_name - Explicit store name for browser application storage (to bypass minification)\n   */\n  function BaseStore() {\n    var _this = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, BaseStore);\n\n    this.validation_errors = {};\n    this.validation_rules = {};\n    this.preSwitchAccountDisposer = null;\n    this.pre_switch_account_listener = null;\n    this.switchAccountDisposer = null;\n    this.switch_account_listener = null;\n    this.logoutDisposer = null;\n    this.logout_listener = null;\n    this.clientInitDisposer = null;\n    this.client_init_listener = null;\n    this.networkStatusChangeDisposer = null;\n    this.network_status_change_listener = null;\n    this.themeChangeDisposer = null;\n    this.theme_change_listener = null;\n    this.realAccountSignupEndedDisposer = null;\n    this.real_account_signup_ended_listener = null;\n    this.partial_fetch_time = 0;\n    (0,mobx__WEBPACK_IMPORTED_MODULE_0__.makeObservable)(this, {\n      validation_errors: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      validation_rules: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      partial_fetch_time: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      retrieveFromStorage: mobx__WEBPACK_IMPORTED_MODULE_0__.action,\n      setValidationErrorMessages: mobx__WEBPACK_IMPORTED_MODULE_0__.action,\n      setValidationRules: mobx__WEBPACK_IMPORTED_MODULE_0__.action,\n      addRule: mobx__WEBPACK_IMPORTED_MODULE_0__.action,\n      validateProperty: mobx__WEBPACK_IMPORTED_MODULE_0__.action,\n      validateAllProperties: mobx__WEBPACK_IMPORTED_MODULE_0__.action,\n      onSwitchAccount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onPreSwitchAccount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onLogout: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onClientInit: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onNetworkStatusChange: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onThemeChange: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onRealAccountSignupEnd: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      disposePreSwitchAccount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      disposeSwitchAccount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      disposeLogout: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      disposeClientInit: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      disposeNetworkStatusChange: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      disposeThemeChange: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      disposeRealAccountSignupEnd: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onUnmount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      assertHasValidCache: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound\n    });\n    var root_store = options.root_store,\n        local_storage_properties = options.local_storage_properties,\n        session_storage_properties = options.session_storage_properties,\n        validation_rules = options.validation_rules,\n        store_name = options.store_name;\n    Object.defineProperty(this, 'root_store', {\n      enumerable: false,\n      writable: true\n    });\n    Object.defineProperty(this, 'local_storage_properties', {\n      enumerable: false,\n      writable: true\n    });\n    Object.defineProperty(this, 'session_storage_properties', {\n      enumerable: false,\n      writable: true\n    });\n    var has_local_or_session_storage = local_storage_properties && local_storage_properties.length || session_storage_properties && session_storage_properties.length;\n\n    if (has_local_or_session_storage) {\n      if (!store_name) {\n        throw new Error('store_name is required for local/session storage');\n      }\n\n      Object.defineProperty(this, 'store_name', {\n        value: store_name,\n        enumerable: false,\n        writable: false\n      });\n    }\n\n    this.root_store = root_store;\n    this.local_storage_properties = local_storage_properties || [];\n    this.session_storage_properties = session_storage_properties || [];\n    setTimeout(function () {\n      _this.setValidationRules(validation_rules);\n\n      _this.setupReactionForLocalStorage();\n\n      _this.setupReactionForSessionStorage();\n\n      _this.retrieveFromStorage();\n    }, 0);\n  }\n  /**\n   * Returns an snapshot of the current store\n   *\n   * @param {String[]} properties - A list of properties' names that should be in the snapshot.\n   *\n   * @return {Object} Returns a cloned object of the store.\n   */\n\n\n  _createClass(BaseStore, [{\n    key: \"getSnapshot\",\n    value: function getSnapshot(properties) {\n      var snapshot = (0,mobx__WEBPACK_IMPORTED_MODULE_0__.toJS)(this);\n\n      if (!(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isEmptyObject)(this.root_store)) {\n        snapshot.root_store = this.root_store;\n      }\n\n      if (properties && properties.length) {\n        snapshot = properties.reduce(function (result, p) {\n          return Object.assign(result, _defineProperty({}, p, snapshot[p]));\n        }, {});\n      }\n\n      return snapshot;\n    }\n    /**\n     * Sets up a reaction on properties which are mentioned in `local_storage_properties`\n     *  and invokes `saveToStorage` when there are any changes on them.\n     *\n     */\n\n  }, {\n    key: \"setupReactionForLocalStorage\",\n    value: function setupReactionForLocalStorage() {\n      var _this2 = this;\n\n      if (this.local_storage_properties.length) {\n        (0,mobx__WEBPACK_IMPORTED_MODULE_0__.reaction)(function () {\n          return _this2.local_storage_properties.map(function (i) {\n            return _this2[i];\n          });\n        }, function () {\n          return _this2.saveToStorage(_this2.local_storage_properties, BaseStore.STORAGES.LOCAL_STORAGE);\n        });\n      }\n    }\n    /**\n     * Sets up a reaction on properties which are mentioned in `session_storage_properties`\n     *  and invokes `saveToStorage` when there are any changes on them.\n     *\n     */\n\n  }, {\n    key: \"setupReactionForSessionStorage\",\n    value: function setupReactionForSessionStorage() {\n      var _this3 = this;\n\n      if (this.session_storage_properties.length) {\n        (0,mobx__WEBPACK_IMPORTED_MODULE_0__.reaction)(function () {\n          return _this3.session_storage_properties.map(function (i) {\n            return _this3[i];\n          });\n        }, function () {\n          return _this3.saveToStorage(_this3.session_storage_properties, BaseStore.STORAGES.SESSION_STORAGE);\n        });\n      }\n    }\n    /**\n     * Removes properties that are not passed from the snapshot of the store and saves it to the passed storage\n     *\n     * @param {String[]} properties - A list of the store's properties' names which should be saved in the storage.\n     * @param {Symbol}   storage    - A symbol object that defines the storage which the snapshot should be stored in it.\n     *\n     */\n\n  }, {\n    key: \"saveToStorage\",\n    value: function saveToStorage(properties, storage) {\n      var snapshot = JSON.stringify(this.getSnapshot(properties), function (key, value) {\n        if (value !== null) return value;\n        return undefined;\n      });\n\n      if (storage === BaseStore.STORAGES.LOCAL_STORAGE) {\n        localStorage.setItem(this.store_name, snapshot);\n      } else if (storage === BaseStore.STORAGES.SESSION_STORAGE) {\n        sessionStorage.setItem(this.store_name, snapshot);\n      }\n    }\n    /**\n     * Retrieves saved snapshot of the store and assigns to the current instance.\n     *\n     */\n\n  }, {\n    key: \"retrieveFromStorage\",\n    value: function retrieveFromStorage() {\n      var _this4 = this;\n\n      var local_storage_snapshot = JSON.parse(localStorage.getItem(this.store_name, {}));\n      var session_storage_snapshot = JSON.parse(sessionStorage.getItem(this.store_name, {}));\n\n      var snapshot = _objectSpread(_objectSpread({}, local_storage_snapshot), session_storage_snapshot);\n\n      Object.keys(snapshot).forEach(function (k) {\n        return _this4[k] = snapshot[k];\n      });\n    }\n    /**\n     * Sets validation error messages for an observable property of the store\n     *\n     * @param {String} propertyName - The observable property's name\n     * @param [{String}] messages - An array of strings that contains validation error messages for the particular property.\n     *\n     */\n\n  }, {\n    key: \"setValidationErrorMessages\",\n    value: function setValidationErrorMessages(propertyName, messages) {\n      var _this5 = this;\n\n      var is_different = function is_different() {\n        return !!_this5.validation_errors[propertyName].filter(function (x) {\n          return !messages.includes(x);\n        }).concat(messages.filter(function (x) {\n          return !_this5.validation_errors[propertyName].includes(x);\n        })).length;\n      };\n\n      if (!this.validation_errors[propertyName] || is_different()) {\n        this.validation_errors[propertyName] = messages;\n      }\n    }\n    /**\n     * Sets validation rules\n     *\n     * @param {object} rules\n     *\n     */\n\n  }, {\n    key: \"setValidationRules\",\n    value: function setValidationRules() {\n      var _this6 = this;\n\n      var rules = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      Object.keys(rules).forEach(function (key) {\n        _this6.addRule(key, rules[key]);\n      });\n    }\n    /**\n     * Adds rules to the particular property\n     *\n     * @param {String} property\n     * @param {String} rules\n     *\n     */\n\n  }, {\n    key: \"addRule\",\n    value: function addRule(property, rules) {\n      var _this7 = this;\n\n      this.validation_rules[property] = rules;\n      (0,mobx__WEBPACK_IMPORTED_MODULE_0__.intercept)(this, property, function (change) {\n        _this7.validateProperty(property, change.newValue);\n\n        return change;\n      });\n    }\n    /**\n     * Validates a particular property of the store\n     *\n     * @param {String} property - The name of the property in the store\n     * @param {object} value    - The value of the property, it can be undefined.\n     *\n     */\n\n  }, {\n    key: \"validateProperty\",\n    value: function validateProperty(property, value) {\n      var _this8 = this;\n\n      var trigger = this.validation_rules[property].trigger;\n\n      var inputs = _defineProperty({}, property, value !== undefined ? value : this[property]);\n\n      var validation_rules = _defineProperty({}, property, this.validation_rules[property].rules || []);\n\n      if (!!trigger && Object.hasOwnProperty.call(this, trigger)) {\n        inputs[trigger] = this[trigger];\n        validation_rules[trigger] = this.validation_rules[trigger].rules || [];\n      }\n\n      var validator = new Utils_validator__WEBPACK_IMPORTED_MODULE_2__[\"default\"](inputs, validation_rules, this);\n      validator.isPassed();\n      Object.keys(inputs).forEach(function (key) {\n        _this8.setValidationErrorMessages(key, validator.errors.get(key));\n      });\n    }\n    /**\n     * Validates all properties which validation rule has been set for.\n     *\n     */\n\n  }, {\n    key: \"validateAllProperties\",\n    value: function validateAllProperties() {\n      var _this9 = this;\n\n      var validation_rules = Object.keys(this.validation_rules);\n      var validation_errors = Object.keys(this.validation_errors);\n      validation_rules.forEach(function (p) {\n        _this9.validateProperty(p, _this9[p]);\n      }); // Remove keys that are present in error, but not in rules:\n\n      validation_errors.forEach(function (error) {\n        if (!validation_rules.includes(error)) {\n          delete _this9.validation_errors[error];\n        }\n      });\n    }\n  }, {\n    key: \"onSwitchAccount\",\n    value: function onSwitchAccount(listener) {\n      var _this10 = this;\n\n      if (listener) {\n        this.switch_account_listener = listener;\n        this.switchAccountDisposer = (0,mobx__WEBPACK_IMPORTED_MODULE_0__.when)(function () {\n          return _this10.root_store.client.switch_broadcast;\n        }, function () {\n          try {\n            var result = _this10.switch_account_listener();\n\n            if (result && result.then && typeof result.then === 'function') {\n              result.then(function () {\n                _this10.root_store.client.switchEndSignal();\n\n                _this10.onSwitchAccount(_this10.switch_account_listener);\n              });\n            } else {\n              throw new Error('Switching account listeners are required to return a promise.');\n            }\n          } catch (error) {\n            // there is no listener currently active. so we can just ignore the error raised from treating\n            // a null object as a function. Although, in development mode, we throw a console error.\n            if (!(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isProduction)()) {\n              console.error(error); // eslint-disable-line\n            }\n          }\n        });\n      }\n    }\n  }, {\n    key: \"onPreSwitchAccount\",\n    value: function onPreSwitchAccount(listener) {\n      var _this11 = this;\n\n      if (listener) {\n        this.pre_switch_account_listener = listener;\n        this.preSwitchAccountDisposer = (0,mobx__WEBPACK_IMPORTED_MODULE_0__.when)(function () {\n          return _this11.root_store.client.pre_switch_broadcast;\n        }, function () {\n          try {\n            var result = _this11.pre_switch_account_listener();\n\n            if (result && result.then && typeof result.then === 'function') {\n              result.then(function () {\n                _this11.root_store.client.setPreSwitchAccount(false);\n\n                _this11.onPreSwitchAccount(_this11.pre_switch_account_listener);\n              });\n            } else {\n              throw new Error('Pre-switch account listeners are required to return a promise.');\n            }\n          } catch (error) {\n            // there is no listener currently active. so we can just ignore the error raised from treating\n            // a null object as a function. Although, in development mode, we throw a console error.\n            if (!(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isProduction)()) {\n              console.error(error); // eslint-disable-line\n            }\n          }\n        });\n      }\n    }\n  }, {\n    key: \"onLogout\",\n    value: function onLogout(listener) {\n      var _this12 = this;\n\n      this.logoutDisposer = (0,mobx__WEBPACK_IMPORTED_MODULE_0__.when)(function () {\n        return _this12.root_store.client.has_logged_out;\n      }, /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var result;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                result = _this12.logout_listener();\n\n                if (!(result && result.then && typeof result.then === 'function')) {\n                  _context.next = 6;\n                  break;\n                }\n\n                result.then(function () {\n                  _this12.root_store.client.setLogout(false);\n\n                  _this12.onLogout(_this12.logout_listener);\n                });\n                _context.next = 7;\n                break;\n\n              case 6:\n                throw new Error('Logout listeners are required to return a promise.');\n\n              case 7:\n                _context.next = 12;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](0);\n\n                // there is no listener currently active. so we can just ignore the error raised from treating\n                // a null object as a function. Although, in development mode, we throw a console error.\n                if (!(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isProduction)()) {\n                  console.error(_context.t0); // eslint-disable-line\n                }\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 9]]);\n      })));\n      this.logout_listener = listener;\n    }\n  }, {\n    key: \"onClientInit\",\n    value: function onClientInit(listener) {\n      var _this13 = this;\n\n      this.clientInitDisposer = (0,mobx__WEBPACK_IMPORTED_MODULE_0__.when)(function () {\n        return _this13.root_store.client.initialized_broadcast;\n      }, /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        var result;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                result = _this13.client_init_listener();\n\n                if (!(result && result.then && typeof result.then === 'function')) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                result.then(function () {\n                  _this13.root_store.client.setInitialized(false);\n\n                  _this13.onClientInit(_this13.client_init_listener);\n                });\n                _context2.next = 7;\n                break;\n\n              case 6:\n                throw new Error('Client init listeners are required to return a promise.');\n\n              case 7:\n                _context2.next = 12;\n                break;\n\n              case 9:\n                _context2.prev = 9;\n                _context2.t0 = _context2[\"catch\"](0);\n\n                // there is no listener currently active. so we can just ignore the error raised from treating\n                // a null object as a function. Although, in development mode, we throw a console error.\n                if (!(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isProduction)()) {\n                  console.error(_context2.t0); // eslint-disable-line\n                }\n\n              case 12:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[0, 9]]);\n      })));\n      this.client_init_listener = listener;\n    }\n  }, {\n    key: \"onNetworkStatusChange\",\n    value: function onNetworkStatusChange(listener) {\n      var _this14 = this;\n\n      this.networkStatusChangeDisposer = (0,mobx__WEBPACK_IMPORTED_MODULE_0__.reaction)(function () {\n        return _this14.root_store.common.is_network_online;\n      }, function (is_online) {\n        try {\n          _this14.network_status_change_listener(is_online);\n        } catch (error) {\n          // there is no listener currently active. so we can just ignore the error raised from treating\n          // a null object as a function. Although, in development mode, we throw a console error.\n          if (!(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isProduction)()) {\n            console.error(error); // eslint-disable-line\n          }\n        }\n      });\n      this.network_status_change_listener = listener;\n    }\n  }, {\n    key: \"onThemeChange\",\n    value: function onThemeChange(listener) {\n      var _this15 = this;\n\n      this.themeChangeDisposer = (0,mobx__WEBPACK_IMPORTED_MODULE_0__.reaction)(function () {\n        return _this15.root_store.ui.is_dark_mode_on;\n      }, function (is_dark_mode_on) {\n        try {\n          _this15.theme_change_listener(is_dark_mode_on);\n        } catch (error) {\n          // there is no listener currently active. so we can just ignore the error raised from treating\n          // a null object as a function. Although, in development mode, we throw a console error.\n          if (!(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isProduction)()) {\n            console.error(error); // eslint-disable-line\n          }\n        }\n      });\n      this.theme_change_listener = listener;\n    }\n  }, {\n    key: \"onRealAccountSignupEnd\",\n    value: function onRealAccountSignupEnd(listener) {\n      var _this16 = this;\n\n      this.realAccountSignupEndedDisposer = (0,mobx__WEBPACK_IMPORTED_MODULE_0__.when)(function () {\n        return _this16.root_store.ui.has_real_account_signup_ended;\n      }, function () {\n        try {\n          var result = _this16.real_account_signup_ended_listener();\n\n          if (result && result.then && typeof result.then === 'function') {\n            result.then(function () {\n              _this16.root_store.ui.setRealAccountSignupEnd(false);\n\n              _this16.onRealAccountSignupEnd(_this16.real_account_signup_ended_listener);\n            });\n          } else {\n            throw new Error('Real account signup listeners are required to return a promise.');\n          }\n        } catch (error) {\n          // there is no listener currently active. so we can just ignore the error raised from treating\n          // a null object as a function. Although, in development mode, we throw a console error.\n          if (!(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isProduction)()) {\n            console.error(error); // eslint-disable-line\n          }\n        }\n      });\n      this.real_account_signup_ended_listener = listener;\n    }\n  }, {\n    key: \"disposePreSwitchAccount\",\n    value: function disposePreSwitchAccount() {\n      if (typeof this.preSwitchAccountDisposer === 'function') {\n        this.preSwitchAccountDisposer();\n      }\n\n      this.pre_switch_account_listener = null;\n    }\n  }, {\n    key: \"disposeSwitchAccount\",\n    value: function disposeSwitchAccount() {\n      if (typeof this.switchAccountDisposer === 'function') {\n        this.switchAccountDisposer();\n      }\n\n      this.switch_account_listener = null;\n    }\n  }, {\n    key: \"disposeLogout\",\n    value: function disposeLogout() {\n      if (typeof this.logoutDisposer === 'function') {\n        this.logoutDisposer();\n      }\n\n      this.logout_listener = null;\n    }\n  }, {\n    key: \"disposeClientInit\",\n    value: function disposeClientInit() {\n      if (typeof this.clientInitDisposer === 'function') {\n        this.clientInitDisposer();\n      }\n\n      this.client_init_listener = null;\n    }\n  }, {\n    key: \"disposeNetworkStatusChange\",\n    value: function disposeNetworkStatusChange() {\n      if (typeof this.networkStatusChangeDisposer === 'function') {\n        this.networkStatusChangeDisposer();\n      }\n\n      this.network_status_change_listener = null;\n    }\n  }, {\n    key: \"disposeThemeChange\",\n    value: function disposeThemeChange() {\n      if (typeof this.themeChangeDisposer === 'function') {\n        this.themeChangeDisposer();\n      }\n\n      this.theme_change_listener = null;\n    }\n  }, {\n    key: \"disposeRealAccountSignupEnd\",\n    value: function disposeRealAccountSignupEnd() {\n      if (typeof this.realAccountSignupEndedDisposer === 'function') {\n        this.realAccountSignupEndedDisposer();\n      }\n\n      this.real_account_signup_ended_listener = null;\n    }\n  }, {\n    key: \"onUnmount\",\n    value: function onUnmount() {\n      this.disposePreSwitchAccount();\n      this.disposeSwitchAccount();\n      this.disposeLogout();\n      this.disposeClientInit();\n      this.disposeNetworkStatusChange();\n      this.disposeThemeChange();\n      this.disposeRealAccountSignupEnd();\n    }\n  }, {\n    key: \"assertHasValidCache\",\n    value: function assertHasValidCache(loginid) {\n      // account was changed when this was unmounted.\n      if (this.root_store.client.loginid !== loginid) {\n        for (var _len = arguments.length, reactions = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          reactions[_key - 1] = arguments[_key];\n        }\n\n        reactions.forEach(function (act) {\n          return act();\n        });\n        this.partial_fetch_time = false;\n      }\n    }\n  }]);\n\n  return BaseStore;\n}();\n\nBaseStore.STORAGES = Object.freeze({\n  LOCAL_STORAGE: Symbol('LOCAL_STORAGE'),\n  SESSION_STORAGE: Symbol('SESSION_STORAGE')\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zdG9yZXMvYmFzZS1zdG9yZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFpQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOztBQUFBOztBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBekJBO0FBNEJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFLQTs7QUFJQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBQ0E7QUFBQTs7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFDQTtBQUFBOztBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBQ0E7QUFBQTs7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFDQTtBQUFBOztBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUhBOztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBQ0E7QUFBQTs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFDQTtBQUFBOztBQUNBO0FBRUE7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUNBO0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFDQTtBQUFBOztBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUFBOztBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7OztBQUVBO0FBQUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7O0FBRUE7QUFBQTs7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTs7QUFGQTtBQUFBO0FBQUE7QUFBQTs7QUFJQTtBQUNBOztBQUNBO0FBQ0E7QUFQQTtBQUFBOztBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTs7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQWhCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQW9CQTtBQUNBOzs7QUFFQTtBQUFBOztBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBOztBQUZBO0FBQUE7QUFBQTtBQUFBOztBQUlBO0FBQ0E7O0FBQ0E7QUFDQTtBQVBBO0FBQUE7O0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBaEJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBb0JBO0FBQ0E7OztBQUVBO0FBQUE7O0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBOzs7QUFFQTtBQUFBOztBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTs7O0FBRUE7QUFBQTs7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFGQTtBQUVBOztBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBbmhCQTtBQUtBO0FBQ0E7QUFGQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9jYXNoaWVyLy4vc3RvcmVzL2Jhc2Utc3RvcmUuanM/NzdjNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhY3Rpb24sIGludGVyY2VwdCwgb2JzZXJ2YWJsZSwgcmVhY3Rpb24sIHRvSlMsIHdoZW4sIG1ha2VPYnNlcnZhYmxlIH0gZnJvbSAnbW9ieCc7XG5pbXBvcnQgeyBpc1Byb2R1Y3Rpb24sIGlzRW1wdHlPYmplY3QgfSBmcm9tICdAZGVyaXYvc2hhcmVkJztcblxuaW1wb3J0IFZhbGlkYXRvciBmcm9tICdVdGlscy92YWxpZGF0b3InO1xuXG4vKipcbiAqIEJhc2VTdG9yZSBjbGFzcyBpcyB0aGUgYmFzZSBjbGFzcyBmb3IgYWxsIGRlZmluZWQgc3RvcmVzIGluIHRoZSBhcHBsaWNhdGlvbi4gSXQgaGFuZGxlcyBzb21lIHN0dWZmIHN1Y2ggYXM6XG4gKiAgMS4gQ3JlYXRpbmcgc25hcHNob3Qgb2JqZWN0IGZyb20gdGhlIHN0b3JlLlxuICogIDIuIFNhdmluZyB0aGUgc3RvcmUncyBzbmFwc2hvdCBpbiBsb2NhbC9zZXNzaW9uIHN0b3JhZ2UgYW5kIGtlZXBpbmcgdGhlbSBpbiBzeW5jLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXNlU3RvcmUge1xuICAgIC8qKlxuICAgICAqIEFuIGVudW0gb2JqZWN0IHRvIGRlZmluZSBMT0NBTF9TVE9SQUdFIGFuZCBTRVNTSU9OX1NUT1JBR0VcbiAgICAgKi9cbiAgICBzdGF0aWMgU1RPUkFHRVMgPSBPYmplY3QuZnJlZXplKHtcbiAgICAgICAgTE9DQUxfU1RPUkFHRTogU3ltYm9sKCdMT0NBTF9TVE9SQUdFJyksXG4gICAgICAgIFNFU1NJT05fU1RPUkFHRTogU3ltYm9sKCdTRVNTSU9OX1NUT1JBR0UnKSxcbiAgICB9KTtcblxuICAgIHZhbGlkYXRpb25fZXJyb3JzID0ge307XG5cbiAgICB2YWxpZGF0aW9uX3J1bGVzID0ge307XG5cbiAgICBwcmVTd2l0Y2hBY2NvdW50RGlzcG9zZXIgPSBudWxsO1xuICAgIHByZV9zd2l0Y2hfYWNjb3VudF9saXN0ZW5lciA9IG51bGw7XG5cbiAgICBzd2l0Y2hBY2NvdW50RGlzcG9zZXIgPSBudWxsO1xuICAgIHN3aXRjaF9hY2NvdW50X2xpc3RlbmVyID0gbnVsbDtcblxuICAgIGxvZ291dERpc3Bvc2VyID0gbnVsbDtcbiAgICBsb2dvdXRfbGlzdGVuZXIgPSBudWxsO1xuXG4gICAgY2xpZW50SW5pdERpc3Bvc2VyID0gbnVsbDtcbiAgICBjbGllbnRfaW5pdF9saXN0ZW5lciA9IG51bGw7XG5cbiAgICBuZXR3b3JrU3RhdHVzQ2hhbmdlRGlzcG9zZXIgPSBudWxsO1xuICAgIG5ldHdvcmtfc3RhdHVzX2NoYW5nZV9saXN0ZW5lciA9IG51bGw7XG5cbiAgICB0aGVtZUNoYW5nZURpc3Bvc2VyID0gbnVsbDtcbiAgICB0aGVtZV9jaGFuZ2VfbGlzdGVuZXIgPSBudWxsO1xuXG4gICAgcmVhbEFjY291bnRTaWdudXBFbmRlZERpc3Bvc2VyID0gbnVsbDtcbiAgICByZWFsX2FjY291bnRfc2lnbnVwX2VuZGVkX2xpc3RlbmVyID0gbnVsbDtcblxuICAgIHBhcnRpYWxfZmV0Y2hfdGltZSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvciBvZiB0aGUgYmFzZSBjbGFzcyB0aGF0IGdldHMgcHJvcGVydGllcycgbmFtZSBvZiBjaGlsZCB3aGljaCBzaG91bGQgYmUgc2F2ZWQgaW4gc3RvcmFnZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gQW4gb2JqZWN0IHRoYXQgY29udGFpbnMgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgICAqICAgICBAcHJvcGVydHkge09iamVjdH0gICByb290X3N0b3JlIC0gQW4gb2JqZWN0IHRoYXQgY29udGFpbnMgdGhlIHJvb3Qgc3RvcmUgb2YgdGhlIGFwcC5cbiAgICAgKiAgICAgQHByb3BlcnR5IHtTdHJpbmdbXX0gbG9jYWxfc3RvcmFnZV9wcm9wZXJ0aWVzIC0gQSBsaXN0IG9mIHByb3BlcnRpZXMnIG5hbWVzIHRoYXQgc2hvdWxkIGJlIGtlcHQgaW4gbG9jYWxTdG9yYWdlLlxuICAgICAqICAgICBAcHJvcGVydHkge1N0cmluZ1tdfSBzZXNzaW9uX3N0b3JhZ2VfcHJvcGVydGllcyAtIEEgbGlzdCBvZiBwcm9wZXJ0aWVzJyBuYW1lcyB0aGF0IHNob3VsZCBiZSBrZXB0IGluIHNlc3Npb25TdG9yYWdlLlxuICAgICAqICAgICBAcHJvcGVydHkge09iamVjdH0gICB2YWxpZGF0aW9uX3J1bGVzIC0gQW4gb2JqZWN0IHRoYXQgY29udGFpbnMgdGhlIHZhbGlkYXRpb24gcnVsZXMgZm9yIGVhY2ggcHJvcGVydHkgb2YgdGhlIHN0b3JlLlxuICAgICAqICAgICBAcHJvcGVydHkge1N0cmluZ30gICBzdG9yZV9uYW1lIC0gRXhwbGljaXQgc3RvcmUgbmFtZSBmb3IgYnJvd3NlciBhcHBsaWNhdGlvbiBzdG9yYWdlICh0byBieXBhc3MgbWluaWZpY2F0aW9uKVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBtYWtlT2JzZXJ2YWJsZSh0aGlzLCB7XG4gICAgICAgICAgICB2YWxpZGF0aW9uX2Vycm9yczogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIHZhbGlkYXRpb25fcnVsZXM6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBwYXJ0aWFsX2ZldGNoX3RpbWU6IG9ic2VydmFibGUsXG4gICAgICAgICAgICByZXRyaWV2ZUZyb21TdG9yYWdlOiBhY3Rpb24sXG4gICAgICAgICAgICBzZXRWYWxpZGF0aW9uRXJyb3JNZXNzYWdlczogYWN0aW9uLFxuICAgICAgICAgICAgc2V0VmFsaWRhdGlvblJ1bGVzOiBhY3Rpb24sXG4gICAgICAgICAgICBhZGRSdWxlOiBhY3Rpb24sXG4gICAgICAgICAgICB2YWxpZGF0ZVByb3BlcnR5OiBhY3Rpb24sXG4gICAgICAgICAgICB2YWxpZGF0ZUFsbFByb3BlcnRpZXM6IGFjdGlvbixcbiAgICAgICAgICAgIG9uU3dpdGNoQWNjb3VudDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgb25QcmVTd2l0Y2hBY2NvdW50OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBvbkxvZ291dDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgb25DbGllbnRJbml0OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBvbk5ldHdvcmtTdGF0dXNDaGFuZ2U6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIG9uVGhlbWVDaGFuZ2U6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIG9uUmVhbEFjY291bnRTaWdudXBFbmQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIGRpc3Bvc2VQcmVTd2l0Y2hBY2NvdW50OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBkaXNwb3NlU3dpdGNoQWNjb3VudDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgZGlzcG9zZUxvZ291dDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgZGlzcG9zZUNsaWVudEluaXQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIGRpc3Bvc2VOZXR3b3JrU3RhdHVzQ2hhbmdlOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBkaXNwb3NlVGhlbWVDaGFuZ2U6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIGRpc3Bvc2VSZWFsQWNjb3VudFNpZ251cEVuZDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgb25Vbm1vdW50OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBhc3NlcnRIYXNWYWxpZENhY2hlOiBhY3Rpb24uYm91bmQsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHsgcm9vdF9zdG9yZSwgbG9jYWxfc3RvcmFnZV9wcm9wZXJ0aWVzLCBzZXNzaW9uX3N0b3JhZ2VfcHJvcGVydGllcywgdmFsaWRhdGlvbl9ydWxlcywgc3RvcmVfbmFtZSB9ID1cbiAgICAgICAgICAgIG9wdGlvbnM7XG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdyb290X3N0b3JlJywge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbG9jYWxfc3RvcmFnZV9wcm9wZXJ0aWVzJywge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnc2Vzc2lvbl9zdG9yYWdlX3Byb3BlcnRpZXMnLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBoYXNfbG9jYWxfb3Jfc2Vzc2lvbl9zdG9yYWdlID1cbiAgICAgICAgICAgIChsb2NhbF9zdG9yYWdlX3Byb3BlcnRpZXMgJiYgbG9jYWxfc3RvcmFnZV9wcm9wZXJ0aWVzLmxlbmd0aCkgfHxcbiAgICAgICAgICAgIChzZXNzaW9uX3N0b3JhZ2VfcHJvcGVydGllcyAmJiBzZXNzaW9uX3N0b3JhZ2VfcHJvcGVydGllcy5sZW5ndGgpO1xuXG4gICAgICAgIGlmIChoYXNfbG9jYWxfb3Jfc2Vzc2lvbl9zdG9yYWdlKSB7XG4gICAgICAgICAgICBpZiAoIXN0b3JlX25hbWUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3N0b3JlX25hbWUgaXMgcmVxdWlyZWQgZm9yIGxvY2FsL3Nlc3Npb24gc3RvcmFnZScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3N0b3JlX25hbWUnLCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHN0b3JlX25hbWUsXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJvb3Rfc3RvcmUgPSByb290X3N0b3JlO1xuICAgICAgICB0aGlzLmxvY2FsX3N0b3JhZ2VfcHJvcGVydGllcyA9IGxvY2FsX3N0b3JhZ2VfcHJvcGVydGllcyB8fCBbXTtcbiAgICAgICAgdGhpcy5zZXNzaW9uX3N0b3JhZ2VfcHJvcGVydGllcyA9IHNlc3Npb25fc3RvcmFnZV9wcm9wZXJ0aWVzIHx8IFtdO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXRWYWxpZGF0aW9uUnVsZXModmFsaWRhdGlvbl9ydWxlcyk7XG4gICAgICAgICAgICB0aGlzLnNldHVwUmVhY3Rpb25Gb3JMb2NhbFN0b3JhZ2UoKTtcbiAgICAgICAgICAgIHRoaXMuc2V0dXBSZWFjdGlvbkZvclNlc3Npb25TdG9yYWdlKCk7XG4gICAgICAgICAgICB0aGlzLnJldHJpZXZlRnJvbVN0b3JhZ2UoKTtcbiAgICAgICAgfSwgMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBzbmFwc2hvdCBvZiB0aGUgY3VycmVudCBzdG9yZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmdbXX0gcHJvcGVydGllcyAtIEEgbGlzdCBvZiBwcm9wZXJ0aWVzJyBuYW1lcyB0aGF0IHNob3VsZCBiZSBpbiB0aGUgc25hcHNob3QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFJldHVybnMgYSBjbG9uZWQgb2JqZWN0IG9mIHRoZSBzdG9yZS5cbiAgICAgKi9cbiAgICBnZXRTbmFwc2hvdChwcm9wZXJ0aWVzKSB7XG4gICAgICAgIGxldCBzbmFwc2hvdCA9IHRvSlModGhpcyk7XG5cbiAgICAgICAgaWYgKCFpc0VtcHR5T2JqZWN0KHRoaXMucm9vdF9zdG9yZSkpIHtcbiAgICAgICAgICAgIHNuYXBzaG90LnJvb3Rfc3RvcmUgPSB0aGlzLnJvb3Rfc3RvcmU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHJvcGVydGllcyAmJiBwcm9wZXJ0aWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgc25hcHNob3QgPSBwcm9wZXJ0aWVzLnJlZHVjZSgocmVzdWx0LCBwKSA9PiBPYmplY3QuYXNzaWduKHJlc3VsdCwgeyBbcF06IHNuYXBzaG90W3BdIH0pLCB7fSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc25hcHNob3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCBhIHJlYWN0aW9uIG9uIHByb3BlcnRpZXMgd2hpY2ggYXJlIG1lbnRpb25lZCBpbiBgbG9jYWxfc3RvcmFnZV9wcm9wZXJ0aWVzYFxuICAgICAqICBhbmQgaW52b2tlcyBgc2F2ZVRvU3RvcmFnZWAgd2hlbiB0aGVyZSBhcmUgYW55IGNoYW5nZXMgb24gdGhlbS5cbiAgICAgKlxuICAgICAqL1xuICAgIHNldHVwUmVhY3Rpb25Gb3JMb2NhbFN0b3JhZ2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmxvY2FsX3N0b3JhZ2VfcHJvcGVydGllcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJlYWN0aW9uKFxuICAgICAgICAgICAgICAgICgpID0+IHRoaXMubG9jYWxfc3RvcmFnZV9wcm9wZXJ0aWVzLm1hcChpID0+IHRoaXNbaV0pLFxuICAgICAgICAgICAgICAgICgpID0+IHRoaXMuc2F2ZVRvU3RvcmFnZSh0aGlzLmxvY2FsX3N0b3JhZ2VfcHJvcGVydGllcywgQmFzZVN0b3JlLlNUT1JBR0VTLkxPQ0FMX1NUT1JBR0UpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCBhIHJlYWN0aW9uIG9uIHByb3BlcnRpZXMgd2hpY2ggYXJlIG1lbnRpb25lZCBpbiBgc2Vzc2lvbl9zdG9yYWdlX3Byb3BlcnRpZXNgXG4gICAgICogIGFuZCBpbnZva2VzIGBzYXZlVG9TdG9yYWdlYCB3aGVuIHRoZXJlIGFyZSBhbnkgY2hhbmdlcyBvbiB0aGVtLlxuICAgICAqXG4gICAgICovXG4gICAgc2V0dXBSZWFjdGlvbkZvclNlc3Npb25TdG9yYWdlKCkge1xuICAgICAgICBpZiAodGhpcy5zZXNzaW9uX3N0b3JhZ2VfcHJvcGVydGllcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJlYWN0aW9uKFxuICAgICAgICAgICAgICAgICgpID0+IHRoaXMuc2Vzc2lvbl9zdG9yYWdlX3Byb3BlcnRpZXMubWFwKGkgPT4gdGhpc1tpXSksXG4gICAgICAgICAgICAgICAgKCkgPT4gdGhpcy5zYXZlVG9TdG9yYWdlKHRoaXMuc2Vzc2lvbl9zdG9yYWdlX3Byb3BlcnRpZXMsIEJhc2VTdG9yZS5TVE9SQUdFUy5TRVNTSU9OX1NUT1JBR0UpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBwcm9wZXJ0aWVzIHRoYXQgYXJlIG5vdCBwYXNzZWQgZnJvbSB0aGUgc25hcHNob3Qgb2YgdGhlIHN0b3JlIGFuZCBzYXZlcyBpdCB0byB0aGUgcGFzc2VkIHN0b3JhZ2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nW119IHByb3BlcnRpZXMgLSBBIGxpc3Qgb2YgdGhlIHN0b3JlJ3MgcHJvcGVydGllcycgbmFtZXMgd2hpY2ggc2hvdWxkIGJlIHNhdmVkIGluIHRoZSBzdG9yYWdlLlxuICAgICAqIEBwYXJhbSB7U3ltYm9sfSAgIHN0b3JhZ2UgICAgLSBBIHN5bWJvbCBvYmplY3QgdGhhdCBkZWZpbmVzIHRoZSBzdG9yYWdlIHdoaWNoIHRoZSBzbmFwc2hvdCBzaG91bGQgYmUgc3RvcmVkIGluIGl0LlxuICAgICAqXG4gICAgICovXG4gICAgc2F2ZVRvU3RvcmFnZShwcm9wZXJ0aWVzLCBzdG9yYWdlKSB7XG4gICAgICAgIGNvbnN0IHNuYXBzaG90ID0gSlNPTi5zdHJpbmdpZnkodGhpcy5nZXRTbmFwc2hvdChwcm9wZXJ0aWVzKSwgKGtleSwgdmFsdWUpID0+IHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCkgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHN0b3JhZ2UgPT09IEJhc2VTdG9yZS5TVE9SQUdFUy5MT0NBTF9TVE9SQUdFKSB7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLnN0b3JlX25hbWUsIHNuYXBzaG90KTtcbiAgICAgICAgfSBlbHNlIGlmIChzdG9yYWdlID09PSBCYXNlU3RvcmUuU1RPUkFHRVMuU0VTU0lPTl9TVE9SQUdFKSB7XG4gICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKHRoaXMuc3RvcmVfbmFtZSwgc25hcHNob3QpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHNhdmVkIHNuYXBzaG90IG9mIHRoZSBzdG9yZSBhbmQgYXNzaWducyB0byB0aGUgY3VycmVudCBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqL1xuICAgIHJldHJpZXZlRnJvbVN0b3JhZ2UoKSB7XG4gICAgICAgIGNvbnN0IGxvY2FsX3N0b3JhZ2Vfc25hcHNob3QgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuc3RvcmVfbmFtZSwge30pKTtcbiAgICAgICAgY29uc3Qgc2Vzc2lvbl9zdG9yYWdlX3NuYXBzaG90ID0gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKHRoaXMuc3RvcmVfbmFtZSwge30pKTtcblxuICAgICAgICBjb25zdCBzbmFwc2hvdCA9IHsgLi4ubG9jYWxfc3RvcmFnZV9zbmFwc2hvdCwgLi4uc2Vzc2lvbl9zdG9yYWdlX3NuYXBzaG90IH07XG5cbiAgICAgICAgT2JqZWN0LmtleXMoc25hcHNob3QpLmZvckVhY2goayA9PiAodGhpc1trXSA9IHNuYXBzaG90W2tdKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB2YWxpZGF0aW9uIGVycm9yIG1lc3NhZ2VzIGZvciBhbiBvYnNlcnZhYmxlIHByb3BlcnR5IG9mIHRoZSBzdG9yZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5TmFtZSAtIFRoZSBvYnNlcnZhYmxlIHByb3BlcnR5J3MgbmFtZVxuICAgICAqIEBwYXJhbSBbe1N0cmluZ31dIG1lc3NhZ2VzIC0gQW4gYXJyYXkgb2Ygc3RyaW5ncyB0aGF0IGNvbnRhaW5zIHZhbGlkYXRpb24gZXJyb3IgbWVzc2FnZXMgZm9yIHRoZSBwYXJ0aWN1bGFyIHByb3BlcnR5LlxuICAgICAqXG4gICAgICovXG4gICAgc2V0VmFsaWRhdGlvbkVycm9yTWVzc2FnZXMocHJvcGVydHlOYW1lLCBtZXNzYWdlcykge1xuICAgICAgICBjb25zdCBpc19kaWZmZXJlbnQgPSAoKSA9PlxuICAgICAgICAgICAgISF0aGlzLnZhbGlkYXRpb25fZXJyb3JzW3Byb3BlcnR5TmFtZV1cbiAgICAgICAgICAgICAgICAuZmlsdGVyKHggPT4gIW1lc3NhZ2VzLmluY2x1ZGVzKHgpKVxuICAgICAgICAgICAgICAgIC5jb25jYXQobWVzc2FnZXMuZmlsdGVyKHggPT4gIXRoaXMudmFsaWRhdGlvbl9lcnJvcnNbcHJvcGVydHlOYW1lXS5pbmNsdWRlcyh4KSkpLmxlbmd0aDtcbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRpb25fZXJyb3JzW3Byb3BlcnR5TmFtZV0gfHwgaXNfZGlmZmVyZW50KCkpIHtcbiAgICAgICAgICAgIHRoaXMudmFsaWRhdGlvbl9lcnJvcnNbcHJvcGVydHlOYW1lXSA9IG1lc3NhZ2VzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB2YWxpZGF0aW9uIHJ1bGVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcnVsZXNcbiAgICAgKlxuICAgICAqL1xuICAgIHNldFZhbGlkYXRpb25SdWxlcyhydWxlcyA9IHt9KSB7XG4gICAgICAgIE9iamVjdC5rZXlzKHJ1bGVzKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFkZFJ1bGUoa2V5LCBydWxlc1trZXldKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBydWxlcyB0byB0aGUgcGFydGljdWxhciBwcm9wZXJ0eVxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHJ1bGVzXG4gICAgICpcbiAgICAgKi9cbiAgICBhZGRSdWxlKHByb3BlcnR5LCBydWxlcykge1xuICAgICAgICB0aGlzLnZhbGlkYXRpb25fcnVsZXNbcHJvcGVydHldID0gcnVsZXM7XG5cbiAgICAgICAgaW50ZXJjZXB0KHRoaXMsIHByb3BlcnR5LCBjaGFuZ2UgPT4ge1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZVByb3BlcnR5KHByb3BlcnR5LCBjaGFuZ2UubmV3VmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIGNoYW5nZTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmFsaWRhdGVzIGEgcGFydGljdWxhciBwcm9wZXJ0eSBvZiB0aGUgc3RvcmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eSAtIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSBpbiB0aGUgc3RvcmVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gdmFsdWUgICAgLSBUaGUgdmFsdWUgb2YgdGhlIHByb3BlcnR5LCBpdCBjYW4gYmUgdW5kZWZpbmVkLlxuICAgICAqXG4gICAgICovXG4gICAgdmFsaWRhdGVQcm9wZXJ0eShwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgdHJpZ2dlciA9IHRoaXMudmFsaWRhdGlvbl9ydWxlc1twcm9wZXJ0eV0udHJpZ2dlcjtcbiAgICAgICAgY29uc3QgaW5wdXRzID0geyBbcHJvcGVydHldOiB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiB0aGlzW3Byb3BlcnR5XSB9O1xuICAgICAgICBjb25zdCB2YWxpZGF0aW9uX3J1bGVzID0geyBbcHJvcGVydHldOiB0aGlzLnZhbGlkYXRpb25fcnVsZXNbcHJvcGVydHldLnJ1bGVzIHx8IFtdIH07XG5cbiAgICAgICAgaWYgKCEhdHJpZ2dlciAmJiBPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLCB0cmlnZ2VyKSkge1xuICAgICAgICAgICAgaW5wdXRzW3RyaWdnZXJdID0gdGhpc1t0cmlnZ2VyXTtcbiAgICAgICAgICAgIHZhbGlkYXRpb25fcnVsZXNbdHJpZ2dlcl0gPSB0aGlzLnZhbGlkYXRpb25fcnVsZXNbdHJpZ2dlcl0ucnVsZXMgfHwgW107XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB2YWxpZGF0b3IgPSBuZXcgVmFsaWRhdG9yKGlucHV0cywgdmFsaWRhdGlvbl9ydWxlcywgdGhpcyk7XG5cbiAgICAgICAgdmFsaWRhdG9yLmlzUGFzc2VkKCk7XG5cbiAgICAgICAgT2JqZWN0LmtleXMoaW5wdXRzKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldFZhbGlkYXRpb25FcnJvck1lc3NhZ2VzKGtleSwgdmFsaWRhdG9yLmVycm9ycy5nZXQoa2V5KSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlcyBhbGwgcHJvcGVydGllcyB3aGljaCB2YWxpZGF0aW9uIHJ1bGUgaGFzIGJlZW4gc2V0IGZvci5cbiAgICAgKlxuICAgICAqL1xuICAgIHZhbGlkYXRlQWxsUHJvcGVydGllcygpIHtcbiAgICAgICAgY29uc3QgdmFsaWRhdGlvbl9ydWxlcyA9IE9iamVjdC5rZXlzKHRoaXMudmFsaWRhdGlvbl9ydWxlcyk7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRpb25fZXJyb3JzID0gT2JqZWN0LmtleXModGhpcy52YWxpZGF0aW9uX2Vycm9ycyk7XG5cbiAgICAgICAgdmFsaWRhdGlvbl9ydWxlcy5mb3JFYWNoKHAgPT4ge1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZVByb3BlcnR5KHAsIHRoaXNbcF0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBSZW1vdmUga2V5cyB0aGF0IGFyZSBwcmVzZW50IGluIGVycm9yLCBidXQgbm90IGluIHJ1bGVzOlxuICAgICAgICB2YWxpZGF0aW9uX2Vycm9ycy5mb3JFYWNoKGVycm9yID0+IHtcbiAgICAgICAgICAgIGlmICghdmFsaWRhdGlvbl9ydWxlcy5pbmNsdWRlcyhlcnJvcikpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy52YWxpZGF0aW9uX2Vycm9yc1tlcnJvcl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uU3dpdGNoQWNjb3VudChsaXN0ZW5lcikge1xuICAgICAgICBpZiAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHRoaXMuc3dpdGNoX2FjY291bnRfbGlzdGVuZXIgPSBsaXN0ZW5lcjtcblxuICAgICAgICAgICAgdGhpcy5zd2l0Y2hBY2NvdW50RGlzcG9zZXIgPSB3aGVuKFxuICAgICAgICAgICAgICAgICgpID0+IHRoaXMucm9vdF9zdG9yZS5jbGllbnQuc3dpdGNoX2Jyb2FkY2FzdCxcbiAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnN3aXRjaF9hY2NvdW50X2xpc3RlbmVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC50aGVuICYmIHR5cGVvZiByZXN1bHQudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yb290X3N0b3JlLmNsaWVudC5zd2l0Y2hFbmRTaWduYWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vblN3aXRjaEFjY291bnQodGhpcy5zd2l0Y2hfYWNjb3VudF9saXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU3dpdGNoaW5nIGFjY291bnQgbGlzdGVuZXJzIGFyZSByZXF1aXJlZCB0byByZXR1cm4gYSBwcm9taXNlLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlcmUgaXMgbm8gbGlzdGVuZXIgY3VycmVudGx5IGFjdGl2ZS4gc28gd2UgY2FuIGp1c3QgaWdub3JlIHRoZSBlcnJvciByYWlzZWQgZnJvbSB0cmVhdGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYSBudWxsIG9iamVjdCBhcyBhIGZ1bmN0aW9uLiBBbHRob3VnaCwgaW4gZGV2ZWxvcG1lbnQgbW9kZSwgd2UgdGhyb3cgYSBjb25zb2xlIGVycm9yLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1Byb2R1Y3Rpb24oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25QcmVTd2l0Y2hBY2NvdW50KGxpc3RlbmVyKSB7XG4gICAgICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgdGhpcy5wcmVfc3dpdGNoX2FjY291bnRfbGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgICAgICAgICAgIHRoaXMucHJlU3dpdGNoQWNjb3VudERpc3Bvc2VyID0gd2hlbihcbiAgICAgICAgICAgICAgICAoKSA9PiB0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LnByZV9zd2l0Y2hfYnJvYWRjYXN0LFxuICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMucHJlX3N3aXRjaF9hY2NvdW50X2xpc3RlbmVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC50aGVuICYmIHR5cGVvZiByZXN1bHQudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yb290X3N0b3JlLmNsaWVudC5zZXRQcmVTd2l0Y2hBY2NvdW50KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vblByZVN3aXRjaEFjY291bnQodGhpcy5wcmVfc3dpdGNoX2FjY291bnRfbGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ByZS1zd2l0Y2ggYWNjb3VudCBsaXN0ZW5lcnMgYXJlIHJlcXVpcmVkIHRvIHJldHVybiBhIHByb21pc2UuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGVyZSBpcyBubyBsaXN0ZW5lciBjdXJyZW50bHkgYWN0aXZlLiBzbyB3ZSBjYW4ganVzdCBpZ25vcmUgdGhlIGVycm9yIHJhaXNlZCBmcm9tIHRyZWF0aW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhIG51bGwgb2JqZWN0IGFzIGEgZnVuY3Rpb24uIEFsdGhvdWdoLCBpbiBkZXZlbG9wbWVudCBtb2RlLCB3ZSB0aHJvdyBhIGNvbnNvbGUgZXJyb3IuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzUHJvZHVjdGlvbigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkxvZ291dChsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLmxvZ291dERpc3Bvc2VyID0gd2hlbihcbiAgICAgICAgICAgICgpID0+IHRoaXMucm9vdF9zdG9yZS5jbGllbnQuaGFzX2xvZ2dlZF9vdXQsXG4gICAgICAgICAgICBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5sb2dvdXRfbGlzdGVuZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQudGhlbiAmJiB0eXBlb2YgcmVzdWx0LnRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LnNldExvZ291dChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkxvZ291dCh0aGlzLmxvZ291dF9saXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTG9nb3V0IGxpc3RlbmVycyBhcmUgcmVxdWlyZWQgdG8gcmV0dXJuIGEgcHJvbWlzZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZXJlIGlzIG5vIGxpc3RlbmVyIGN1cnJlbnRseSBhY3RpdmUuIHNvIHdlIGNhbiBqdXN0IGlnbm9yZSB0aGUgZXJyb3IgcmFpc2VkIGZyb20gdHJlYXRpbmdcbiAgICAgICAgICAgICAgICAgICAgLy8gYSBudWxsIG9iamVjdCBhcyBhIGZ1bmN0aW9uLiBBbHRob3VnaCwgaW4gZGV2ZWxvcG1lbnQgbW9kZSwgd2UgdGhyb3cgYSBjb25zb2xlIGVycm9yLlxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzUHJvZHVjdGlvbigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgICB0aGlzLmxvZ291dF9saXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgIH1cblxuICAgIG9uQ2xpZW50SW5pdChsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLmNsaWVudEluaXREaXNwb3NlciA9IHdoZW4oXG4gICAgICAgICAgICAoKSA9PiB0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LmluaXRpYWxpemVkX2Jyb2FkY2FzdCxcbiAgICAgICAgICAgIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLmNsaWVudF9pbml0X2xpc3RlbmVyKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LnRoZW4gJiYgdHlwZW9mIHJlc3VsdC50aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yb290X3N0b3JlLmNsaWVudC5zZXRJbml0aWFsaXplZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkNsaWVudEluaXQodGhpcy5jbGllbnRfaW5pdF9saXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2xpZW50IGluaXQgbGlzdGVuZXJzIGFyZSByZXF1aXJlZCB0byByZXR1cm4gYSBwcm9taXNlLicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlcmUgaXMgbm8gbGlzdGVuZXIgY3VycmVudGx5IGFjdGl2ZS4gc28gd2UgY2FuIGp1c3QgaWdub3JlIHRoZSBlcnJvciByYWlzZWQgZnJvbSB0cmVhdGluZ1xuICAgICAgICAgICAgICAgICAgICAvLyBhIG51bGwgb2JqZWN0IGFzIGEgZnVuY3Rpb24uIEFsdGhvdWdoLCBpbiBkZXZlbG9wbWVudCBtb2RlLCB3ZSB0aHJvdyBhIGNvbnNvbGUgZXJyb3IuXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNQcm9kdWN0aW9uKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuY2xpZW50X2luaXRfbGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgICB9XG5cbiAgICBvbk5ldHdvcmtTdGF0dXNDaGFuZ2UobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5uZXR3b3JrU3RhdHVzQ2hhbmdlRGlzcG9zZXIgPSByZWFjdGlvbihcbiAgICAgICAgICAgICgpID0+IHRoaXMucm9vdF9zdG9yZS5jb21tb24uaXNfbmV0d29ya19vbmxpbmUsXG4gICAgICAgICAgICBpc19vbmxpbmUgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmV0d29ya19zdGF0dXNfY2hhbmdlX2xpc3RlbmVyKGlzX29ubGluZSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlcmUgaXMgbm8gbGlzdGVuZXIgY3VycmVudGx5IGFjdGl2ZS4gc28gd2UgY2FuIGp1c3QgaWdub3JlIHRoZSBlcnJvciByYWlzZWQgZnJvbSB0cmVhdGluZ1xuICAgICAgICAgICAgICAgICAgICAvLyBhIG51bGwgb2JqZWN0IGFzIGEgZnVuY3Rpb24uIEFsdGhvdWdoLCBpbiBkZXZlbG9wbWVudCBtb2RlLCB3ZSB0aHJvdyBhIGNvbnNvbGUgZXJyb3IuXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNQcm9kdWN0aW9uKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5uZXR3b3JrX3N0YXR1c19jaGFuZ2VfbGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgICB9XG5cbiAgICBvblRoZW1lQ2hhbmdlKGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMudGhlbWVDaGFuZ2VEaXNwb3NlciA9IHJlYWN0aW9uKFxuICAgICAgICAgICAgKCkgPT4gdGhpcy5yb290X3N0b3JlLnVpLmlzX2RhcmtfbW9kZV9vbixcbiAgICAgICAgICAgIGlzX2RhcmtfbW9kZV9vbiA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aGVtZV9jaGFuZ2VfbGlzdGVuZXIoaXNfZGFya19tb2RlX29uKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGVyZSBpcyBubyBsaXN0ZW5lciBjdXJyZW50bHkgYWN0aXZlLiBzbyB3ZSBjYW4ganVzdCBpZ25vcmUgdGhlIGVycm9yIHJhaXNlZCBmcm9tIHRyZWF0aW5nXG4gICAgICAgICAgICAgICAgICAgIC8vIGEgbnVsbCBvYmplY3QgYXMgYSBmdW5jdGlvbi4gQWx0aG91Z2gsIGluIGRldmVsb3BtZW50IG1vZGUsIHdlIHRocm93IGEgY29uc29sZSBlcnJvci5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1Byb2R1Y3Rpb24oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLnRoZW1lX2NoYW5nZV9saXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgIH1cblxuICAgIG9uUmVhbEFjY291bnRTaWdudXBFbmQobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5yZWFsQWNjb3VudFNpZ251cEVuZGVkRGlzcG9zZXIgPSB3aGVuKFxuICAgICAgICAgICAgKCkgPT4gdGhpcy5yb290X3N0b3JlLnVpLmhhc19yZWFsX2FjY291bnRfc2lnbnVwX2VuZGVkLFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMucmVhbF9hY2NvdW50X3NpZ251cF9lbmRlZF9saXN0ZW5lcigpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC50aGVuICYmIHR5cGVvZiByZXN1bHQudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucm9vdF9zdG9yZS51aS5zZXRSZWFsQWNjb3VudFNpZ251cEVuZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vblJlYWxBY2NvdW50U2lnbnVwRW5kKHRoaXMucmVhbF9hY2NvdW50X3NpZ251cF9lbmRlZF9saXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVhbCBhY2NvdW50IHNpZ251cCBsaXN0ZW5lcnMgYXJlIHJlcXVpcmVkIHRvIHJldHVybiBhIHByb21pc2UuJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGVyZSBpcyBubyBsaXN0ZW5lciBjdXJyZW50bHkgYWN0aXZlLiBzbyB3ZSBjYW4ganVzdCBpZ25vcmUgdGhlIGVycm9yIHJhaXNlZCBmcm9tIHRyZWF0aW5nXG4gICAgICAgICAgICAgICAgICAgIC8vIGEgbnVsbCBvYmplY3QgYXMgYSBmdW5jdGlvbi4gQWx0aG91Z2gsIGluIGRldmVsb3BtZW50IG1vZGUsIHdlIHRocm93IGEgY29uc29sZSBlcnJvci5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1Byb2R1Y3Rpb24oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLnJlYWxfYWNjb3VudF9zaWdudXBfZW5kZWRfbGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgICB9XG5cbiAgICBkaXNwb3NlUHJlU3dpdGNoQWNjb3VudCgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnByZVN3aXRjaEFjY291bnREaXNwb3NlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5wcmVTd2l0Y2hBY2NvdW50RGlzcG9zZXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnByZV9zd2l0Y2hfYWNjb3VudF9saXN0ZW5lciA9IG51bGw7XG4gICAgfVxuXG4gICAgZGlzcG9zZVN3aXRjaEFjY291bnQoKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5zd2l0Y2hBY2NvdW50RGlzcG9zZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMuc3dpdGNoQWNjb3VudERpc3Bvc2VyKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zd2l0Y2hfYWNjb3VudF9saXN0ZW5lciA9IG51bGw7XG4gICAgfVxuXG4gICAgZGlzcG9zZUxvZ291dCgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmxvZ291dERpc3Bvc2VyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ291dERpc3Bvc2VyKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2dvdXRfbGlzdGVuZXIgPSBudWxsO1xuICAgIH1cblxuICAgIGRpc3Bvc2VDbGllbnRJbml0KCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuY2xpZW50SW5pdERpc3Bvc2VyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLmNsaWVudEluaXREaXNwb3NlcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2xpZW50X2luaXRfbGlzdGVuZXIgPSBudWxsO1xuICAgIH1cblxuICAgIGRpc3Bvc2VOZXR3b3JrU3RhdHVzQ2hhbmdlKCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMubmV0d29ya1N0YXR1c0NoYW5nZURpc3Bvc2VyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLm5ldHdvcmtTdGF0dXNDaGFuZ2VEaXNwb3NlcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmV0d29ya19zdGF0dXNfY2hhbmdlX2xpc3RlbmVyID0gbnVsbDtcbiAgICB9XG5cbiAgICBkaXNwb3NlVGhlbWVDaGFuZ2UoKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy50aGVtZUNoYW5nZURpc3Bvc2VyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLnRoZW1lQ2hhbmdlRGlzcG9zZXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRoZW1lX2NoYW5nZV9saXN0ZW5lciA9IG51bGw7XG4gICAgfVxuXG4gICAgZGlzcG9zZVJlYWxBY2NvdW50U2lnbnVwRW5kKCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMucmVhbEFjY291bnRTaWdudXBFbmRlZERpc3Bvc2VyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLnJlYWxBY2NvdW50U2lnbnVwRW5kZWREaXNwb3NlcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVhbF9hY2NvdW50X3NpZ251cF9lbmRlZF9saXN0ZW5lciA9IG51bGw7XG4gICAgfVxuXG4gICAgb25Vbm1vdW50KCkge1xuICAgICAgICB0aGlzLmRpc3Bvc2VQcmVTd2l0Y2hBY2NvdW50KCk7XG4gICAgICAgIHRoaXMuZGlzcG9zZVN3aXRjaEFjY291bnQoKTtcbiAgICAgICAgdGhpcy5kaXNwb3NlTG9nb3V0KCk7XG4gICAgICAgIHRoaXMuZGlzcG9zZUNsaWVudEluaXQoKTtcbiAgICAgICAgdGhpcy5kaXNwb3NlTmV0d29ya1N0YXR1c0NoYW5nZSgpO1xuICAgICAgICB0aGlzLmRpc3Bvc2VUaGVtZUNoYW5nZSgpO1xuICAgICAgICB0aGlzLmRpc3Bvc2VSZWFsQWNjb3VudFNpZ251cEVuZCgpO1xuICAgIH1cblxuICAgIGFzc2VydEhhc1ZhbGlkQ2FjaGUobG9naW5pZCwgLi4ucmVhY3Rpb25zKSB7XG4gICAgICAgIC8vIGFjY291bnQgd2FzIGNoYW5nZWQgd2hlbiB0aGlzIHdhcyB1bm1vdW50ZWQuXG4gICAgICAgIGlmICh0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LmxvZ2luaWQgIT09IGxvZ2luaWQpIHtcbiAgICAgICAgICAgIHJlYWN0aW9ucy5mb3JFYWNoKGFjdCA9PiBhY3QoKSk7XG4gICAgICAgICAgICB0aGlzLnBhcnRpYWxfZmV0Y2hfdGltZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./stores/base-store.js\n");

/***/ }),

/***/ "./stores/cashier-store.js":
/*!*********************************!*\
  !*** ./stores/cashier-store.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CashierStore)\n/* harmony export */ });\n/* harmony import */ var _account_prompt_dialog_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./account-prompt-dialog-store */ \"./stores/account-prompt-dialog-store.js\");\n/* harmony import */ var _account_transfer_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./account-transfer-store */ \"./stores/account-transfer-store.js\");\n/* harmony import */ var _crypto_fiat_converter_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./crypto-fiat-converter-store */ \"./stores/crypto-fiat-converter-store.js\");\n/* harmony import */ var _deposit_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./deposit-store */ \"./stores/deposit-store.ts\");\n/* harmony import */ var _error_dialog_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./error-dialog-store */ \"./stores/error-dialog-store.js\");\n/* harmony import */ var _error_store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./error-store */ \"./stores/error-store.ts\");\n/* harmony import */ var _general_store__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./general-store */ \"./stores/general-store.js\");\n/* harmony import */ var _iframe_store__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./iframe-store */ \"./stores/iframe-store.ts\");\n/* harmony import */ var _on_ramp_store__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./on-ramp-store */ \"./stores/on-ramp-store.js\");\n/* harmony import */ var _payment_agent_store__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./payment-agent-store */ \"./stores/payment-agent-store.js\");\n/* harmony import */ var _payment_agent_transfer_store__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./payment-agent-transfer-store */ \"./stores/payment-agent-transfer-store.js\");\n/* harmony import */ var _transaction_history_store__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./transaction-history-store */ \"./stores/transaction-history-store.js\");\n/* harmony import */ var _withdraw_store__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./withdraw-store */ \"./stores/withdraw-store.js\");\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar CashierStore = /*#__PURE__*/_createClass(function CashierStore(_ref) {\n  var root_store = _ref.root_store,\n      WS = _ref.WS;\n\n  _classCallCheck(this, CashierStore);\n\n  this.account_prompt_dialog = new _account_prompt_dialog_store__WEBPACK_IMPORTED_MODULE_0__[\"default\"](root_store);\n  this.account_transfer = new _account_transfer_store__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n    root_store: root_store,\n    WS: WS\n  });\n  this.crypto_fiat_converter = new _crypto_fiat_converter_store__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n    root_store: root_store,\n    WS: WS\n  });\n  this.deposit = new _deposit_store__WEBPACK_IMPORTED_MODULE_3__[\"default\"](WS, root_store);\n  this.error_dialog = new _error_dialog_store__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n  this.error = new _error_store__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\n  this.general_store = new _general_store__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\n    root_store: root_store,\n    WS: WS\n  });\n  this.iframe = new _iframe_store__WEBPACK_IMPORTED_MODULE_7__[\"default\"](root_store);\n  this.onramp = new _on_ramp_store__WEBPACK_IMPORTED_MODULE_8__[\"default\"]({\n    root_store: root_store,\n    WS: WS\n  });\n  this.payment_agent = new _payment_agent_store__WEBPACK_IMPORTED_MODULE_9__[\"default\"]({\n    root_store: root_store,\n    WS: WS\n  });\n  this.payment_agent_transfer = new _payment_agent_transfer_store__WEBPACK_IMPORTED_MODULE_10__[\"default\"]({\n    root_store: root_store,\n    WS: WS\n  });\n  this.transaction_history = new _transaction_history_store__WEBPACK_IMPORTED_MODULE_11__[\"default\"]({\n    root_store: root_store,\n    WS: WS\n  });\n  this.withdraw = new _withdraw_store__WEBPACK_IMPORTED_MODULE_12__[\"default\"]({\n    root_store: root_store,\n    WS: WS\n  });\n});\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zdG9yZXMvY2FzaGllci1zdG9yZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFBQTs7QUFBQTs7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2Nhc2hpZXIvLi9zdG9yZXMvY2FzaGllci1zdG9yZS5qcz8wODI0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBBY2NvdW50UHJvbXB0RGlhbG9nU3RvcmUgZnJvbSAnLi9hY2NvdW50LXByb21wdC1kaWFsb2ctc3RvcmUnO1xuaW1wb3J0IEFjY291bnRUcmFuc2ZlclN0b3JlIGZyb20gJy4vYWNjb3VudC10cmFuc2Zlci1zdG9yZSc7XG5pbXBvcnQgQ3J5cHRvRmlhdENvbnZlcnRlclN0b3JlIGZyb20gJy4vY3J5cHRvLWZpYXQtY29udmVydGVyLXN0b3JlJztcbmltcG9ydCBEZXBvc2l0U3RvcmUgZnJvbSAnLi9kZXBvc2l0LXN0b3JlJztcbmltcG9ydCBFcnJvckRpYWxvZ1N0b3JlIGZyb20gJy4vZXJyb3ItZGlhbG9nLXN0b3JlJztcbmltcG9ydCBFcnJvclN0b3JlIGZyb20gJy4vZXJyb3Itc3RvcmUnO1xuaW1wb3J0IEdlbmVyYWxTdG9yZSBmcm9tICcuL2dlbmVyYWwtc3RvcmUnO1xuaW1wb3J0IElmcmFtZVN0b3JlIGZyb20gJy4vaWZyYW1lLXN0b3JlJztcbmltcG9ydCBPblJhbXBTdG9yZSBmcm9tICcuL29uLXJhbXAtc3RvcmUnO1xuaW1wb3J0IFBheW1lbnRBZ2VudFN0b3JlIGZyb20gJy4vcGF5bWVudC1hZ2VudC1zdG9yZSc7XG5pbXBvcnQgUGF5bWVudEFnZW50VHJhbnNmZXJTdG9yZSBmcm9tICcuL3BheW1lbnQtYWdlbnQtdHJhbnNmZXItc3RvcmUnO1xuaW1wb3J0IFRyYW5zYWN0aW9uSGlzdG9yeVN0b3JlIGZyb20gJy4vdHJhbnNhY3Rpb24taGlzdG9yeS1zdG9yZSc7XG5pbXBvcnQgV2l0aGRyYXdTdG9yZSBmcm9tICcuL3dpdGhkcmF3LXN0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FzaGllclN0b3JlIHtcbiAgICBjb25zdHJ1Y3Rvcih7IHJvb3Rfc3RvcmUsIFdTIH0pIHtcbiAgICAgICAgdGhpcy5hY2NvdW50X3Byb21wdF9kaWFsb2cgPSBuZXcgQWNjb3VudFByb21wdERpYWxvZ1N0b3JlKHJvb3Rfc3RvcmUpO1xuICAgICAgICB0aGlzLmFjY291bnRfdHJhbnNmZXIgPSBuZXcgQWNjb3VudFRyYW5zZmVyU3RvcmUoeyByb290X3N0b3JlLCBXUyB9KTtcbiAgICAgICAgdGhpcy5jcnlwdG9fZmlhdF9jb252ZXJ0ZXIgPSBuZXcgQ3J5cHRvRmlhdENvbnZlcnRlclN0b3JlKHsgcm9vdF9zdG9yZSwgV1MgfSk7XG4gICAgICAgIHRoaXMuZGVwb3NpdCA9IG5ldyBEZXBvc2l0U3RvcmUoV1MsIHJvb3Rfc3RvcmUpO1xuICAgICAgICB0aGlzLmVycm9yX2RpYWxvZyA9IG5ldyBFcnJvckRpYWxvZ1N0b3JlKCk7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBuZXcgRXJyb3JTdG9yZSgpO1xuICAgICAgICB0aGlzLmdlbmVyYWxfc3RvcmUgPSBuZXcgR2VuZXJhbFN0b3JlKHsgcm9vdF9zdG9yZSwgV1MgfSk7XG4gICAgICAgIHRoaXMuaWZyYW1lID0gbmV3IElmcmFtZVN0b3JlKHJvb3Rfc3RvcmUpO1xuICAgICAgICB0aGlzLm9ucmFtcCA9IG5ldyBPblJhbXBTdG9yZSh7IHJvb3Rfc3RvcmUsIFdTIH0pO1xuICAgICAgICB0aGlzLnBheW1lbnRfYWdlbnQgPSBuZXcgUGF5bWVudEFnZW50U3RvcmUoeyByb290X3N0b3JlLCBXUyB9KTtcbiAgICAgICAgdGhpcy5wYXltZW50X2FnZW50X3RyYW5zZmVyID0gbmV3IFBheW1lbnRBZ2VudFRyYW5zZmVyU3RvcmUoeyByb290X3N0b3JlLCBXUyB9KTtcbiAgICAgICAgdGhpcy50cmFuc2FjdGlvbl9oaXN0b3J5ID0gbmV3IFRyYW5zYWN0aW9uSGlzdG9yeVN0b3JlKHsgcm9vdF9zdG9yZSwgV1MgfSk7XG4gICAgICAgIHRoaXMud2l0aGRyYXcgPSBuZXcgV2l0aGRyYXdTdG9yZSh7IHJvb3Rfc3RvcmUsIFdTIH0pO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./stores/cashier-store.js\n");

/***/ }),

/***/ "./stores/crypto-fiat-converter-store.js":
/*!***********************************************!*\
  !*** ./stores/crypto-fiat-converter-store.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CryptoFiatConverterStore)\n/* harmony export */ });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/shared */ \"@deriv/shared\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__);\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n\n\n\nvar CryptoFiatConverterStore = /*#__PURE__*/function () {\n  function CryptoFiatConverterStore(_ref) {\n    var WS = _ref.WS,\n        root_store = _ref.root_store;\n\n    _classCallCheck(this, CryptoFiatConverterStore);\n\n    this.converter_from_amount = '';\n    this.converter_to_amount = '';\n    this.converter_from_error = '';\n    this.converter_to_error = '';\n    this.is_timer_visible = false;\n    (0,mobx__WEBPACK_IMPORTED_MODULE_0__.makeObservable)(this, {\n      converter_from_amount: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      converter_to_amount: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      converter_from_error: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      converter_to_error: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_timer_visible: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      setConverterFromAmount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setConverterToAmount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setConverterFromError: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setConverterToError: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsTimerVisible: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      resetTimer: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      getExchangeRate: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      validateFromAmount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      validateToAmount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onChangeConverterFromAmount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onChangeConverterToAmount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      resetConverter: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound\n    });\n    this.root_store = root_store;\n    this.WS = WS;\n  }\n\n  _createClass(CryptoFiatConverterStore, [{\n    key: \"setConverterFromAmount\",\n    value: function setConverterFromAmount(amount) {\n      this.converter_from_amount = amount;\n    }\n  }, {\n    key: \"setConverterToAmount\",\n    value: function setConverterToAmount(amount) {\n      this.converter_to_amount = amount;\n    }\n  }, {\n    key: \"setConverterFromError\",\n    value: function setConverterFromError(error) {\n      this.converter_from_error = error;\n    }\n  }, {\n    key: \"setConverterToError\",\n    value: function setConverterToError(error) {\n      this.converter_to_error = error;\n    }\n  }, {\n    key: \"setIsTimerVisible\",\n    value: function setIsTimerVisible(is_timer_visible) {\n      this.is_timer_visible = is_timer_visible;\n    }\n  }, {\n    key: \"resetTimer\",\n    value: function resetTimer() {\n      this.setIsTimerVisible(false);\n    }\n  }, {\n    key: \"getExchangeRate\",\n    value: function () {\n      var _getExchangeRate = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(from_currency, to_currency) {\n        var _yield$this$WS$send, exchange_rates;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.WS.send({\n                  exchange_rates: 1,\n                  base_currency: from_currency\n                });\n\n              case 2:\n                _yield$this$WS$send = _context.sent;\n                exchange_rates = _yield$this$WS$send.exchange_rates;\n                return _context.abrupt(\"return\", exchange_rates.rates[to_currency]);\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getExchangeRate(_x, _x2) {\n        return _getExchangeRate.apply(this, arguments);\n      }\n\n      return getExchangeRate;\n    }()\n  }, {\n    key: \"validateFromAmount\",\n    value: function validateFromAmount() {\n      var _this$root_store$modu = this.root_store.modules.cashier,\n          account_transfer = _this$root_store$modu.account_transfer,\n          general_store = _this$root_store$modu.general_store,\n          withdraw = _this$root_store$modu.withdraw;\n\n      if (general_store.active_container === account_transfer.container) {\n        account_transfer.validateTransferFromAmount();\n      } else {\n        withdraw.validateWithdrawFromAmount();\n      }\n    }\n  }, {\n    key: \"validateToAmount\",\n    value: function validateToAmount() {\n      var _this$root_store$modu2 = this.root_store.modules.cashier,\n          account_transfer = _this$root_store$modu2.account_transfer,\n          general_store = _this$root_store$modu2.general_store,\n          withdraw = _this$root_store$modu2.withdraw;\n\n      if (general_store.active_container === account_transfer.container) {\n        account_transfer.validateTransferToAmount();\n      } else {\n        withdraw.validateWithdrawToAmount();\n      }\n    }\n  }, {\n    key: \"onChangeConverterFromAmount\",\n    value: function () {\n      var _onChangeConverterFromAmount = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(_ref2, from_currency, to_currency) {\n        var target, _this$root_store$modu3, account_transfer, general_store, rate, decimals, amount;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                target = _ref2.target;\n                _this$root_store$modu3 = this.root_store.modules.cashier, account_transfer = _this$root_store$modu3.account_transfer, general_store = _this$root_store$modu3.general_store;\n                this.resetTimer();\n\n                if (!target.value) {\n                  _context2.next = 27;\n                  break;\n                }\n\n                this.setConverterFromAmount(target.value);\n                this.validateFromAmount();\n                general_store.percentageSelectorSelectionStatus(true);\n                general_store.calculatePercentage();\n\n                if (!this.converter_from_error) {\n                  _context2.next = 15;\n                  break;\n                }\n\n                this.setConverterToAmount('');\n                this.setConverterToError('');\n                this.setIsTimerVisible(false);\n                account_transfer.setAccountTransferAmount('');\n                _context2.next = 25;\n                break;\n\n              case 15:\n                _context2.next = 17;\n                return this.getExchangeRate(from_currency, to_currency);\n\n              case 17:\n                rate = _context2.sent;\n                decimals = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getDecimalPlaces)(to_currency);\n                amount = (rate * target.value).toFixed(decimals);\n\n                if (+amount || this.converter_from_amount) {\n                  this.setConverterToAmount(amount);\n                } else {\n                  this.setConverterToAmount('');\n                }\n\n                this.validateToAmount();\n                this.setConverterToError('');\n                this.setIsTimerVisible(true);\n                account_transfer.setAccountTransferAmount(target.value);\n\n              case 25:\n                _context2.next = 28;\n                break;\n\n              case 27:\n                this.resetConverter();\n\n              case 28:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function onChangeConverterFromAmount(_x3, _x4, _x5) {\n        return _onChangeConverterFromAmount.apply(this, arguments);\n      }\n\n      return onChangeConverterFromAmount;\n    }()\n  }, {\n    key: \"onChangeConverterToAmount\",\n    value: function () {\n      var _onChangeConverterToAmount = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(_ref3, from_currency, to_currency) {\n        var target, _this$root_store$modu4, account_transfer, general_store, rate, decimals, amount;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                target = _ref3.target;\n                _this$root_store$modu4 = this.root_store.modules.cashier, account_transfer = _this$root_store$modu4.account_transfer, general_store = _this$root_store$modu4.general_store;\n                this.resetTimer();\n\n                if (!target.value) {\n                  _context3.next = 25;\n                  break;\n                }\n\n                this.setConverterToAmount(target.value);\n                this.validateToAmount();\n\n                if (!this.converter_to_error) {\n                  _context3.next = 13;\n                  break;\n                }\n\n                this.setConverterFromAmount('');\n                this.setConverterFromError('');\n                this.setIsTimerVisible(false);\n                account_transfer.setAccountTransferAmount('');\n                _context3.next = 23;\n                break;\n\n              case 13:\n                _context3.next = 15;\n                return this.getExchangeRate(from_currency, to_currency);\n\n              case 15:\n                rate = _context3.sent;\n                decimals = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getDecimalPlaces)(to_currency);\n                amount = (rate * target.value).toFixed(decimals);\n\n                if (+amount || this.converter_to_amount) {\n                  this.setConverterFromAmount(amount);\n                } else {\n                  this.setConverterFromAmount('');\n                }\n\n                general_store.percentageSelectorSelectionStatus(true);\n                general_store.calculatePercentage();\n                this.validateFromAmount();\n\n                if (this.converter_from_error) {\n                  this.setIsTimerVisible(false);\n                  account_transfer.setAccountTransferAmount('');\n                } else {\n                  this.setConverterFromError('');\n                  this.setIsTimerVisible(true);\n                  account_transfer.setAccountTransferAmount(amount);\n                }\n\n              case 23:\n                _context3.next = 26;\n                break;\n\n              case 25:\n                this.resetConverter();\n\n              case 26:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function onChangeConverterToAmount(_x6, _x7, _x8) {\n        return _onChangeConverterToAmount.apply(this, arguments);\n      }\n\n      return onChangeConverterToAmount;\n    }()\n  }, {\n    key: \"resetConverter\",\n    value: function resetConverter() {\n      this.setConverterFromAmount('');\n      this.setConverterToAmount('');\n      this.setConverterFromError('');\n      this.setConverterToError('');\n      this.setIsTimerVisible(false);\n      this.root_store.modules.cashier.general_store.percentageSelectorSelectionStatus(true);\n    }\n  }]);\n\n  return CryptoFiatConverterStore;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zdG9yZXMvY3J5cHRvLWZpYXQtY29udmVydGVyLXN0b3JlLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUFBO0FBQUE7O0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWpCQTtBQW9CQTtBQUNBO0FBQ0E7Ozs7QUFRQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7O0FBRUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBRkE7O0FBREE7QUFBQTtBQUNBO0FBREE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7Ozs7Ozs7QUFRQTtBQUNBO0FBQUE7QUFBQTtBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFFQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBOztBQUhBO0FBQUE7QUFBQTtBQUFBOztBQUtBO0FBQ0E7QUFDQTtBQUNBOztBQVJBO0FBQUE7QUFBQTtBQUFBOztBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBYkE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFlQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUExQkE7QUFBQTtBQUFBOztBQUFBO0FBNkJBOztBQTdCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7Ozs7Ozs7Ozs7QUFpQ0E7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTs7QUFIQTtBQUFBO0FBQUE7QUFBQTs7QUFLQTtBQUNBOztBQU5BO0FBQUE7QUFBQTtBQUFBOztBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBWEE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFhQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUEvQkE7QUFBQTtBQUFBOztBQUFBO0FBa0NBOztBQWxDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7Ozs7Ozs7OztBQXNDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2Nhc2hpZXIvLi9zdG9yZXMvY3J5cHRvLWZpYXQtY29udmVydGVyLXN0b3JlLmpzP2U1ZDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYWN0aW9uLCBvYnNlcnZhYmxlLCBtYWtlT2JzZXJ2YWJsZSB9IGZyb20gJ21vYngnO1xuaW1wb3J0IHsgZ2V0RGVjaW1hbFBsYWNlcyB9IGZyb20gJ0BkZXJpdi9zaGFyZWQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDcnlwdG9GaWF0Q29udmVydGVyU3RvcmUge1xuICAgIGNvbnN0cnVjdG9yKHsgV1MsIHJvb3Rfc3RvcmUgfSkge1xuICAgICAgICBtYWtlT2JzZXJ2YWJsZSh0aGlzLCB7XG4gICAgICAgICAgICBjb252ZXJ0ZXJfZnJvbV9hbW91bnQ6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBjb252ZXJ0ZXJfdG9fYW1vdW50OiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgY29udmVydGVyX2Zyb21fZXJyb3I6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBjb252ZXJ0ZXJfdG9fZXJyb3I6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBpc190aW1lcl92aXNpYmxlOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgc2V0Q29udmVydGVyRnJvbUFtb3VudDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0Q29udmVydGVyVG9BbW91bnQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldENvbnZlcnRlckZyb21FcnJvcjogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0Q29udmVydGVyVG9FcnJvcjogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0SXNUaW1lclZpc2libGU6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHJlc2V0VGltZXI6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIGdldEV4Y2hhbmdlUmF0ZTogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgdmFsaWRhdGVGcm9tQW1vdW50OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICB2YWxpZGF0ZVRvQW1vdW50OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBvbkNoYW5nZUNvbnZlcnRlckZyb21BbW91bnQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIG9uQ2hhbmdlQ29udmVydGVyVG9BbW91bnQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHJlc2V0Q29udmVydGVyOiBhY3Rpb24uYm91bmQsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMucm9vdF9zdG9yZSA9IHJvb3Rfc3RvcmU7XG4gICAgICAgIHRoaXMuV1MgPSBXUztcbiAgICB9XG5cbiAgICBjb252ZXJ0ZXJfZnJvbV9hbW91bnQgPSAnJztcbiAgICBjb252ZXJ0ZXJfdG9fYW1vdW50ID0gJyc7XG4gICAgY29udmVydGVyX2Zyb21fZXJyb3IgPSAnJztcbiAgICBjb252ZXJ0ZXJfdG9fZXJyb3IgPSAnJztcbiAgICBpc190aW1lcl92aXNpYmxlID0gZmFsc2U7XG5cbiAgICBzZXRDb252ZXJ0ZXJGcm9tQW1vdW50KGFtb3VudCkge1xuICAgICAgICB0aGlzLmNvbnZlcnRlcl9mcm9tX2Ftb3VudCA9IGFtb3VudDtcbiAgICB9XG5cbiAgICBzZXRDb252ZXJ0ZXJUb0Ftb3VudChhbW91bnQpIHtcbiAgICAgICAgdGhpcy5jb252ZXJ0ZXJfdG9fYW1vdW50ID0gYW1vdW50O1xuICAgIH1cblxuICAgIHNldENvbnZlcnRlckZyb21FcnJvcihlcnJvcikge1xuICAgICAgICB0aGlzLmNvbnZlcnRlcl9mcm9tX2Vycm9yID0gZXJyb3I7XG4gICAgfVxuXG4gICAgc2V0Q29udmVydGVyVG9FcnJvcihlcnJvcikge1xuICAgICAgICB0aGlzLmNvbnZlcnRlcl90b19lcnJvciA9IGVycm9yO1xuICAgIH1cblxuICAgIHNldElzVGltZXJWaXNpYmxlKGlzX3RpbWVyX3Zpc2libGUpIHtcbiAgICAgICAgdGhpcy5pc190aW1lcl92aXNpYmxlID0gaXNfdGltZXJfdmlzaWJsZTtcbiAgICB9XG5cbiAgICByZXNldFRpbWVyKCkge1xuICAgICAgICB0aGlzLnNldElzVGltZXJWaXNpYmxlKGZhbHNlKTtcbiAgICB9XG5cbiAgICBhc3luYyBnZXRFeGNoYW5nZVJhdGUoZnJvbV9jdXJyZW5jeSwgdG9fY3VycmVuY3kpIHtcbiAgICAgICAgY29uc3QgeyBleGNoYW5nZV9yYXRlcyB9ID0gYXdhaXQgdGhpcy5XUy5zZW5kKHtcbiAgICAgICAgICAgIGV4Y2hhbmdlX3JhdGVzOiAxLFxuICAgICAgICAgICAgYmFzZV9jdXJyZW5jeTogZnJvbV9jdXJyZW5jeSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBleGNoYW5nZV9yYXRlcy5yYXRlc1t0b19jdXJyZW5jeV07XG4gICAgfVxuXG4gICAgdmFsaWRhdGVGcm9tQW1vdW50KCkge1xuICAgICAgICBjb25zdCB7IGFjY291bnRfdHJhbnNmZXIsIGdlbmVyYWxfc3RvcmUsIHdpdGhkcmF3IH0gPSB0aGlzLnJvb3Rfc3RvcmUubW9kdWxlcy5jYXNoaWVyO1xuXG4gICAgICAgIGlmIChnZW5lcmFsX3N0b3JlLmFjdGl2ZV9jb250YWluZXIgPT09IGFjY291bnRfdHJhbnNmZXIuY29udGFpbmVyKSB7XG4gICAgICAgICAgICBhY2NvdW50X3RyYW5zZmVyLnZhbGlkYXRlVHJhbnNmZXJGcm9tQW1vdW50KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3aXRoZHJhdy52YWxpZGF0ZVdpdGhkcmF3RnJvbUFtb3VudCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFsaWRhdGVUb0Ftb3VudCgpIHtcbiAgICAgICAgY29uc3QgeyBhY2NvdW50X3RyYW5zZmVyLCBnZW5lcmFsX3N0b3JlLCB3aXRoZHJhdyB9ID0gdGhpcy5yb290X3N0b3JlLm1vZHVsZXMuY2FzaGllcjtcblxuICAgICAgICBpZiAoZ2VuZXJhbF9zdG9yZS5hY3RpdmVfY29udGFpbmVyID09PSBhY2NvdW50X3RyYW5zZmVyLmNvbnRhaW5lcikge1xuICAgICAgICAgICAgYWNjb3VudF90cmFuc2Zlci52YWxpZGF0ZVRyYW5zZmVyVG9BbW91bnQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdpdGhkcmF3LnZhbGlkYXRlV2l0aGRyYXdUb0Ftb3VudCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgb25DaGFuZ2VDb252ZXJ0ZXJGcm9tQW1vdW50KHsgdGFyZ2V0IH0sIGZyb21fY3VycmVuY3ksIHRvX2N1cnJlbmN5KSB7XG4gICAgICAgIGNvbnN0IHsgYWNjb3VudF90cmFuc2ZlciwgZ2VuZXJhbF9zdG9yZSB9ID0gdGhpcy5yb290X3N0b3JlLm1vZHVsZXMuY2FzaGllcjtcblxuICAgICAgICB0aGlzLnJlc2V0VGltZXIoKTtcbiAgICAgICAgaWYgKHRhcmdldC52YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5zZXRDb252ZXJ0ZXJGcm9tQW1vdW50KHRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICB0aGlzLnZhbGlkYXRlRnJvbUFtb3VudCgpO1xuICAgICAgICAgICAgZ2VuZXJhbF9zdG9yZS5wZXJjZW50YWdlU2VsZWN0b3JTZWxlY3Rpb25TdGF0dXModHJ1ZSk7XG4gICAgICAgICAgICBnZW5lcmFsX3N0b3JlLmNhbGN1bGF0ZVBlcmNlbnRhZ2UoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnZlcnRlcl9mcm9tX2Vycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDb252ZXJ0ZXJUb0Ftb3VudCgnJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDb252ZXJ0ZXJUb0Vycm9yKCcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldElzVGltZXJWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBhY2NvdW50X3RyYW5zZmVyLnNldEFjY291bnRUcmFuc2ZlckFtb3VudCgnJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhdGUgPSBhd2FpdCB0aGlzLmdldEV4Y2hhbmdlUmF0ZShmcm9tX2N1cnJlbmN5LCB0b19jdXJyZW5jeSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVjaW1hbHMgPSBnZXREZWNpbWFsUGxhY2VzKHRvX2N1cnJlbmN5KTtcbiAgICAgICAgICAgICAgICBjb25zdCBhbW91bnQgPSAocmF0ZSAqIHRhcmdldC52YWx1ZSkudG9GaXhlZChkZWNpbWFscyk7XG4gICAgICAgICAgICAgICAgaWYgKCthbW91bnQgfHwgdGhpcy5jb252ZXJ0ZXJfZnJvbV9hbW91bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRDb252ZXJ0ZXJUb0Ftb3VudChhbW91bnQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q29udmVydGVyVG9BbW91bnQoJycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnZhbGlkYXRlVG9BbW91bnQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldENvbnZlcnRlclRvRXJyb3IoJycpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0SXNUaW1lclZpc2libGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgYWNjb3VudF90cmFuc2Zlci5zZXRBY2NvdW50VHJhbnNmZXJBbW91bnQodGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXRDb252ZXJ0ZXIoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIG9uQ2hhbmdlQ29udmVydGVyVG9BbW91bnQoeyB0YXJnZXQgfSwgZnJvbV9jdXJyZW5jeSwgdG9fY3VycmVuY3kpIHtcbiAgICAgICAgY29uc3QgeyBhY2NvdW50X3RyYW5zZmVyLCBnZW5lcmFsX3N0b3JlIH0gPSB0aGlzLnJvb3Rfc3RvcmUubW9kdWxlcy5jYXNoaWVyO1xuXG4gICAgICAgIHRoaXMucmVzZXRUaW1lcigpO1xuICAgICAgICBpZiAodGFyZ2V0LnZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnNldENvbnZlcnRlclRvQW1vdW50KHRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICB0aGlzLnZhbGlkYXRlVG9BbW91bnQoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnZlcnRlcl90b19lcnJvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q29udmVydGVyRnJvbUFtb3VudCgnJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDb252ZXJ0ZXJGcm9tRXJyb3IoJycpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0SXNUaW1lclZpc2libGUoZmFsc2UpO1xuICAgICAgICAgICAgICAgIGFjY291bnRfdHJhbnNmZXIuc2V0QWNjb3VudFRyYW5zZmVyQW1vdW50KCcnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmF0ZSA9IGF3YWl0IHRoaXMuZ2V0RXhjaGFuZ2VSYXRlKGZyb21fY3VycmVuY3ksIHRvX2N1cnJlbmN5KTtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWNpbWFscyA9IGdldERlY2ltYWxQbGFjZXModG9fY3VycmVuY3kpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFtb3VudCA9IChyYXRlICogdGFyZ2V0LnZhbHVlKS50b0ZpeGVkKGRlY2ltYWxzKTtcbiAgICAgICAgICAgICAgICBpZiAoK2Ftb3VudCB8fCB0aGlzLmNvbnZlcnRlcl90b19hbW91bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRDb252ZXJ0ZXJGcm9tQW1vdW50KGFtb3VudCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRDb252ZXJ0ZXJGcm9tQW1vdW50KCcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ2VuZXJhbF9zdG9yZS5wZXJjZW50YWdlU2VsZWN0b3JTZWxlY3Rpb25TdGF0dXModHJ1ZSk7XG4gICAgICAgICAgICAgICAgZ2VuZXJhbF9zdG9yZS5jYWxjdWxhdGVQZXJjZW50YWdlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy52YWxpZGF0ZUZyb21BbW91bnQoKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb252ZXJ0ZXJfZnJvbV9lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldElzVGltZXJWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudF90cmFuc2Zlci5zZXRBY2NvdW50VHJhbnNmZXJBbW91bnQoJycpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q29udmVydGVyRnJvbUVycm9yKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRJc1RpbWVyVmlzaWJsZSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudF90cmFuc2Zlci5zZXRBY2NvdW50VHJhbnNmZXJBbW91bnQoYW1vdW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0Q29udmVydGVyKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXNldENvbnZlcnRlcigpIHtcbiAgICAgICAgdGhpcy5zZXRDb252ZXJ0ZXJGcm9tQW1vdW50KCcnKTtcbiAgICAgICAgdGhpcy5zZXRDb252ZXJ0ZXJUb0Ftb3VudCgnJyk7XG4gICAgICAgIHRoaXMuc2V0Q29udmVydGVyRnJvbUVycm9yKCcnKTtcbiAgICAgICAgdGhpcy5zZXRDb252ZXJ0ZXJUb0Vycm9yKCcnKTtcbiAgICAgICAgdGhpcy5zZXRJc1RpbWVyVmlzaWJsZShmYWxzZSk7XG4gICAgICAgIHRoaXMucm9vdF9zdG9yZS5tb2R1bGVzLmNhc2hpZXIuZ2VuZXJhbF9zdG9yZS5wZXJjZW50YWdlU2VsZWN0b3JTZWxlY3Rpb25TdGF0dXModHJ1ZSk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./stores/crypto-fiat-converter-store.js\n");

/***/ }),

/***/ "./stores/deposit-store.ts":
/*!*********************************!*\
  !*** ./stores/deposit-store.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DepositStore)\n/* harmony export */ });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var Constants_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! Constants/constants */ \"./constants/constants.js\");\n/* harmony import */ var _error_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./error-store */ \"./stores/error-store.ts\");\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n\n\n\n\nvar DepositStore = /*#__PURE__*/function () {\n  function DepositStore(WS, root_store) {\n    _classCallCheck(this, DepositStore);\n\n    this.WS = WS;\n    this.root_store = root_store;\n    this.container = Constants_constants__WEBPACK_IMPORTED_MODULE_1__[\"default\"].containers.deposit;\n    this.error = new _error_store__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n    (0,mobx__WEBPACK_IMPORTED_MODULE_0__.makeObservable)(this, {\n      container: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      error: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      onMountDeposit: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound\n    });\n    this.root_store = root_store;\n    this.WS = WS;\n  }\n\n  _createClass(DepositStore, [{\n    key: \"onMountDeposit\",\n    value: function () {\n      var _onMountDeposit = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _account_status$statu;\n\n        var _this$root_store, client, modules, _modules$cashier$gene, active_container, is_crypto, onMountCommon, setLoading, setOnRemount, _modules$cashier$ifra, checkIframeLoaded, clearTimeoutCashierUrl, is_session_timeout, setContainerHeight, setIframeUrl, setSessionTimeout, setTimeoutCashierUrl, account_status, is_virtual, updateAccountStatus, current_container, response_cashier;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this$root_store = this.root_store, client = _this$root_store.client, modules = _this$root_store.modules;\n                _modules$cashier$gene = modules.cashier.general_store, active_container = _modules$cashier$gene.active_container, is_crypto = _modules$cashier$gene.is_crypto, onMountCommon = _modules$cashier$gene.onMountCommon, setLoading = _modules$cashier$gene.setLoading, setOnRemount = _modules$cashier$gene.setOnRemount;\n                _modules$cashier$ifra = modules.cashier.iframe, checkIframeLoaded = _modules$cashier$ifra.checkIframeLoaded, clearTimeoutCashierUrl = _modules$cashier$ifra.clearTimeoutCashierUrl, is_session_timeout = _modules$cashier$ifra.is_session_timeout, setContainerHeight = _modules$cashier$ifra.setContainerHeight, setIframeUrl = _modules$cashier$ifra.setIframeUrl, setSessionTimeout = _modules$cashier$ifra.setSessionTimeout, setTimeoutCashierUrl = _modules$cashier$ifra.setTimeoutCashierUrl;\n                account_status = client.account_status, is_virtual = client.is_virtual, updateAccountStatus = client.updateAccountStatus;\n                current_container = active_container;\n                setOnRemount(this.onMountDeposit);\n                _context.next = 8;\n                return onMountCommon();\n\n              case 8:\n                this.error.setErrorMessage({\n                  code: '',\n                  message: ''\n                }, null, false);\n                setContainerHeight(0);\n\n                if (is_session_timeout) {\n                  _context.next = 13;\n                  break;\n                }\n\n                checkIframeLoaded();\n                return _context.abrupt(\"return\");\n\n              case 13:\n                // if session has timed out reset everything\n                setIframeUrl('');\n\n                if (!is_virtual) {\n                  _context.next = 17;\n                  break;\n                }\n\n                setLoading(false); // if virtual, clear everything and don't proceed further\n                // if no verification code, we should request again\n\n                return _context.abrupt(\"return\");\n\n              case 17:\n                if (is_crypto) {\n                  _context.next = 35;\n                  break;\n                }\n\n                _context.next = 20;\n                return this.WS.authorized.cashier(active_container, {\n                  verification_code: 'undefined'\n                });\n\n              case 20:\n                response_cashier = _context.sent;\n\n                if (!(current_container !== active_container)) {\n                  _context.next = 24;\n                  break;\n                }\n\n                setLoading(false);\n                return _context.abrupt(\"return\");\n\n              case 24:\n                if (!response_cashier.error) {\n                  _context.next = 30;\n                  break;\n                }\n\n                this.error.handleCashierError(response_cashier.error);\n                setSessionTimeout(true);\n                clearTimeoutCashierUrl();\n                _context.next = 35;\n                break;\n\n              case 30:\n                _context.next = 32;\n                return checkIframeLoaded();\n\n              case 32:\n                setIframeUrl(response_cashier.cashier);\n                setSessionTimeout(false);\n                setTimeoutCashierUrl();\n\n              case 35:\n                if (account_status !== null && account_status !== void 0 && (_account_status$statu = account_status.status) !== null && _account_status$statu !== void 0 && _account_status$statu.includes('deposit_attempt')) {\n                  _context.next = 38;\n                  break;\n                }\n\n                _context.next = 38;\n                return updateAccountStatus();\n\n              case 38:\n                setLoading(false);\n\n              case 39:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function onMountDeposit() {\n        return _onMountDeposit.apply(this, arguments);\n      }\n\n      return onMountDeposit;\n    }()\n  }]);\n\n  return DepositStore;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zdG9yZXMvZGVwb3NpdC1zdG9yZS50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7O0FBR0E7QUFDQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQU1BO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUFBOztBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBWUE7QUFDQTtBQUVBO0FBZkE7QUFBQTs7QUFBQTtBQWtCQTtBQUFBO0FBQUE7QUFBQTtBQUNBOztBQW5CQTtBQUFBO0FBQUE7QUFBQTs7QUFzQkE7QUF0QkE7O0FBQUE7QUEwQkE7QUFDQTs7QUEzQkE7QUFBQTtBQUFBO0FBQUE7O0FBNkJBO0FBRUE7O0FBL0JBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQXFDQTtBQURBOztBQXBDQTtBQW9DQTs7QUFwQ0E7QUFBQTtBQUFBO0FBQUE7O0FBMENBO0FBMUNBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBOENBO0FBQ0E7QUFDQTtBQWhEQTtBQUFBOztBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQW1EQTtBQUNBO0FBQ0E7O0FBckRBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTs7QUFBQTtBQTZEQTs7QUE3REE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvY2FzaGllci8uL3N0b3Jlcy9kZXBvc2l0LXN0b3JlLnRzPzBlZGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYWN0aW9uLCBtYWtlT2JzZXJ2YWJsZSwgb2JzZXJ2YWJsZSB9IGZyb20gJ21vYngnO1xuaW1wb3J0IENvbnN0YW50cyBmcm9tICdDb25zdGFudHMvY29uc3RhbnRzJztcbmltcG9ydCBFcnJvclN0b3JlIGZyb20gJy4vZXJyb3Itc3RvcmUnO1xuaW1wb3J0IHsgVFJvb3RTdG9yZSwgVFdlYlNvY2tldCB9IGZyb20gJ1R5cGVzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGVwb3NpdFN0b3JlIHtcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgV1M6IFRXZWJTb2NrZXQsIHB1YmxpYyByb290X3N0b3JlOiBUUm9vdFN0b3JlKSB7XG4gICAgICAgIG1ha2VPYnNlcnZhYmxlKHRoaXMsIHtcbiAgICAgICAgICAgIGNvbnRhaW5lcjogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGVycm9yOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgb25Nb3VudERlcG9zaXQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5yb290X3N0b3JlID0gcm9vdF9zdG9yZTtcbiAgICAgICAgdGhpcy5XUyA9IFdTO1xuICAgIH1cblxuICAgIGNvbnRhaW5lciA9IENvbnN0YW50cy5jb250YWluZXJzLmRlcG9zaXQ7XG4gICAgZXJyb3IgPSBuZXcgRXJyb3JTdG9yZSgpO1xuXG4gICAgYXN5bmMgb25Nb3VudERlcG9zaXQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgY2xpZW50LCBtb2R1bGVzIH0gPSB0aGlzLnJvb3Rfc3RvcmU7XG4gICAgICAgIGNvbnN0IHsgYWN0aXZlX2NvbnRhaW5lciwgaXNfY3J5cHRvLCBvbk1vdW50Q29tbW9uLCBzZXRMb2FkaW5nLCBzZXRPblJlbW91bnQgfSA9IG1vZHVsZXMuY2FzaGllci5nZW5lcmFsX3N0b3JlO1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBjaGVja0lmcmFtZUxvYWRlZCxcbiAgICAgICAgICAgIGNsZWFyVGltZW91dENhc2hpZXJVcmwsXG4gICAgICAgICAgICBpc19zZXNzaW9uX3RpbWVvdXQsXG4gICAgICAgICAgICBzZXRDb250YWluZXJIZWlnaHQsXG4gICAgICAgICAgICBzZXRJZnJhbWVVcmwsXG4gICAgICAgICAgICBzZXRTZXNzaW9uVGltZW91dCxcbiAgICAgICAgICAgIHNldFRpbWVvdXRDYXNoaWVyVXJsLFxuICAgICAgICB9ID0gbW9kdWxlcy5jYXNoaWVyLmlmcmFtZTtcbiAgICAgICAgY29uc3QgeyBhY2NvdW50X3N0YXR1cywgaXNfdmlydHVhbCwgdXBkYXRlQWNjb3VudFN0YXR1cyB9ID0gY2xpZW50O1xuICAgICAgICBjb25zdCBjdXJyZW50X2NvbnRhaW5lciA9IGFjdGl2ZV9jb250YWluZXI7XG5cbiAgICAgICAgc2V0T25SZW1vdW50KHRoaXMub25Nb3VudERlcG9zaXQpO1xuICAgICAgICBhd2FpdCBvbk1vdW50Q29tbW9uKCk7XG5cbiAgICAgICAgdGhpcy5lcnJvci5zZXRFcnJvck1lc3NhZ2UoeyBjb2RlOiAnJywgbWVzc2FnZTogJycgfSwgbnVsbCwgZmFsc2UpO1xuICAgICAgICBzZXRDb250YWluZXJIZWlnaHQoMCk7XG5cbiAgICAgICAgaWYgKCFpc19zZXNzaW9uX3RpbWVvdXQpIHtcbiAgICAgICAgICAgIGNoZWNrSWZyYW1lTG9hZGVkKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBzZXNzaW9uIGhhcyB0aW1lZCBvdXQgcmVzZXQgZXZlcnl0aGluZ1xuICAgICAgICBzZXRJZnJhbWVVcmwoJycpO1xuICAgICAgICBpZiAoaXNfdmlydHVhbCkge1xuICAgICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICAvLyBpZiB2aXJ0dWFsLCBjbGVhciBldmVyeXRoaW5nIGFuZCBkb24ndCBwcm9jZWVkIGZ1cnRoZXJcbiAgICAgICAgICAgIC8vIGlmIG5vIHZlcmlmaWNhdGlvbiBjb2RlLCB3ZSBzaG91bGQgcmVxdWVzdCBhZ2FpblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc19jcnlwdG8pIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlX2Nhc2hpZXIgPSBhd2FpdCB0aGlzLldTLmF1dGhvcml6ZWQuY2FzaGllcihhY3RpdmVfY29udGFpbmVyLCB7XG4gICAgICAgICAgICAgICAgdmVyaWZpY2F0aW9uX2NvZGU6ICd1bmRlZmluZWQnLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIGlmIHRhYiBjaGFuZ2VkIHdoaWxlIHdhaXRpbmcgZm9yIHJlc3BvbnNlLCBpZ25vcmUgaXRcbiAgICAgICAgICAgIGlmIChjdXJyZW50X2NvbnRhaW5lciAhPT0gYWN0aXZlX2NvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXNwb25zZV9jYXNoaWVyLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lcnJvci5oYW5kbGVDYXNoaWVyRXJyb3IocmVzcG9uc2VfY2FzaGllci5lcnJvcik7XG4gICAgICAgICAgICAgICAgc2V0U2Vzc2lvblRpbWVvdXQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0Q2FzaGllclVybCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBjaGVja0lmcmFtZUxvYWRlZCgpO1xuICAgICAgICAgICAgICAgIHNldElmcmFtZVVybChyZXNwb25zZV9jYXNoaWVyLmNhc2hpZXIpO1xuICAgICAgICAgICAgICAgIHNldFNlc3Npb25UaW1lb3V0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0Q2FzaGllclVybCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFhY2NvdW50X3N0YXR1cz8uc3RhdHVzPy5pbmNsdWRlcygnZGVwb3NpdF9hdHRlbXB0JykpIHtcbiAgICAgICAgICAgIGF3YWl0IHVwZGF0ZUFjY291bnRTdGF0dXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./stores/deposit-store.ts\n");

/***/ }),

/***/ "./stores/error-dialog-store.js":
/*!**************************************!*\
  !*** ./stores/error-dialog-store.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ErrorDialogStore)\n/* harmony export */ });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n\n\nvar ErrorDialogStore = /*#__PURE__*/function () {\n  function ErrorDialogStore() {\n    _classCallCheck(this, ErrorDialogStore);\n\n    this.confirm_button_text = '';\n    this.error_message = '';\n    this.has_no_close_icon = false;\n    this.should_show = false;\n    this.should_not_show_title = false;\n    (0,mobx__WEBPACK_IMPORTED_MODULE_0__.makeObservable)(this, {\n      confirm_button_text: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      error_message: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      has_no_close_icon: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      should_show: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      should_not_show_title: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      setShouldShow: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setErrorMessage: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setConfirmButtonText: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setShouldNotShowTitle: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setHasNoCloseIcon: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      openReadMoreDialog: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      reset: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound\n    });\n  }\n\n  _createClass(ErrorDialogStore, [{\n    key: \"setShouldShow\",\n    value: function setShouldShow(value) {\n      this.should_show = value;\n    }\n  }, {\n    key: \"setErrorMessage\",\n    value: function setErrorMessage(message) {\n      this.error_message = message;\n      this.setShouldShow(true);\n    }\n  }, {\n    key: \"setConfirmButtonText\",\n    value: function setConfirmButtonText(text) {\n      this.confirm_button_text = text;\n    }\n  }, {\n    key: \"setShouldNotShowTitle\",\n    value: function setShouldNotShowTitle(value) {\n      this.should_not_show_title = value;\n    }\n  }, {\n    key: \"setHasNoCloseIcon\",\n    value: function setHasNoCloseIcon(value) {\n      this.has_no_close_icon = value;\n    }\n  }, {\n    key: \"openReadMoreDialog\",\n    value: function openReadMoreDialog(error_content, confirm_button_text) {\n      this.setErrorMessage(error_content);\n      this.setConfirmButtonText(confirm_button_text);\n      this.setHasNoCloseIcon(true);\n      this.setShouldNotShowTitle(true);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.setConfirmButtonText('');\n      this.setShouldNotShowTitle(false);\n      this.setHasNoCloseIcon(false);\n    }\n  }]);\n\n  return ErrorDialogStore;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zdG9yZXMvZXJyb3ItZGlhbG9nLXN0b3JlLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBOztBQUVBO0FBT0E7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFaQTtBQWNBOzs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2Nhc2hpZXIvLi9zdG9yZXMvZXJyb3ItZGlhbG9nLXN0b3JlLmpzP2Q3NTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgb2JzZXJ2YWJsZSwgYWN0aW9uLCBtYWtlT2JzZXJ2YWJsZSB9IGZyb20gJ21vYngnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFcnJvckRpYWxvZ1N0b3JlIHtcbiAgICBjb25maXJtX2J1dHRvbl90ZXh0ID0gJyc7XG4gICAgZXJyb3JfbWVzc2FnZSA9ICcnO1xuICAgIGhhc19ub19jbG9zZV9pY29uID0gZmFsc2U7XG4gICAgc2hvdWxkX3Nob3cgPSBmYWxzZTtcbiAgICBzaG91bGRfbm90X3Nob3dfdGl0bGUgPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBtYWtlT2JzZXJ2YWJsZSh0aGlzLCB7XG4gICAgICAgICAgICBjb25maXJtX2J1dHRvbl90ZXh0OiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgZXJyb3JfbWVzc2FnZTogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGhhc19ub19jbG9zZV9pY29uOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgc2hvdWxkX3Nob3c6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBzaG91bGRfbm90X3Nob3dfdGl0bGU6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBzZXRTaG91bGRTaG93OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRFcnJvck1lc3NhZ2U6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldENvbmZpcm1CdXR0b25UZXh0OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRTaG91bGROb3RTaG93VGl0bGU6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldEhhc05vQ2xvc2VJY29uOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBvcGVuUmVhZE1vcmVEaWFsb2c6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHJlc2V0OiBhY3Rpb24uYm91bmQsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNldFNob3VsZFNob3codmFsdWUpIHtcbiAgICAgICAgdGhpcy5zaG91bGRfc2hvdyA9IHZhbHVlO1xuICAgIH1cblxuICAgIHNldEVycm9yTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIHRoaXMuZXJyb3JfbWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgIHRoaXMuc2V0U2hvdWxkU2hvdyh0cnVlKTtcbiAgICB9XG5cbiAgICBzZXRDb25maXJtQnV0dG9uVGV4dCh0ZXh0KSB7XG4gICAgICAgIHRoaXMuY29uZmlybV9idXR0b25fdGV4dCA9IHRleHQ7XG4gICAgfVxuXG4gICAgc2V0U2hvdWxkTm90U2hvd1RpdGxlKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuc2hvdWxkX25vdF9zaG93X3RpdGxlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgc2V0SGFzTm9DbG9zZUljb24odmFsdWUpIHtcbiAgICAgICAgdGhpcy5oYXNfbm9fY2xvc2VfaWNvbiA9IHZhbHVlO1xuICAgIH1cblxuICAgIG9wZW5SZWFkTW9yZURpYWxvZyhlcnJvcl9jb250ZW50LCBjb25maXJtX2J1dHRvbl90ZXh0KSB7XG4gICAgICAgIHRoaXMuc2V0RXJyb3JNZXNzYWdlKGVycm9yX2NvbnRlbnQpO1xuICAgICAgICB0aGlzLnNldENvbmZpcm1CdXR0b25UZXh0KGNvbmZpcm1fYnV0dG9uX3RleHQpO1xuICAgICAgICB0aGlzLnNldEhhc05vQ2xvc2VJY29uKHRydWUpO1xuICAgICAgICB0aGlzLnNldFNob3VsZE5vdFNob3dUaXRsZSh0cnVlKTtcbiAgICB9XG5cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5zZXRDb25maXJtQnV0dG9uVGV4dCgnJyk7XG4gICAgICAgIHRoaXMuc2V0U2hvdWxkTm90U2hvd1RpdGxlKGZhbHNlKTtcbiAgICAgICAgdGhpcy5zZXRIYXNOb0Nsb3NlSWNvbihmYWxzZSk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./stores/error-dialog-store.js\n");

/***/ }),

/***/ "./stores/error-store.ts":
/*!*******************************!*\
  !*** ./stores/error-store.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ErrorStore)\n/* harmony export */ });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/shared */ \"@deriv/shared\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__);\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n\n\n\nvar ErrorStore = /*#__PURE__*/function () {\n  function ErrorStore() {\n    _classCallCheck(this, ErrorStore);\n\n    this.message = '';\n    this.code = '';\n    this.fields = '';\n    this.is_show_full_page = false;\n    this.onClickButton = null;\n    this.is_ask_uk_funds_protection = false;\n    this.is_self_exclusion_max_turnover_set = false;\n    this.is_ask_authentication = false;\n    this.is_ask_financial_risk_approval = false;\n    (0,mobx__WEBPACK_IMPORTED_MODULE_0__.makeObservable)(this, {\n      message: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      code: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      fields: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_show_full_page: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      onClickButton: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_ask_uk_funds_protection: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_self_exclusion_max_turnover_set: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_ask_authentication: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_ask_financial_risk_approval: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      setErrorMessage: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      handleCashierError: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setMessage: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsAskUkFundsProtection: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsSelfExclusionMaxTurnoverSet: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsAskAuthentication: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsAskFinancialRiskApproval: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound\n    });\n  }\n\n  _createClass(ErrorStore, [{\n    key: \"setErrorMessage\",\n    value: function setErrorMessage(error, onClickButton, is_show_full_page) {\n      var _error$details;\n\n      // for errors that need to show a button, reset the form\n      var error_object = _objectSpread({\n        onClickButton: onClickButton,\n        code: error.code,\n        message: error.message,\n        is_show_full_page: is_show_full_page || /InvalidToken|WrongResponse/.test(error.code)\n      }, (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getPropertyValue)(error, ['details', 'fields']) && {\n        fields: (_error$details = error.details) === null || _error$details === void 0 ? void 0 : _error$details.fields\n      });\n\n      this.onClickButton = error_object.onClickButton;\n      this.code = error_object.code;\n      this.message = error_object.message;\n      this.is_show_full_page = error_object.is_show_full_page;\n      this.fields = error_object.fields;\n      this.is_ask_uk_funds_protection = error_object === null || error_object === void 0 ? void 0 : error_object.is_ask_uk_funds_protection;\n      this.is_self_exclusion_max_turnover_set = error_object === null || error_object === void 0 ? void 0 : error_object.is_self_exclusion_max_turnover_set;\n      this.is_ask_authentication = error_object === null || error_object === void 0 ? void 0 : error_object.is_ask_authentication;\n      this.is_ask_financial_risk_approval = error_object === null || error_object === void 0 ? void 0 : error_object.is_ask_financial_risk_approval;\n    }\n  }, {\n    key: \"handleCashierError\",\n    value: function handleCashierError(error) {\n      switch (error.code) {\n        case 'ASK_TNC_APPROVAL':\n          this.setErrorMessage(error, null, true);\n          break;\n\n        case 'ASK_FIX_DETAILS':\n          this.setErrorMessage(error, null, true);\n          break;\n\n        case 'ASK_UK_FUNDS_PROTECTION':\n          this.setIsAskUkFundsProtection(true);\n          break;\n\n        case 'ASK_SELF_EXCLUSION_MAX_TURNOVER_SET':\n          this.setIsSelfExclusionMaxTurnoverSet(true);\n          break;\n\n        case 'ASK_AUTHENTICATE':\n        case 'ASK_AGE_VERIFICATION':\n          this.setIsAskAuthentication(true);\n          break;\n\n        case 'ASK_FINANCIAL_RISK_APPROVAL':\n          this.setIsAskFinancialRiskApproval(true);\n          break;\n\n        default:\n          this.setErrorMessage(error);\n          this.setIsAskUkFundsProtection(false);\n          this.setIsSelfExclusionMaxTurnoverSet(false);\n          this.setIsAskAuthentication(false);\n          this.setIsAskFinancialRiskApproval(false);\n      }\n    }\n  }, {\n    key: \"setMessage\",\n    value: function setMessage(value) {\n      this.message = value;\n    }\n  }, {\n    key: \"setIsAskUkFundsProtection\",\n    value: function setIsAskUkFundsProtection(value) {\n      this.is_ask_uk_funds_protection = value;\n    }\n  }, {\n    key: \"setIsSelfExclusionMaxTurnoverSet\",\n    value: function setIsSelfExclusionMaxTurnoverSet(value) {\n      this.is_self_exclusion_max_turnover_set = value;\n    }\n  }, {\n    key: \"setIsAskAuthentication\",\n    value: function setIsAskAuthentication(value) {\n      this.is_ask_authentication = value;\n    }\n  }, {\n    key: \"setIsAskFinancialRiskApproval\",\n    value: function setIsAskFinancialRiskApproval(value) {\n      this.is_ask_financial_risk_approval = value;\n    }\n  }]);\n\n  return ErrorStore;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zdG9yZXMvZXJyb3Itc3RvcmUudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBOztBQUdBO0FBV0E7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBaEJBO0FBa0JBOzs7O0FBRUE7QUFBQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBREE7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXpCQTtBQTJCQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvY2FzaGllci8uL3N0b3Jlcy9lcnJvci1zdG9yZS50cz9mMTQ5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFjdGlvbiwgbWFrZU9ic2VydmFibGUsIG9ic2VydmFibGUgfSBmcm9tICdtb2J4JztcbmltcG9ydCB7IGdldFByb3BlcnR5VmFsdWUgfSBmcm9tICdAZGVyaXYvc2hhcmVkJztcbmltcG9ydCB7IFRTZXJ2ZXJFcnJvciB9IGZyb20gJ1R5cGVzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXJyb3JTdG9yZSB7XG4gICAgbWVzc2FnZSA9ICcnO1xuICAgIGNvZGUgPSAnJztcbiAgICBmaWVsZHMgPSAnJztcbiAgICBpc19zaG93X2Z1bGxfcGFnZSA9IGZhbHNlO1xuICAgIG9uQ2xpY2tCdXR0b246IFZvaWRGdW5jdGlvbiB8IG51bGwgPSBudWxsO1xuICAgIGlzX2Fza191a19mdW5kc19wcm90ZWN0aW9uID0gZmFsc2U7XG4gICAgaXNfc2VsZl9leGNsdXNpb25fbWF4X3R1cm5vdmVyX3NldCA9IGZhbHNlO1xuICAgIGlzX2Fza19hdXRoZW50aWNhdGlvbiA9IGZhbHNlO1xuICAgIGlzX2Fza19maW5hbmNpYWxfcmlza19hcHByb3ZhbCA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIG1ha2VPYnNlcnZhYmxlKHRoaXMsIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBjb2RlOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgZmllbGRzOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgaXNfc2hvd19mdWxsX3BhZ2U6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBvbkNsaWNrQnV0dG9uOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgaXNfYXNrX3VrX2Z1bmRzX3Byb3RlY3Rpb246IG9ic2VydmFibGUsXG4gICAgICAgICAgICBpc19zZWxmX2V4Y2x1c2lvbl9tYXhfdHVybm92ZXJfc2V0OiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgaXNfYXNrX2F1dGhlbnRpY2F0aW9uOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgaXNfYXNrX2ZpbmFuY2lhbF9yaXNrX2FwcHJvdmFsOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgc2V0RXJyb3JNZXNzYWdlOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBoYW5kbGVDYXNoaWVyRXJyb3I6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldE1lc3NhZ2U6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldElzQXNrVWtGdW5kc1Byb3RlY3Rpb246IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldElzU2VsZkV4Y2x1c2lvbk1heFR1cm5vdmVyU2V0OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRJc0Fza0F1dGhlbnRpY2F0aW9uOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRJc0Fza0ZpbmFuY2lhbFJpc2tBcHByb3ZhbDogYWN0aW9uLmJvdW5kLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzZXRFcnJvck1lc3NhZ2UoZXJyb3I6IFRTZXJ2ZXJFcnJvciwgb25DbGlja0J1dHRvbj86IFZvaWRGdW5jdGlvbiB8IG51bGwsIGlzX3Nob3dfZnVsbF9wYWdlPzogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICAvLyBmb3IgZXJyb3JzIHRoYXQgbmVlZCB0byBzaG93IGEgYnV0dG9uLCByZXNldCB0aGUgZm9ybVxuICAgICAgICBjb25zdCBlcnJvcl9vYmplY3QgPSB7XG4gICAgICAgICAgICBvbkNsaWNrQnV0dG9uLFxuICAgICAgICAgICAgY29kZTogZXJyb3IuY29kZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICBpc19zaG93X2Z1bGxfcGFnZTogaXNfc2hvd19mdWxsX3BhZ2UgfHwgL0ludmFsaWRUb2tlbnxXcm9uZ1Jlc3BvbnNlLy50ZXN0KGVycm9yLmNvZGUpLFxuICAgICAgICAgICAgLi4uKGdldFByb3BlcnR5VmFsdWUoZXJyb3IsIFsnZGV0YWlscycsICdmaWVsZHMnXSkgJiYge1xuICAgICAgICAgICAgICAgIGZpZWxkczogZXJyb3IuZGV0YWlscz8uZmllbGRzLFxuICAgICAgICAgICAgfSksXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5vbkNsaWNrQnV0dG9uID0gZXJyb3Jfb2JqZWN0Lm9uQ2xpY2tCdXR0b247XG4gICAgICAgIHRoaXMuY29kZSA9IGVycm9yX29iamVjdC5jb2RlO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBlcnJvcl9vYmplY3QubWVzc2FnZTtcbiAgICAgICAgdGhpcy5pc19zaG93X2Z1bGxfcGFnZSA9IGVycm9yX29iamVjdC5pc19zaG93X2Z1bGxfcGFnZTtcbiAgICAgICAgdGhpcy5maWVsZHMgPSBlcnJvcl9vYmplY3QuZmllbGRzO1xuICAgICAgICB0aGlzLmlzX2Fza191a19mdW5kc19wcm90ZWN0aW9uID0gZXJyb3Jfb2JqZWN0Py5pc19hc2tfdWtfZnVuZHNfcHJvdGVjdGlvbjtcbiAgICAgICAgdGhpcy5pc19zZWxmX2V4Y2x1c2lvbl9tYXhfdHVybm92ZXJfc2V0ID0gZXJyb3Jfb2JqZWN0Py5pc19zZWxmX2V4Y2x1c2lvbl9tYXhfdHVybm92ZXJfc2V0O1xuICAgICAgICB0aGlzLmlzX2Fza19hdXRoZW50aWNhdGlvbiA9IGVycm9yX29iamVjdD8uaXNfYXNrX2F1dGhlbnRpY2F0aW9uO1xuICAgICAgICB0aGlzLmlzX2Fza19maW5hbmNpYWxfcmlza19hcHByb3ZhbCA9IGVycm9yX29iamVjdD8uaXNfYXNrX2ZpbmFuY2lhbF9yaXNrX2FwcHJvdmFsO1xuICAgIH1cblxuICAgIGhhbmRsZUNhc2hpZXJFcnJvcihlcnJvcjogVFNlcnZlckVycm9yKTogdm9pZCB7XG4gICAgICAgIHN3aXRjaCAoZXJyb3IuY29kZSkge1xuICAgICAgICAgICAgY2FzZSAnQVNLX1ROQ19BUFBST1ZBTCc6XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRFcnJvck1lc3NhZ2UoZXJyb3IsIG51bGwsIHRydWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQVNLX0ZJWF9ERVRBSUxTJzpcbiAgICAgICAgICAgICAgICB0aGlzLnNldEVycm9yTWVzc2FnZShlcnJvciwgbnVsbCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdBU0tfVUtfRlVORFNfUFJPVEVDVElPTic6XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRJc0Fza1VrRnVuZHNQcm90ZWN0aW9uKHRydWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQVNLX1NFTEZfRVhDTFVTSU9OX01BWF9UVVJOT1ZFUl9TRVQnOlxuICAgICAgICAgICAgICAgIHRoaXMuc2V0SXNTZWxmRXhjbHVzaW9uTWF4VHVybm92ZXJTZXQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdBU0tfQVVUSEVOVElDQVRFJzpcbiAgICAgICAgICAgIGNhc2UgJ0FTS19BR0VfVkVSSUZJQ0FUSU9OJzpcbiAgICAgICAgICAgICAgICB0aGlzLnNldElzQXNrQXV0aGVudGljYXRpb24odHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdBU0tfRklOQU5DSUFMX1JJU0tfQVBQUk9WQUwnOlxuICAgICAgICAgICAgICAgIHRoaXMuc2V0SXNBc2tGaW5hbmNpYWxSaXNrQXBwcm92YWwodHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRoaXMuc2V0RXJyb3JNZXNzYWdlKGVycm9yKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldElzQXNrVWtGdW5kc1Byb3RlY3Rpb24oZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0SXNTZWxmRXhjbHVzaW9uTWF4VHVybm92ZXJTZXQoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0SXNBc2tBdXRoZW50aWNhdGlvbihmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRJc0Fza0ZpbmFuY2lhbFJpc2tBcHByb3ZhbChmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRNZXNzYWdlKHZhbHVlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgc2V0SXNBc2tVa0Z1bmRzUHJvdGVjdGlvbih2YWx1ZTogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICB0aGlzLmlzX2Fza191a19mdW5kc19wcm90ZWN0aW9uID0gdmFsdWU7XG4gICAgfVxuXG4gICAgc2V0SXNTZWxmRXhjbHVzaW9uTWF4VHVybm92ZXJTZXQodmFsdWU6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5pc19zZWxmX2V4Y2x1c2lvbl9tYXhfdHVybm92ZXJfc2V0ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgc2V0SXNBc2tBdXRoZW50aWNhdGlvbih2YWx1ZTogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICB0aGlzLmlzX2Fza19hdXRoZW50aWNhdGlvbiA9IHZhbHVlO1xuICAgIH1cblxuICAgIHNldElzQXNrRmluYW5jaWFsUmlza0FwcHJvdmFsKHZhbHVlOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaXNfYXNrX2ZpbmFuY2lhbF9yaXNrX2FwcHJvdmFsID0gdmFsdWU7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./stores/error-store.ts\n");

/***/ }),

/***/ "./stores/general-store.js":
/*!*********************************!*\
  !*** ./stores/general-store.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ GeneralStore)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @deriv/shared */ \"@deriv/shared\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_deriv_shared__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @deriv/translations */ \"@deriv/translations\");\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_deriv_translations__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var Constants_constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! Constants/constants */ \"./constants/constants.js\");\n/* harmony import */ var Components_cashier_notifications__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! Components/cashier-notifications */ \"./components/cashier-notifications/index.ts\");\n/* harmony import */ var _base_store__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./base-store */ \"./stores/base-store.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n\n\n\n\n\nvar GeneralStore = /*#__PURE__*/function (_BaseStore) {\n  _inherits(GeneralStore, _BaseStore);\n\n  var _super = _createSuper(GeneralStore);\n\n  function GeneralStore(_ref) {\n    var _this;\n\n    var root_store = _ref.root_store,\n        WS = _ref.WS;\n\n    _classCallCheck(this, GeneralStore);\n\n    _this = _super.call(this, {\n      root_store: root_store\n    });\n    _this.is_loading = false;\n    _this.is_p2p_visible = false;\n    _this.p2p_notification_count = 0;\n    _this.cashier_route_tab_index = 0;\n    _this.is_deposit = false;\n    _this.should_show_all_available_currencies = false;\n    _this.is_cashier_onboarding = true;\n    _this.deposit_target = '';\n    _this.should_set_currency_modal_title_change = false;\n    _this.p2p_advertiser_error = undefined;\n    _this.has_set_currency = false;\n    _this.should_percentage_reset = false;\n    _this.percentage = 0;\n    _this.show_p2p_in_cashier_onboarding = false;\n\n    _this.onRemount = function () {};\n\n    _this.p2p_completed_orders = null;\n    _this.active_container = Constants_constants__WEBPACK_IMPORTED_MODULE_4__[\"default\"].containers.deposit;\n    _this.is_populating_values = false;\n    (0,mobx__WEBPACK_IMPORTED_MODULE_1__.makeObservable)(_assertThisInitialized(_this), {\n      is_loading: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      is_p2p_visible: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      p2p_notification_count: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      cashier_route_tab_index: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      is_deposit: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      should_show_all_available_currencies: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      is_cashier_onboarding: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      deposit_target: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      should_set_currency_modal_title_change: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      p2p_advertiser_error: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      has_set_currency: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      should_percentage_reset: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      percentage: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      show_p2p_in_cashier_onboarding: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      onRemount: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      p2p_completed_orders: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      setOnRemount: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      is_crypto: mobx__WEBPACK_IMPORTED_MODULE_1__.computed,\n      is_p2p_enabled: mobx__WEBPACK_IMPORTED_MODULE_1__.computed,\n      p2p_unseen_notifications: mobx__WEBPACK_IMPORTED_MODULE_1__.computed,\n      showP2pInCashierOnboarding: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      attachCashierToMenu: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      replaceCashierMenuOnclick: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      setHasSetCurrency: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      changeSetCurrencyModalTitle: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      onMountCashierOnboarding: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      calculatePercentage: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      percentageSelectorSelectionStatus: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      setIsDeposit: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      setShouldShowAllAvailableCurrencies: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      setIsCashierOnboarding: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      setDepositTarget: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      continueRoute: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      setAccountSwitchListener: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      init: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      getAdvertizerError: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      setP2pAdvertiserError: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      checkP2pStatus: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      setP2pCompletedOrders: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      getP2pCompletedOrders: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      onMountCommon: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      setCashierTabIndex: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      setNotificationCount: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      setIsP2pVisible: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      is_cashier_locked: mobx__WEBPACK_IMPORTED_MODULE_1__.computed,\n      is_system_maintenance: mobx__WEBPACK_IMPORTED_MODULE_1__.computed,\n      setLoading: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      setActiveTab: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound\n    });\n    _this.WS = WS;\n    _this.root_store = root_store;\n    (0,mobx__WEBPACK_IMPORTED_MODULE_1__.when)(function () {\n      return _this.root_store.client.is_logged_in;\n    }, function () {\n      _this.setHasSetCurrency();\n\n      _this.attachCashierToMenu();\n    });\n\n    if (!_this.has_set_currency) {\n      _this.changeSetCurrencyModalTitle();\n    }\n\n    (0,mobx__WEBPACK_IMPORTED_MODULE_1__.reaction)(function () {\n      return [_this.root_store.client.switched, _this.root_store.client.is_logged_in, _this.root_store.client.currency];\n    }, function () {\n      _this.init();\n    });\n    return _this;\n  }\n\n  _createClass(GeneralStore, [{\n    key: \"setOnRemount\",\n    value: function setOnRemount(func) {\n      this.onRemount = func;\n    }\n  }, {\n    key: \"is_crypto\",\n    get: function get() {\n      var currency = this.root_store.client.currency;\n      return !!currency && (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.isCryptocurrency)(currency);\n    }\n  }, {\n    key: \"is_p2p_enabled\",\n    get: function get() {\n      return this.is_p2p_visible && !this.root_store.client.is_eu;\n    }\n    /**\n     * Gets the notifications from local storage, within p2p_settings, where it checks which notification has\n     * been seen. The number of unseen notifications is displayed in vertical tab, notifications count, for P2P.\n     *\n     * @returns {number} Notifications that have not been seen by the user.\n     */\n\n  }, {\n    key: \"p2p_unseen_notifications\",\n    get: function get() {\n      var p2p_settings = JSON.parse(localStorage.getItem('p2p_settings') || '{}');\n      var local_storage_settings = p2p_settings[this.root_store.client.loginid];\n\n      if ((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.isEmptyObject)(local_storage_settings)) {\n        return 0;\n      }\n\n      var unseen_notifications = local_storage_settings.notifications.filter(function (notification) {\n        return !notification.is_seen;\n      });\n      return unseen_notifications.length;\n    }\n  }, {\n    key: \"showP2pInCashierOnboarding\",\n    value: function showP2pInCashierOnboarding() {\n      var _this$root_store$clie = this.root_store.client,\n          account_list = _this$root_store$clie.account_list,\n          is_virtual = _this$root_store$clie.is_virtual;\n      var is_p2p_restricted = this.p2p_advertiser_error === 'RestrictedCountry';\n      var has_usd_currency = account_list.some(function (account) {\n        return account.title === 'USD';\n      });\n      var has_user_fiat_currency = account_list.some(function (account) {\n        return !(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.isCryptocurrency)(account.title) && account.title !== 'Real';\n      });\n\n      if (is_p2p_restricted || is_virtual || has_user_fiat_currency && !has_usd_currency) {\n        this.show_p2p_in_cashier_onboarding = false;\n      } else {\n        this.show_p2p_in_cashier_onboarding = true;\n      }\n    }\n  }, {\n    key: \"attachCashierToMenu\",\n    value: function attachCashierToMenu() {\n      var _this$root_store = this.root_store,\n          menu = _this$root_store.menu,\n          ui = _this$root_store.ui;\n\n      if (!this.has_set_currency) {\n        this.setHasSetCurrency();\n      }\n\n      menu.attach({\n        id: 'dt_cashier_tab',\n        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Components_cashier_notifications__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n          p2p_notification_count: this.p2p_notification_count\n        }),\n        text: function text() {\n          return (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Cashier');\n        },\n        link_to: this.has_set_currency && _deriv_shared__WEBPACK_IMPORTED_MODULE_2__.routes.cashier,\n        onClick: !this.has_set_currency && ui.toggleSetCurrencyModal,\n        login_only: true\n      });\n    }\n  }, {\n    key: \"replaceCashierMenuOnclick\",\n    value: function replaceCashierMenuOnclick() {\n      var _this$root_store2 = this.root_store,\n          menu = _this$root_store2.menu,\n          ui = _this$root_store2.ui;\n      this.setHasSetCurrency();\n      menu.update({\n        id: 'dt_cashier_tab',\n        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Components_cashier_notifications__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n          p2p_notification_count: this.p2p_notification_count\n        }),\n        text: function text() {\n          return (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Cashier');\n        },\n        link_to: this.has_set_currency && _deriv_shared__WEBPACK_IMPORTED_MODULE_2__.routes.cashier,\n        onClick: !this.has_set_currency ? ui.toggleSetCurrencyModal : false,\n        login_only: true\n      }, 1);\n    }\n  }, {\n    key: \"setHasSetCurrency\",\n    value: function setHasSetCurrency() {\n      var _this$root_store$clie2 = this.root_store.client,\n          account_list = _this$root_store$clie2.account_list,\n          has_active_real_account = _this$root_store$clie2.has_active_real_account;\n      this.has_set_currency = account_list.filter(function (account) {\n        return !account.is_virtual;\n      }).some(function (account) {\n        return account.title !== 'Real';\n      }) || !has_active_real_account;\n    }\n  }, {\n    key: \"changeSetCurrencyModalTitle\",\n    value: function changeSetCurrencyModalTitle() {\n      this.should_set_currency_modal_title_change = true;\n    }\n  }, {\n    key: \"onMountCashierOnboarding\",\n    value: function () {\n      var _onMountCashierOnboarding = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _payment_agent$all_pa, _payment_agent$all_pa2;\n\n        var _this$root_store$modu, account_prompt_dialog, payment_agent, agent_list;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this$root_store$modu = this.root_store.modules.cashier, account_prompt_dialog = _this$root_store$modu.account_prompt_dialog, payment_agent = _this$root_store$modu.payment_agent;\n\n                if (!this.has_set_currency) {\n                  this.setHasSetCurrency();\n                }\n\n                this.setIsCashierOnboarding(true);\n                account_prompt_dialog.resetIsConfirmed();\n                this.setLoading(true);\n\n                if ((_payment_agent$all_pa = payment_agent.all_payment_agent_list) !== null && _payment_agent$all_pa !== void 0 && (_payment_agent$all_pa2 = _payment_agent$all_pa.paymentagent_list) !== null && _payment_agent$all_pa2 !== void 0 && _payment_agent$all_pa2.list) {\n                  _context.next = 10;\n                  break;\n                }\n\n                _context.next = 8;\n                return payment_agent.getAllPaymentAgentList();\n\n              case 8:\n                agent_list = _context.sent;\n                payment_agent.setAllPaymentAgentList(agent_list);\n\n              case 10:\n                this.setLoading(false);\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function onMountCashierOnboarding() {\n        return _onMountCashierOnboarding.apply(this, arguments);\n      }\n\n      return onMountCashierOnboarding;\n    }()\n  }, {\n    key: \"calculatePercentage\",\n    value: function calculatePercentage() {\n      var amount = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.root_store.modules.cashier.crypto_fiat_converter.converter_from_amount;\n      var _this$root_store3 = this.root_store,\n          client = _this$root_store3.client,\n          modules = _this$root_store3.modules;\n      var account_transfer = modules.cashier.account_transfer;\n\n      if (this.active_container === account_transfer.container) {\n        this.percentage = +(amount / +account_transfer.selected_from.balance * 100).toFixed(0);\n      } else {\n        this.percentage = +(amount / +client.balance * 100).toFixed(0);\n      }\n\n      if (!isFinite(this.percentage)) {\n        this.percentage = 0;\n      }\n    }\n  }, {\n    key: \"percentageSelectorSelectionStatus\",\n    value: function percentageSelectorSelectionStatus(should_percentage_reset) {\n      this.should_percentage_reset = should_percentage_reset;\n\n      if (should_percentage_reset) {\n        this.percentage = 0;\n      }\n    }\n  }, {\n    key: \"setIsDeposit\",\n    value: function setIsDeposit(is_deposit) {\n      this.is_deposit = is_deposit;\n    }\n  }, {\n    key: \"setShouldShowAllAvailableCurrencies\",\n    value: function setShouldShowAllAvailableCurrencies(value) {\n      this.should_show_all_available_currencies = value;\n    }\n  }, {\n    key: \"setIsCashierOnboarding\",\n    value: function setIsCashierOnboarding(is_cashier_onboarding) {\n      this.is_cashier_onboarding = is_cashier_onboarding;\n    }\n  }, {\n    key: \"setDepositTarget\",\n    value: function setDepositTarget(target) {\n      this.deposit_target = target;\n    }\n  }, {\n    key: \"continueRoute\",\n    value: function continueRoute() {\n      this.root_store.common.routeTo(this.deposit_target);\n    }\n  }, {\n    key: \"setAccountSwitchListener\",\n    value: function setAccountSwitchListener() {\n      // cashier inits once and tries to stay active until switching account\n      // since cashier calls take a long time to respond or display in iframe\n      // so we don't have any unmount function here and everything gets reset on switch instead\n      this.disposeSwitchAccount();\n      this.onSwitchAccount(this.accountSwitcherListener);\n    } // Initialise P2P attributes on app load without mounting the entire cashier\n\n  }, {\n    key: \"init\",\n    value: function () {\n      var _init = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        var _this$root_store4, _this$root_store4$cli, is_logged_in, switched, modules, _modules$cashier, payment_agent, payment_agent_transfer, withdraw;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!this.root_store.modules.cashier) {\n                  _context2.next = 14;\n                  break;\n                }\n\n                _this$root_store4 = this.root_store, _this$root_store4$cli = _this$root_store4.client, is_logged_in = _this$root_store4$cli.is_logged_in, switched = _this$root_store4$cli.switched, modules = _this$root_store4.modules;\n                _modules$cashier = modules.cashier, payment_agent = _modules$cashier.payment_agent, payment_agent_transfer = _modules$cashier.payment_agent_transfer, withdraw = _modules$cashier.withdraw; // wait for client settings to be populated in client-store\n\n                _context2.next = 5;\n                return this.WS.wait('get_settings');\n\n              case 5:\n                if (!is_logged_in) {\n                  _context2.next = 14;\n                  break;\n                }\n\n                _context2.next = 8;\n                return this.getAdvertizerError();\n\n              case 8:\n                if (switched) {\n                  _context2.next = 14;\n                  break;\n                }\n\n                this.checkP2pStatus();\n                payment_agent.setPaymentAgentList().then(payment_agent.filterPaymentAgentList);\n\n                if (!payment_agent_transfer.is_payment_agent) {\n                  payment_agent_transfer.checkIsPaymentAgent();\n                } // check if withdrawal limit is reached\n                // if yes, this will trigger to show a notification\n\n\n                _context2.next = 14;\n                return withdraw.check10kLimit();\n\n              case 14:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function init() {\n        return _init.apply(this, arguments);\n      }\n\n      return init;\n    }()\n  }, {\n    key: \"getAdvertizerError\",\n    value: function () {\n      var _getAdvertizerError = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n        var advertiser_info;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.WS.authorized.p2pAdvertiserInfo();\n\n              case 2:\n                advertiser_info = _context3.sent;\n                this.setP2pAdvertiserError((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.getPropertyValue)(advertiser_info, ['error', 'code']));\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function getAdvertizerError() {\n        return _getAdvertizerError.apply(this, arguments);\n      }\n\n      return getAdvertizerError;\n    }()\n  }, {\n    key: \"setP2pAdvertiserError\",\n    value: function setP2pAdvertiserError(value) {\n      this.p2p_advertiser_error = value;\n    }\n  }, {\n    key: \"checkP2pStatus\",\n    value: function checkP2pStatus() {\n      var advertiser_error = this.p2p_advertiser_error;\n      var is_p2p_restricted = advertiser_error === 'RestrictedCountry' || advertiser_error === 'RestrictedCurrency';\n      this.setIsP2pVisible(!(is_p2p_restricted || this.root_store.client.is_virtual));\n    }\n  }, {\n    key: \"setP2pCompletedOrders\",\n    value: function setP2pCompletedOrders(p2p_completed_orders) {\n      this.p2p_completed_orders = p2p_completed_orders;\n    }\n  }, {\n    key: \"getP2pCompletedOrders\",\n    value: function () {\n      var _getP2pCompletedOrders = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n        var _this2 = this;\n\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return this.WS.authorized.send({\n                  p2p_order_list: 1,\n                  active: 0\n                }).then(function (response) {\n                  if (!(response !== null && response !== void 0 && response.error)) {\n                    var p2p_order_list = response.p2p_order_list;\n\n                    _this2.setP2pCompletedOrders(p2p_order_list.list);\n                  }\n                });\n\n              case 2:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function getP2pCompletedOrders() {\n        return _getP2pCompletedOrders.apply(this, arguments);\n      }\n\n      return getP2pCompletedOrders;\n    }()\n  }, {\n    key: \"onMountCommon\",\n    value: function () {\n      var _onMountCommon = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(should_remount) {\n        var _this$root_store5, client, common, modules, is_from_derivgo, routeTo, _modules$cashier2, account_transfer, onramp, payment_agent, payment_agent_transfer, transaction_history;\n\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _this$root_store5 = this.root_store, client = _this$root_store5.client, common = _this$root_store5.common, modules = _this$root_store5.modules;\n                is_from_derivgo = common.is_from_derivgo, routeTo = common.routeTo;\n                _modules$cashier2 = modules.cashier, account_transfer = _modules$cashier2.account_transfer, onramp = _modules$cashier2.onramp, payment_agent = _modules$cashier2.payment_agent, payment_agent_transfer = _modules$cashier2.payment_agent_transfer, transaction_history = _modules$cashier2.transaction_history;\n                this.setNotificationCount(this.p2p_unseen_notifications);\n\n                if (!client.is_logged_in) {\n                  _context5.next = 20;\n                  break;\n                }\n\n                if (!this.is_populating_values) {\n                  _context5.next = 7;\n                  break;\n                }\n\n                return _context5.abrupt(\"return\");\n\n              case 7:\n                this.is_populating_values = true;\n\n                if (should_remount) {\n                  this.setOnRemount(this.onMountCommon);\n                } // we need to see if client's country has PA\n                // if yes, we can show the PA tab in cashier\n\n\n                this.setLoading(true);\n                _context5.next = 12;\n                return payment_agent.setPaymentAgentList();\n\n              case 12:\n                _context5.next = 14;\n                return payment_agent.filterPaymentAgentList();\n\n              case 14:\n                this.setLoading(false);\n\n                if (!payment_agent_transfer.is_payment_agent) {\n                  payment_agent_transfer.checkIsPaymentAgent();\n                }\n\n                if (!account_transfer.accounts_list.length) {\n                  account_transfer.sortAccountsTransfer(null, is_from_derivgo);\n                }\n\n                if (!payment_agent.is_payment_agent_visible && window.location.pathname.endsWith(_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.routes.cashier_pa)) {\n                  routeTo(_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.routes.cashier_deposit);\n                }\n\n                if (!onramp.is_onramp_tab_visible && window.location.pathname.endsWith(_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.routes.cashier_onramp)) {\n                  routeTo(_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.routes.cashier_deposit);\n                }\n\n                if (!transaction_history.is_crypto_transactions_visible && window.location.pathname.endsWith(_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.routes.cashier_crypto_transactions)) {\n                  routeTo(_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.routes.cashier_deposit);\n                  transaction_history.setIsCryptoTransactionsVisible(true);\n                  transaction_history.onMount();\n                }\n\n              case 20:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function onMountCommon(_x) {\n        return _onMountCommon.apply(this, arguments);\n      }\n\n      return onMountCommon;\n    }()\n  }, {\n    key: \"setCashierTabIndex\",\n    value: function setCashierTabIndex(index) {\n      this.cashier_route_tab_index = index;\n    }\n  }, {\n    key: \"setNotificationCount\",\n    value: function setNotificationCount(notification_count) {\n      this.p2p_notification_count = notification_count;\n    }\n  }, {\n    key: \"setIsP2pVisible\",\n    value: function setIsP2pVisible(is_p2p_visible) {\n      this.is_p2p_visible = is_p2p_visible;\n\n      if (!is_p2p_visible && window.location.pathname.endsWith(_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.routes.cashier_p2p)) {\n        var _this$root_store$modu2;\n\n        this.root_store.common.routeTo((_this$root_store$modu2 = this.root_store.modules.cashier.account_prompt_dialog.last_location) !== null && _this$root_store$modu2 !== void 0 ? _this$root_store$modu2 : _deriv_shared__WEBPACK_IMPORTED_MODULE_2__.routes.cashier_deposit);\n      }\n    }\n  }, {\n    key: \"is_cashier_locked\",\n    get: function get() {\n      var account_status = this.root_store.client.account_status;\n      if (!(account_status !== null && account_status !== void 0 && account_status.status)) return false;\n      return account_status.status.some(function (status_name) {\n        return status_name === 'cashier_locked';\n      });\n    }\n  }, {\n    key: \"is_system_maintenance\",\n    get: function get() {\n      var account_status = this.root_store.client.account_status;\n      if (!(account_status !== null && account_status !== void 0 && account_status.cashier_validation)) return false;\n      return account_status.cashier_validation.some(function (validation) {\n        return validation === 'system_maintenance';\n      });\n    }\n  }, {\n    key: \"setLoading\",\n    value: function setLoading(is_loading) {\n      this.is_loading = is_loading;\n    }\n  }, {\n    key: \"setActiveTab\",\n    value: function setActiveTab(container) {\n      this.active_container = container;\n    }\n  }, {\n    key: \"accountSwitcherListener\",\n    value: function accountSwitcherListener() {\n      var _this$root_store6 = this.root_store,\n          client = _this$root_store6.client,\n          modules = _this$root_store6.modules;\n      var _modules$cashier3 = modules.cashier,\n          iframe = _modules$cashier3.iframe,\n          payment_agent = _modules$cashier3.payment_agent,\n          general_store = _modules$cashier3.general_store;\n      var active_container = general_store.active_container;\n      var container = Constants_constants__WEBPACK_IMPORTED_MODULE_4__[\"default\"].map_action[active_container];\n      client.setVerificationCode('', container);\n      iframe.clearIframe();\n      this.payment_agent = payment_agent;\n\n      if (payment_agent.active_tab_index === 1 && window.location.pathname.endsWith(_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.routes.cashier_pa)) {\n        payment_agent.setActiveTab(1);\n      }\n\n      this.is_populating_values = false;\n      this.onRemount();\n      return Promise.resolve();\n    }\n  }]);\n\n  return GeneralStore;\n}(_base_store__WEBPACK_IMPORTED_MODULE_6__[\"default\"]);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zdG9yZXMvZ2VuZXJhbC1zdG9yZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7OztBQUNBO0FBQUE7O0FBQUE7QUFBQTs7QUFBQTs7QUFDQTtBQUFBO0FBQUE7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBaERBO0FBbURBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTs7QUFDQTtBQUNBOztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQUE7QUFNQTtBQUNBO0FBN0VBO0FBK0VBOzs7O0FBc0JBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFBQTtBQUFBO0FBRUE7QUFDQTs7O0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFBQTtBQUFBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFRQTs7O0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQVVBOzs7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTs7O0FBRUE7QUFDQTtBQUNBOzs7O0FBRUE7QUFBQTs7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUdBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBRUE7O0FBVEE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTs7QUFBQTtBQVdBO0FBQ0E7O0FBWkE7QUFjQTs7QUFkQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7Ozs7Ozs7OztBQWlCQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUdBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBOztBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBY0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBcEJBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7Ozs7Ozs7O0FBMkJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFDQTtBQUNBOztBQUZBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7Ozs7Ozs7O0FBS0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7Ozs7QUFFQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBOztBQU5BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7Ozs7Ozs7OztBQVNBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBRkE7QUFNQTs7QUFOQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFBQTtBQWNBOztBQUVBO0FBQ0E7QUFDQTtBQUVBOzs7QUFDQTtBQXJCQTtBQUFBOztBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQXdCQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTs7QUFqREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7Ozs7Ozs7QUFxREE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7O0FBQ0E7QUFBQTs7QUFDQTtBQUdBO0FBQ0E7OztBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBOzs7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUVBO0FBRUE7QUFDQTs7OztBQS9hQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9jYXNoaWVyLy4vc3RvcmVzL2dlbmVyYWwtc3RvcmUuanM/ZWZhNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgYWN0aW9uLCBjb21wdXRlZCwgb2JzZXJ2YWJsZSwgcmVhY3Rpb24sIHdoZW4sIG1ha2VPYnNlcnZhYmxlIH0gZnJvbSAnbW9ieCc7XG5pbXBvcnQgeyBpc0NyeXB0b2N1cnJlbmN5LCBpc0VtcHR5T2JqZWN0LCBnZXRQcm9wZXJ0eVZhbHVlLCByb3V0ZXMgfSBmcm9tICdAZGVyaXYvc2hhcmVkJztcbmltcG9ydCB7IGxvY2FsaXplIH0gZnJvbSAnQGRlcml2L3RyYW5zbGF0aW9ucyc7XG5pbXBvcnQgQ29uc3RhbnRzIGZyb20gJ0NvbnN0YW50cy9jb25zdGFudHMnO1xuaW1wb3J0IENhc2hpZXJOb3RpZmljYXRpb25zIGZyb20gJ0NvbXBvbmVudHMvY2FzaGllci1ub3RpZmljYXRpb25zJztcbmltcG9ydCBCYXNlU3RvcmUgZnJvbSAnLi9iYXNlLXN0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2VuZXJhbFN0b3JlIGV4dGVuZHMgQmFzZVN0b3JlIHtcbiAgICBjb25zdHJ1Y3Rvcih7IHJvb3Rfc3RvcmUsIFdTIH0pIHtcbiAgICAgICAgc3VwZXIoeyByb290X3N0b3JlIH0pO1xuXG4gICAgICAgIG1ha2VPYnNlcnZhYmxlKHRoaXMsIHtcbiAgICAgICAgICAgIGlzX2xvYWRpbmc6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBpc19wMnBfdmlzaWJsZTogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIHAycF9ub3RpZmljYXRpb25fY291bnQ6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBjYXNoaWVyX3JvdXRlX3RhYl9pbmRleDogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGlzX2RlcG9zaXQ6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBzaG91bGRfc2hvd19hbGxfYXZhaWxhYmxlX2N1cnJlbmNpZXM6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBpc19jYXNoaWVyX29uYm9hcmRpbmc6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBkZXBvc2l0X3RhcmdldDogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIHNob3VsZF9zZXRfY3VycmVuY3lfbW9kYWxfdGl0bGVfY2hhbmdlOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgcDJwX2FkdmVydGlzZXJfZXJyb3I6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBoYXNfc2V0X2N1cnJlbmN5OiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgc2hvdWxkX3BlcmNlbnRhZ2VfcmVzZXQ6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBwZXJjZW50YWdlOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgc2hvd19wMnBfaW5fY2FzaGllcl9vbmJvYXJkaW5nOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgb25SZW1vdW50OiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgcDJwX2NvbXBsZXRlZF9vcmRlcnM6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBzZXRPblJlbW91bnQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIGlzX2NyeXB0bzogY29tcHV0ZWQsXG4gICAgICAgICAgICBpc19wMnBfZW5hYmxlZDogY29tcHV0ZWQsXG4gICAgICAgICAgICBwMnBfdW5zZWVuX25vdGlmaWNhdGlvbnM6IGNvbXB1dGVkLFxuICAgICAgICAgICAgc2hvd1AycEluQ2FzaGllck9uYm9hcmRpbmc6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIGF0dGFjaENhc2hpZXJUb01lbnU6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHJlcGxhY2VDYXNoaWVyTWVudU9uY2xpY2s6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldEhhc1NldEN1cnJlbmN5OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBjaGFuZ2VTZXRDdXJyZW5jeU1vZGFsVGl0bGU6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIG9uTW91bnRDYXNoaWVyT25ib2FyZGluZzogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgY2FsY3VsYXRlUGVyY2VudGFnZTogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgcGVyY2VudGFnZVNlbGVjdG9yU2VsZWN0aW9uU3RhdHVzOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRJc0RlcG9zaXQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldFNob3VsZFNob3dBbGxBdmFpbGFibGVDdXJyZW5jaWVzOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRJc0Nhc2hpZXJPbmJvYXJkaW5nOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXREZXBvc2l0VGFyZ2V0OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBjb250aW51ZVJvdXRlOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRBY2NvdW50U3dpdGNoTGlzdGVuZXI6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIGluaXQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIGdldEFkdmVydGl6ZXJFcnJvcjogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0UDJwQWR2ZXJ0aXNlckVycm9yOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBjaGVja1AycFN0YXR1czogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0UDJwQ29tcGxldGVkT3JkZXJzOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBnZXRQMnBDb21wbGV0ZWRPcmRlcnM6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIG9uTW91bnRDb21tb246IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldENhc2hpZXJUYWJJbmRleDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0Tm90aWZpY2F0aW9uQ291bnQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldElzUDJwVmlzaWJsZTogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgaXNfY2FzaGllcl9sb2NrZWQ6IGNvbXB1dGVkLFxuICAgICAgICAgICAgaXNfc3lzdGVtX21haW50ZW5hbmNlOiBjb21wdXRlZCxcbiAgICAgICAgICAgIHNldExvYWRpbmc6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhYjogYWN0aW9uLmJvdW5kLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLldTID0gV1M7XG4gICAgICAgIHRoaXMucm9vdF9zdG9yZSA9IHJvb3Rfc3RvcmU7XG5cbiAgICAgICAgd2hlbihcbiAgICAgICAgICAgICgpID0+IHRoaXMucm9vdF9zdG9yZS5jbGllbnQuaXNfbG9nZ2VkX2luLFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0SGFzU2V0Q3VycmVuY3koKTtcbiAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaENhc2hpZXJUb01lbnUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoIXRoaXMuaGFzX3NldF9jdXJyZW5jeSkge1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VTZXRDdXJyZW5jeU1vZGFsVGl0bGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlYWN0aW9uKFxuICAgICAgICAgICAgKCkgPT4gW1xuICAgICAgICAgICAgICAgIHRoaXMucm9vdF9zdG9yZS5jbGllbnQuc3dpdGNoZWQsXG4gICAgICAgICAgICAgICAgdGhpcy5yb290X3N0b3JlLmNsaWVudC5pc19sb2dnZWRfaW4sXG4gICAgICAgICAgICAgICAgdGhpcy5yb290X3N0b3JlLmNsaWVudC5jdXJyZW5jeSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgaXNfbG9hZGluZyA9IGZhbHNlO1xuICAgIGlzX3AycF92aXNpYmxlID0gZmFsc2U7XG4gICAgcDJwX25vdGlmaWNhdGlvbl9jb3VudCA9IDA7XG4gICAgY2FzaGllcl9yb3V0ZV90YWJfaW5kZXggPSAwO1xuICAgIGlzX2RlcG9zaXQgPSBmYWxzZTtcbiAgICBzaG91bGRfc2hvd19hbGxfYXZhaWxhYmxlX2N1cnJlbmNpZXMgPSBmYWxzZTtcbiAgICBpc19jYXNoaWVyX29uYm9hcmRpbmcgPSB0cnVlO1xuICAgIGRlcG9zaXRfdGFyZ2V0ID0gJyc7XG4gICAgc2hvdWxkX3NldF9jdXJyZW5jeV9tb2RhbF90aXRsZV9jaGFuZ2UgPSBmYWxzZTtcbiAgICBwMnBfYWR2ZXJ0aXNlcl9lcnJvciA9IHVuZGVmaW5lZDtcbiAgICBoYXNfc2V0X2N1cnJlbmN5ID0gZmFsc2U7XG4gICAgc2hvdWxkX3BlcmNlbnRhZ2VfcmVzZXQgPSBmYWxzZTtcbiAgICBwZXJjZW50YWdlID0gMDtcbiAgICBzaG93X3AycF9pbl9jYXNoaWVyX29uYm9hcmRpbmcgPSBmYWxzZTtcbiAgICBvblJlbW91bnQgPSAoKSA9PiB7fTtcbiAgICBwMnBfY29tcGxldGVkX29yZGVycyA9IG51bGw7XG5cbiAgICBhY3RpdmVfY29udGFpbmVyID0gQ29uc3RhbnRzLmNvbnRhaW5lcnMuZGVwb3NpdDtcbiAgICBpc19wb3B1bGF0aW5nX3ZhbHVlcyA9IGZhbHNlO1xuXG4gICAgc2V0T25SZW1vdW50KGZ1bmMpIHtcbiAgICAgICAgdGhpcy5vblJlbW91bnQgPSBmdW5jO1xuICAgIH1cblxuICAgIGdldCBpc19jcnlwdG8oKSB7XG4gICAgICAgIGNvbnN0IHsgY3VycmVuY3kgfSA9IHRoaXMucm9vdF9zdG9yZS5jbGllbnQ7XG4gICAgICAgIHJldHVybiAhIWN1cnJlbmN5ICYmIGlzQ3J5cHRvY3VycmVuY3koY3VycmVuY3kpO1xuICAgIH1cblxuICAgIGdldCBpc19wMnBfZW5hYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNfcDJwX3Zpc2libGUgJiYgIXRoaXMucm9vdF9zdG9yZS5jbGllbnQuaXNfZXU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbm90aWZpY2F0aW9ucyBmcm9tIGxvY2FsIHN0b3JhZ2UsIHdpdGhpbiBwMnBfc2V0dGluZ3MsIHdoZXJlIGl0IGNoZWNrcyB3aGljaCBub3RpZmljYXRpb24gaGFzXG4gICAgICogYmVlbiBzZWVuLiBUaGUgbnVtYmVyIG9mIHVuc2VlbiBub3RpZmljYXRpb25zIGlzIGRpc3BsYXllZCBpbiB2ZXJ0aWNhbCB0YWIsIG5vdGlmaWNhdGlvbnMgY291bnQsIGZvciBQMlAuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBOb3RpZmljYXRpb25zIHRoYXQgaGF2ZSBub3QgYmVlbiBzZWVuIGJ5IHRoZSB1c2VyLlxuICAgICAqL1xuICAgIGdldCBwMnBfdW5zZWVuX25vdGlmaWNhdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IHAycF9zZXR0aW5ncyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3AycF9zZXR0aW5ncycpIHx8ICd7fScpO1xuICAgICAgICBjb25zdCBsb2NhbF9zdG9yYWdlX3NldHRpbmdzID0gcDJwX3NldHRpbmdzW3RoaXMucm9vdF9zdG9yZS5jbGllbnQubG9naW5pZF07XG5cbiAgICAgICAgaWYgKGlzRW1wdHlPYmplY3QobG9jYWxfc3RvcmFnZV9zZXR0aW5ncykpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdW5zZWVuX25vdGlmaWNhdGlvbnMgPSBsb2NhbF9zdG9yYWdlX3NldHRpbmdzLm5vdGlmaWNhdGlvbnMuZmlsdGVyKG5vdGlmaWNhdGlvbiA9PiAhbm90aWZpY2F0aW9uLmlzX3NlZW4pO1xuXG4gICAgICAgIHJldHVybiB1bnNlZW5fbm90aWZpY2F0aW9ucy5sZW5ndGg7XG4gICAgfVxuXG4gICAgc2hvd1AycEluQ2FzaGllck9uYm9hcmRpbmcoKSB7XG4gICAgICAgIGNvbnN0IHsgYWNjb3VudF9saXN0LCBpc192aXJ0dWFsIH0gPSB0aGlzLnJvb3Rfc3RvcmUuY2xpZW50O1xuXG4gICAgICAgIGNvbnN0IGlzX3AycF9yZXN0cmljdGVkID0gdGhpcy5wMnBfYWR2ZXJ0aXNlcl9lcnJvciA9PT0gJ1Jlc3RyaWN0ZWRDb3VudHJ5JztcbiAgICAgICAgY29uc3QgaGFzX3VzZF9jdXJyZW5jeSA9IGFjY291bnRfbGlzdC5zb21lKGFjY291bnQgPT4gYWNjb3VudC50aXRsZSA9PT0gJ1VTRCcpO1xuICAgICAgICBjb25zdCBoYXNfdXNlcl9maWF0X2N1cnJlbmN5ID0gYWNjb3VudF9saXN0LnNvbWUoXG4gICAgICAgICAgICBhY2NvdW50ID0+ICFpc0NyeXB0b2N1cnJlbmN5KGFjY291bnQudGl0bGUpICYmIGFjY291bnQudGl0bGUgIT09ICdSZWFsJ1xuICAgICAgICApO1xuXG4gICAgICAgIGlmIChpc19wMnBfcmVzdHJpY3RlZCB8fCBpc192aXJ0dWFsIHx8IChoYXNfdXNlcl9maWF0X2N1cnJlbmN5ICYmICFoYXNfdXNkX2N1cnJlbmN5KSkge1xuICAgICAgICAgICAgdGhpcy5zaG93X3AycF9pbl9jYXNoaWVyX29uYm9hcmRpbmcgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2hvd19wMnBfaW5fY2FzaGllcl9vbmJvYXJkaW5nID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGF0dGFjaENhc2hpZXJUb01lbnUoKSB7XG4gICAgICAgIGNvbnN0IHsgbWVudSwgdWkgfSA9IHRoaXMucm9vdF9zdG9yZTtcblxuICAgICAgICBpZiAoIXRoaXMuaGFzX3NldF9jdXJyZW5jeSkge1xuICAgICAgICAgICAgdGhpcy5zZXRIYXNTZXRDdXJyZW5jeSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgbWVudS5hdHRhY2goe1xuICAgICAgICAgICAgaWQ6ICdkdF9jYXNoaWVyX3RhYicsXG4gICAgICAgICAgICBpY29uOiA8Q2FzaGllck5vdGlmaWNhdGlvbnMgcDJwX25vdGlmaWNhdGlvbl9jb3VudD17dGhpcy5wMnBfbm90aWZpY2F0aW9uX2NvdW50fSAvPixcbiAgICAgICAgICAgIHRleHQ6ICgpID0+IGxvY2FsaXplKCdDYXNoaWVyJyksXG4gICAgICAgICAgICBsaW5rX3RvOiB0aGlzLmhhc19zZXRfY3VycmVuY3kgJiYgcm91dGVzLmNhc2hpZXIsXG4gICAgICAgICAgICBvbkNsaWNrOiAhdGhpcy5oYXNfc2V0X2N1cnJlbmN5ICYmIHVpLnRvZ2dsZVNldEN1cnJlbmN5TW9kYWwsXG4gICAgICAgICAgICBsb2dpbl9vbmx5OiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXBsYWNlQ2FzaGllck1lbnVPbmNsaWNrKCkge1xuICAgICAgICBjb25zdCB7IG1lbnUsIHVpIH0gPSB0aGlzLnJvb3Rfc3RvcmU7XG5cbiAgICAgICAgdGhpcy5zZXRIYXNTZXRDdXJyZW5jeSgpO1xuXG4gICAgICAgIG1lbnUudXBkYXRlKFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkOiAnZHRfY2FzaGllcl90YWInLFxuICAgICAgICAgICAgICAgIGljb246IDxDYXNoaWVyTm90aWZpY2F0aW9ucyBwMnBfbm90aWZpY2F0aW9uX2NvdW50PXt0aGlzLnAycF9ub3RpZmljYXRpb25fY291bnR9IC8+LFxuICAgICAgICAgICAgICAgIHRleHQ6ICgpID0+IGxvY2FsaXplKCdDYXNoaWVyJyksXG4gICAgICAgICAgICAgICAgbGlua190bzogdGhpcy5oYXNfc2V0X2N1cnJlbmN5ICYmIHJvdXRlcy5jYXNoaWVyLFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICF0aGlzLmhhc19zZXRfY3VycmVuY3kgPyB1aS50b2dnbGVTZXRDdXJyZW5jeU1vZGFsIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbG9naW5fb25seTogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAxXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgc2V0SGFzU2V0Q3VycmVuY3koKSB7XG4gICAgICAgIGNvbnN0IHsgYWNjb3VudF9saXN0LCBoYXNfYWN0aXZlX3JlYWxfYWNjb3VudCB9ID0gdGhpcy5yb290X3N0b3JlLmNsaWVudDtcblxuICAgICAgICB0aGlzLmhhc19zZXRfY3VycmVuY3kgPVxuICAgICAgICAgICAgYWNjb3VudF9saXN0LmZpbHRlcihhY2NvdW50ID0+ICFhY2NvdW50LmlzX3ZpcnR1YWwpLnNvbWUoYWNjb3VudCA9PiBhY2NvdW50LnRpdGxlICE9PSAnUmVhbCcpIHx8XG4gICAgICAgICAgICAhaGFzX2FjdGl2ZV9yZWFsX2FjY291bnQ7XG4gICAgfVxuXG4gICAgY2hhbmdlU2V0Q3VycmVuY3lNb2RhbFRpdGxlKCkge1xuICAgICAgICB0aGlzLnNob3VsZF9zZXRfY3VycmVuY3lfbW9kYWxfdGl0bGVfY2hhbmdlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBhc3luYyBvbk1vdW50Q2FzaGllck9uYm9hcmRpbmcoKSB7XG4gICAgICAgIGNvbnN0IHsgYWNjb3VudF9wcm9tcHRfZGlhbG9nLCBwYXltZW50X2FnZW50IH0gPSB0aGlzLnJvb3Rfc3RvcmUubW9kdWxlcy5jYXNoaWVyO1xuXG4gICAgICAgIGlmICghdGhpcy5oYXNfc2V0X2N1cnJlbmN5KSB7XG4gICAgICAgICAgICB0aGlzLnNldEhhc1NldEN1cnJlbmN5KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRJc0Nhc2hpZXJPbmJvYXJkaW5nKHRydWUpO1xuICAgICAgICBhY2NvdW50X3Byb21wdF9kaWFsb2cucmVzZXRJc0NvbmZpcm1lZCgpO1xuXG4gICAgICAgIHRoaXMuc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgICAgaWYgKCFwYXltZW50X2FnZW50LmFsbF9wYXltZW50X2FnZW50X2xpc3Q/LnBheW1lbnRhZ2VudF9saXN0Py5saXN0KSB7XG4gICAgICAgICAgICBjb25zdCBhZ2VudF9saXN0ID0gYXdhaXQgcGF5bWVudF9hZ2VudC5nZXRBbGxQYXltZW50QWdlbnRMaXN0KCk7XG4gICAgICAgICAgICBwYXltZW50X2FnZW50LnNldEFsbFBheW1lbnRBZ2VudExpc3QoYWdlbnRfbGlzdCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG5cbiAgICBjYWxjdWxhdGVQZXJjZW50YWdlKGFtb3VudCA9IHRoaXMucm9vdF9zdG9yZS5tb2R1bGVzLmNhc2hpZXIuY3J5cHRvX2ZpYXRfY29udmVydGVyLmNvbnZlcnRlcl9mcm9tX2Ftb3VudCkge1xuICAgICAgICBjb25zdCB7IGNsaWVudCwgbW9kdWxlcyB9ID0gdGhpcy5yb290X3N0b3JlO1xuICAgICAgICBjb25zdCB7IGFjY291bnRfdHJhbnNmZXIgfSA9IG1vZHVsZXMuY2FzaGllcjtcblxuICAgICAgICBpZiAodGhpcy5hY3RpdmVfY29udGFpbmVyID09PSBhY2NvdW50X3RyYW5zZmVyLmNvbnRhaW5lcikge1xuICAgICAgICAgICAgdGhpcy5wZXJjZW50YWdlID0gKygoYW1vdW50IC8gK2FjY291bnRfdHJhbnNmZXIuc2VsZWN0ZWRfZnJvbS5iYWxhbmNlKSAqIDEwMCkudG9GaXhlZCgwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucGVyY2VudGFnZSA9ICsoKGFtb3VudCAvICtjbGllbnQuYmFsYW5jZSkgKiAxMDApLnRvRml4ZWQoMCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0Zpbml0ZSh0aGlzLnBlcmNlbnRhZ2UpKSB7XG4gICAgICAgICAgICB0aGlzLnBlcmNlbnRhZ2UgPSAwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcGVyY2VudGFnZVNlbGVjdG9yU2VsZWN0aW9uU3RhdHVzKHNob3VsZF9wZXJjZW50YWdlX3Jlc2V0KSB7XG4gICAgICAgIHRoaXMuc2hvdWxkX3BlcmNlbnRhZ2VfcmVzZXQgPSBzaG91bGRfcGVyY2VudGFnZV9yZXNldDtcblxuICAgICAgICBpZiAoc2hvdWxkX3BlcmNlbnRhZ2VfcmVzZXQpIHtcbiAgICAgICAgICAgIHRoaXMucGVyY2VudGFnZSA9IDA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRJc0RlcG9zaXQoaXNfZGVwb3NpdCkge1xuICAgICAgICB0aGlzLmlzX2RlcG9zaXQgPSBpc19kZXBvc2l0O1xuICAgIH1cblxuICAgIHNldFNob3VsZFNob3dBbGxBdmFpbGFibGVDdXJyZW5jaWVzKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuc2hvdWxkX3Nob3dfYWxsX2F2YWlsYWJsZV9jdXJyZW5jaWVzID0gdmFsdWU7XG4gICAgfVxuXG4gICAgc2V0SXNDYXNoaWVyT25ib2FyZGluZyhpc19jYXNoaWVyX29uYm9hcmRpbmcpIHtcbiAgICAgICAgdGhpcy5pc19jYXNoaWVyX29uYm9hcmRpbmcgPSBpc19jYXNoaWVyX29uYm9hcmRpbmc7XG4gICAgfVxuXG4gICAgc2V0RGVwb3NpdFRhcmdldCh0YXJnZXQpIHtcbiAgICAgICAgdGhpcy5kZXBvc2l0X3RhcmdldCA9IHRhcmdldDtcbiAgICB9XG5cbiAgICBjb250aW51ZVJvdXRlKCkge1xuICAgICAgICB0aGlzLnJvb3Rfc3RvcmUuY29tbW9uLnJvdXRlVG8odGhpcy5kZXBvc2l0X3RhcmdldCk7XG4gICAgfVxuXG4gICAgc2V0QWNjb3VudFN3aXRjaExpc3RlbmVyKCkge1xuICAgICAgICAvLyBjYXNoaWVyIGluaXRzIG9uY2UgYW5kIHRyaWVzIHRvIHN0YXkgYWN0aXZlIHVudGlsIHN3aXRjaGluZyBhY2NvdW50XG4gICAgICAgIC8vIHNpbmNlIGNhc2hpZXIgY2FsbHMgdGFrZSBhIGxvbmcgdGltZSB0byByZXNwb25kIG9yIGRpc3BsYXkgaW4gaWZyYW1lXG4gICAgICAgIC8vIHNvIHdlIGRvbid0IGhhdmUgYW55IHVubW91bnQgZnVuY3Rpb24gaGVyZSBhbmQgZXZlcnl0aGluZyBnZXRzIHJlc2V0IG9uIHN3aXRjaCBpbnN0ZWFkXG4gICAgICAgIHRoaXMuZGlzcG9zZVN3aXRjaEFjY291bnQoKTtcbiAgICAgICAgdGhpcy5vblN3aXRjaEFjY291bnQodGhpcy5hY2NvdW50U3dpdGNoZXJMaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgLy8gSW5pdGlhbGlzZSBQMlAgYXR0cmlidXRlcyBvbiBhcHAgbG9hZCB3aXRob3V0IG1vdW50aW5nIHRoZSBlbnRpcmUgY2FzaGllclxuICAgIGFzeW5jIGluaXQoKSB7XG4gICAgICAgIGlmICh0aGlzLnJvb3Rfc3RvcmUubW9kdWxlcy5jYXNoaWVyKSB7XG4gICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgICAgY2xpZW50OiB7IGlzX2xvZ2dlZF9pbiwgc3dpdGNoZWQgfSxcbiAgICAgICAgICAgICAgICBtb2R1bGVzLFxuICAgICAgICAgICAgfSA9IHRoaXMucm9vdF9zdG9yZTtcbiAgICAgICAgICAgIGNvbnN0IHsgcGF5bWVudF9hZ2VudCwgcGF5bWVudF9hZ2VudF90cmFuc2Zlciwgd2l0aGRyYXcgfSA9IG1vZHVsZXMuY2FzaGllcjtcblxuICAgICAgICAgICAgLy8gd2FpdCBmb3IgY2xpZW50IHNldHRpbmdzIHRvIGJlIHBvcHVsYXRlZCBpbiBjbGllbnQtc3RvcmVcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuV1Mud2FpdCgnZ2V0X3NldHRpbmdzJyk7XG5cbiAgICAgICAgICAgIGlmIChpc19sb2dnZWRfaW4pIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmdldEFkdmVydGl6ZXJFcnJvcigpO1xuICAgICAgICAgICAgICAgIGlmICghc3dpdGNoZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGVja1AycFN0YXR1cygpO1xuICAgICAgICAgICAgICAgICAgICBwYXltZW50X2FnZW50LnNldFBheW1lbnRBZ2VudExpc3QoKS50aGVuKHBheW1lbnRfYWdlbnQuZmlsdGVyUGF5bWVudEFnZW50TGlzdCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcGF5bWVudF9hZ2VudF90cmFuc2Zlci5pc19wYXltZW50X2FnZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXltZW50X2FnZW50X3RyYW5zZmVyLmNoZWNrSXNQYXltZW50QWdlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiB3aXRoZHJhd2FsIGxpbWl0IGlzIHJlYWNoZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgeWVzLCB0aGlzIHdpbGwgdHJpZ2dlciB0byBzaG93IGEgbm90aWZpY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHdpdGhkcmF3LmNoZWNrMTBrTGltaXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBnZXRBZHZlcnRpemVyRXJyb3IoKSB7XG4gICAgICAgIGNvbnN0IGFkdmVydGlzZXJfaW5mbyA9IGF3YWl0IHRoaXMuV1MuYXV0aG9yaXplZC5wMnBBZHZlcnRpc2VySW5mbygpO1xuICAgICAgICB0aGlzLnNldFAycEFkdmVydGlzZXJFcnJvcihnZXRQcm9wZXJ0eVZhbHVlKGFkdmVydGlzZXJfaW5mbywgWydlcnJvcicsICdjb2RlJ10pKTtcbiAgICB9XG5cbiAgICBzZXRQMnBBZHZlcnRpc2VyRXJyb3IodmFsdWUpIHtcbiAgICAgICAgdGhpcy5wMnBfYWR2ZXJ0aXNlcl9lcnJvciA9IHZhbHVlO1xuICAgIH1cblxuICAgIGNoZWNrUDJwU3RhdHVzKCkge1xuICAgICAgICBjb25zdCBhZHZlcnRpc2VyX2Vycm9yID0gdGhpcy5wMnBfYWR2ZXJ0aXNlcl9lcnJvcjtcbiAgICAgICAgY29uc3QgaXNfcDJwX3Jlc3RyaWN0ZWQgPSBhZHZlcnRpc2VyX2Vycm9yID09PSAnUmVzdHJpY3RlZENvdW50cnknIHx8IGFkdmVydGlzZXJfZXJyb3IgPT09ICdSZXN0cmljdGVkQ3VycmVuY3knO1xuICAgICAgICB0aGlzLnNldElzUDJwVmlzaWJsZSghKGlzX3AycF9yZXN0cmljdGVkIHx8IHRoaXMucm9vdF9zdG9yZS5jbGllbnQuaXNfdmlydHVhbCkpO1xuICAgIH1cblxuICAgIHNldFAycENvbXBsZXRlZE9yZGVycyhwMnBfY29tcGxldGVkX29yZGVycykge1xuICAgICAgICB0aGlzLnAycF9jb21wbGV0ZWRfb3JkZXJzID0gcDJwX2NvbXBsZXRlZF9vcmRlcnM7XG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0UDJwQ29tcGxldGVkT3JkZXJzKCkge1xuICAgICAgICBhd2FpdCB0aGlzLldTLmF1dGhvcml6ZWQuc2VuZCh7IHAycF9vcmRlcl9saXN0OiAxLCBhY3RpdmU6IDAgfSkudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlPy5lcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgcDJwX29yZGVyX2xpc3QgfSA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0UDJwQ29tcGxldGVkT3JkZXJzKHAycF9vcmRlcl9saXN0Lmxpc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhc3luYyBvbk1vdW50Q29tbW9uKHNob3VsZF9yZW1vdW50KSB7XG4gICAgICAgIGNvbnN0IHsgY2xpZW50LCBjb21tb24sIG1vZHVsZXMgfSA9IHRoaXMucm9vdF9zdG9yZTtcbiAgICAgICAgY29uc3QgeyBpc19mcm9tX2Rlcml2Z28sIHJvdXRlVG8gfSA9IGNvbW1vbjtcbiAgICAgICAgY29uc3QgeyBhY2NvdW50X3RyYW5zZmVyLCBvbnJhbXAsIHBheW1lbnRfYWdlbnQsIHBheW1lbnRfYWdlbnRfdHJhbnNmZXIsIHRyYW5zYWN0aW9uX2hpc3RvcnkgfSA9XG4gICAgICAgICAgICBtb2R1bGVzLmNhc2hpZXI7XG5cbiAgICAgICAgdGhpcy5zZXROb3RpZmljYXRpb25Db3VudCh0aGlzLnAycF91bnNlZW5fbm90aWZpY2F0aW9ucyk7XG5cbiAgICAgICAgaWYgKGNsaWVudC5pc19sb2dnZWRfaW4pIHtcbiAgICAgICAgICAgIC8vIGF2b2lkIGNhbGxpbmcgdGhpcyBhZ2FpblxuICAgICAgICAgICAgaWYgKHRoaXMuaXNfcG9wdWxhdGluZ192YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuaXNfcG9wdWxhdGluZ192YWx1ZXMgPSB0cnVlO1xuXG4gICAgICAgICAgICBpZiAoc2hvdWxkX3JlbW91bnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldE9uUmVtb3VudCh0aGlzLm9uTW91bnRDb21tb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBzZWUgaWYgY2xpZW50J3MgY291bnRyeSBoYXMgUEFcbiAgICAgICAgICAgIC8vIGlmIHllcywgd2UgY2FuIHNob3cgdGhlIFBBIHRhYiBpbiBjYXNoaWVyXG4gICAgICAgICAgICB0aGlzLnNldExvYWRpbmcodHJ1ZSk7XG4gICAgICAgICAgICBhd2FpdCBwYXltZW50X2FnZW50LnNldFBheW1lbnRBZ2VudExpc3QoKTtcbiAgICAgICAgICAgIGF3YWl0IHBheW1lbnRfYWdlbnQuZmlsdGVyUGF5bWVudEFnZW50TGlzdCgpO1xuICAgICAgICAgICAgdGhpcy5zZXRMb2FkaW5nKGZhbHNlKTtcblxuICAgICAgICAgICAgaWYgKCFwYXltZW50X2FnZW50X3RyYW5zZmVyLmlzX3BheW1lbnRfYWdlbnQpIHtcbiAgICAgICAgICAgICAgICBwYXltZW50X2FnZW50X3RyYW5zZmVyLmNoZWNrSXNQYXltZW50QWdlbnQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFhY2NvdW50X3RyYW5zZmVyLmFjY291bnRzX2xpc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgYWNjb3VudF90cmFuc2Zlci5zb3J0QWNjb3VudHNUcmFuc2ZlcihudWxsLCBpc19mcm9tX2Rlcml2Z28pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXBheW1lbnRfYWdlbnQuaXNfcGF5bWVudF9hZ2VudF92aXNpYmxlICYmIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5lbmRzV2l0aChyb3V0ZXMuY2FzaGllcl9wYSkpIHtcbiAgICAgICAgICAgICAgICByb3V0ZVRvKHJvdXRlcy5jYXNoaWVyX2RlcG9zaXQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIW9ucmFtcC5pc19vbnJhbXBfdGFiX3Zpc2libGUgJiYgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLmVuZHNXaXRoKHJvdXRlcy5jYXNoaWVyX29ucmFtcCkpIHtcbiAgICAgICAgICAgICAgICByb3V0ZVRvKHJvdXRlcy5jYXNoaWVyX2RlcG9zaXQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgIXRyYW5zYWN0aW9uX2hpc3RvcnkuaXNfY3J5cHRvX3RyYW5zYWN0aW9uc192aXNpYmxlICYmXG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLmVuZHNXaXRoKHJvdXRlcy5jYXNoaWVyX2NyeXB0b190cmFuc2FjdGlvbnMpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByb3V0ZVRvKHJvdXRlcy5jYXNoaWVyX2RlcG9zaXQpO1xuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uX2hpc3Rvcnkuc2V0SXNDcnlwdG9UcmFuc2FjdGlvbnNWaXNpYmxlKHRydWUpO1xuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uX2hpc3Rvcnkub25Nb3VudCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0Q2FzaGllclRhYkluZGV4KGluZGV4KSB7XG4gICAgICAgIHRoaXMuY2FzaGllcl9yb3V0ZV90YWJfaW5kZXggPSBpbmRleDtcbiAgICB9XG5cbiAgICBzZXROb3RpZmljYXRpb25Db3VudChub3RpZmljYXRpb25fY291bnQpIHtcbiAgICAgICAgdGhpcy5wMnBfbm90aWZpY2F0aW9uX2NvdW50ID0gbm90aWZpY2F0aW9uX2NvdW50O1xuICAgIH1cblxuICAgIHNldElzUDJwVmlzaWJsZShpc19wMnBfdmlzaWJsZSkge1xuICAgICAgICB0aGlzLmlzX3AycF92aXNpYmxlID0gaXNfcDJwX3Zpc2libGU7XG4gICAgICAgIGlmICghaXNfcDJwX3Zpc2libGUgJiYgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLmVuZHNXaXRoKHJvdXRlcy5jYXNoaWVyX3AycCkpIHtcbiAgICAgICAgICAgIHRoaXMucm9vdF9zdG9yZS5jb21tb24ucm91dGVUbyhcbiAgICAgICAgICAgICAgICB0aGlzLnJvb3Rfc3RvcmUubW9kdWxlcy5jYXNoaWVyLmFjY291bnRfcHJvbXB0X2RpYWxvZy5sYXN0X2xvY2F0aW9uID8/IHJvdXRlcy5jYXNoaWVyX2RlcG9zaXRcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgaXNfY2FzaGllcl9sb2NrZWQoKSB7XG4gICAgICAgIGNvbnN0IHsgYWNjb3VudF9zdGF0dXMgfSA9IHRoaXMucm9vdF9zdG9yZS5jbGllbnQ7XG5cbiAgICAgICAgaWYgKCFhY2NvdW50X3N0YXR1cz8uc3RhdHVzKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiBhY2NvdW50X3N0YXR1cy5zdGF0dXMuc29tZShzdGF0dXNfbmFtZSA9PiBzdGF0dXNfbmFtZSA9PT0gJ2Nhc2hpZXJfbG9ja2VkJyk7XG4gICAgfVxuXG4gICAgZ2V0IGlzX3N5c3RlbV9tYWludGVuYW5jZSgpIHtcbiAgICAgICAgY29uc3QgeyBhY2NvdW50X3N0YXR1cyB9ID0gdGhpcy5yb290X3N0b3JlLmNsaWVudDtcblxuICAgICAgICBpZiAoIWFjY291bnRfc3RhdHVzPy5jYXNoaWVyX3ZhbGlkYXRpb24pIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGFjY291bnRfc3RhdHVzLmNhc2hpZXJfdmFsaWRhdGlvbi5zb21lKHZhbGlkYXRpb24gPT4gdmFsaWRhdGlvbiA9PT0gJ3N5c3RlbV9tYWludGVuYW5jZScpO1xuICAgIH1cblxuICAgIHNldExvYWRpbmcoaXNfbG9hZGluZykge1xuICAgICAgICB0aGlzLmlzX2xvYWRpbmcgPSBpc19sb2FkaW5nO1xuICAgIH1cblxuICAgIHNldEFjdGl2ZVRhYihjb250YWluZXIpIHtcbiAgICAgICAgdGhpcy5hY3RpdmVfY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgIH1cblxuICAgIGFjY291bnRTd2l0Y2hlckxpc3RlbmVyKCkge1xuICAgICAgICBjb25zdCB7IGNsaWVudCwgbW9kdWxlcyB9ID0gdGhpcy5yb290X3N0b3JlO1xuICAgICAgICBjb25zdCB7IGlmcmFtZSwgcGF5bWVudF9hZ2VudCwgZ2VuZXJhbF9zdG9yZSB9ID0gbW9kdWxlcy5jYXNoaWVyO1xuICAgICAgICBjb25zdCB7IGFjdGl2ZV9jb250YWluZXIgfSA9IGdlbmVyYWxfc3RvcmU7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IENvbnN0YW50cy5tYXBfYWN0aW9uW2FjdGl2ZV9jb250YWluZXJdO1xuXG4gICAgICAgIGNsaWVudC5zZXRWZXJpZmljYXRpb25Db2RlKCcnLCBjb250YWluZXIpO1xuICAgICAgICBpZnJhbWUuY2xlYXJJZnJhbWUoKTtcblxuICAgICAgICB0aGlzLnBheW1lbnRfYWdlbnQgPSBwYXltZW50X2FnZW50O1xuICAgICAgICBpZiAocGF5bWVudF9hZ2VudC5hY3RpdmVfdGFiX2luZGV4ID09PSAxICYmIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5lbmRzV2l0aChyb3V0ZXMuY2FzaGllcl9wYSkpIHtcbiAgICAgICAgICAgIHBheW1lbnRfYWdlbnQuc2V0QWN0aXZlVGFiKDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pc19wb3B1bGF0aW5nX3ZhbHVlcyA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMub25SZW1vdW50KCk7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./stores/general-store.js\n");

/***/ }),

/***/ "./stores/iframe-store.ts":
/*!********************************!*\
  !*** ./stores/iframe-store.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ IframeStore)\n/* harmony export */ });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var Constants_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! Constants/constants */ \"./constants/constants.js\");\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n\n\n\nvar IframeStore = /*#__PURE__*/function () {\n  function IframeStore(root_store) {\n    _classCallCheck(this, IframeStore);\n\n    this.root_store = root_store;\n    this.iframe_height = 0;\n    this.iframe_url = '';\n    this.is_session_timeout = true;\n    this.onIframeLoaded = null;\n    this.timeout_session = null;\n    (0,mobx__WEBPACK_IMPORTED_MODULE_0__.makeObservable)(this, {\n      iframe_height: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      iframe_url: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_session_timeout: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      timeout_session: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      setSessionTimeout: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      checkIframeLoaded: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      clearTimeoutCashierUrl: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setTimeoutCashierUrl: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIframeUrl: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setContainerHeight: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      clearIframe: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound\n    });\n    this.root_store = root_store;\n  }\n\n  _createClass(IframeStore, [{\n    key: \"setSessionTimeout\",\n    value: function setSessionTimeout(is_session_time_out) {\n      this.is_session_timeout = is_session_time_out;\n\n      if (is_session_time_out) {\n        this.removeOnIframeLoaded();\n      }\n    }\n  }, {\n    key: \"checkIframeLoaded\",\n    value: function () {\n      var _checkIframeLoaded = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _this = this;\n\n        var _this$root_store, modules, ui;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this$root_store = this.root_store, modules = _this$root_store.modules, ui = _this$root_store.ui;\n                this.removeOnIframeLoaded();\n\n                this.onIframeLoaded = function (e) {\n                  if (/cashier|doughflow/.test(e.origin)) {\n                    modules.cashier.general_store.setLoading(false); // set the height of the container after content loads so that the\n                    // loading bar stays vertically centered until the end\n\n                    if (ui.is_mobile) {\n                      _this.setContainerHeight(window.innerHeight - 100);\n                    } else {\n                      _this.setContainerHeight(window.innerHeight - 190);\n                    } // do not remove the listener\n                    // on every iframe screen change we need to update the height to more/less to match the new content\n\n                  }\n                };\n\n                window.addEventListener('message', this.onIframeLoaded, false);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function checkIframeLoaded() {\n        return _checkIframeLoaded.apply(this, arguments);\n      }\n\n      return checkIframeLoaded;\n    }()\n  }, {\n    key: \"removeOnIframeLoaded\",\n    value: function removeOnIframeLoaded() {\n      if (this.onIframeLoaded) {\n        window.removeEventListener('message', this.onIframeLoaded, false);\n        this.onIframeLoaded = null;\n      }\n    }\n  }, {\n    key: \"clearTimeoutCashierUrl\",\n    value: function clearTimeoutCashierUrl() {\n      if (this.timeout_session) {\n        clearTimeout(this.timeout_session);\n      }\n    }\n  }, {\n    key: \"setTimeoutCashierUrl\",\n    value: function setTimeoutCashierUrl(is_withdrawal) {\n      var _this2 = this;\n\n      this.clearTimeoutCashierUrl();\n\n      if (is_withdrawal) {\n        this.timeout_session = setTimeout(function () {\n          _this2.setSessionTimeout(true);\n        }, 60000);\n      }\n    }\n  }, {\n    key: \"setIframeUrl\",\n    value: function setIframeUrl(url) {\n      var _this$root_store2 = this.root_store,\n          client = _this$root_store2.client,\n          ui = _this$root_store2.ui;\n\n      if (url) {\n        this.iframe_url = \"\".concat(url, \"&theme=\").concat(ui.is_dark_mode_on ? 'dark' : 'light');\n        var container = this.root_store.modules.cashier.general_store.active_container;\n\n        if (container in Constants_constants__WEBPACK_IMPORTED_MODULE_1__[\"default\"].map_action) {\n          var container_key = container; // after we set iframe url we can clear verification code\n\n          client.setVerificationCode('', Constants_constants__WEBPACK_IMPORTED_MODULE_1__[\"default\"].map_action[container_key]);\n        }\n      } else {\n        this.iframe_url = url;\n      }\n    }\n  }, {\n    key: \"setContainerHeight\",\n    value: function setContainerHeight(height) {\n      this.iframe_height = height;\n    }\n  }, {\n    key: \"clearIframe\",\n    value: function clearIframe() {\n      this.setContainerHeight(0);\n      this.setIframeUrl('');\n      this.clearTimeoutCashierUrl();\n      this.setSessionTimeout(true);\n    }\n  }]);\n\n  return IframeStore;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zdG9yZXMvaWZyYW1lLXN0b3JlLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTs7QUFLQTtBQUNBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWEE7QUFjQTtBQUNBOzs7O0FBUUE7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUVBO0FBQUE7O0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBOztBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFDQTtBQUNBOztBQUNBOztBQWxCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7Ozs7Ozs7OztBQXFCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQUE7O0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQUE7QUFBQTs7QUFFQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2Nhc2hpZXIvLi9zdG9yZXMvaWZyYW1lLXN0b3JlLnRzPzQ3ZTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYWN0aW9uLCBtYWtlT2JzZXJ2YWJsZSwgb2JzZXJ2YWJsZSB9IGZyb20gJ21vYngnO1xuaW1wb3J0IENvbnN0YW50cyBmcm9tICdDb25zdGFudHMvY29uc3RhbnRzJztcbmltcG9ydCB7IFRSb290U3RvcmUgfSBmcm9tICdUeXBlcyc7XG5cbnR5cGUgVE9uSWZyYW1lTG9hZGVkQ2FsbGJhY2sgPSAoZXY6IE1lc3NhZ2VFdmVudCkgPT4gdm9pZDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSWZyYW1lU3RvcmUge1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyByb290X3N0b3JlOiBUUm9vdFN0b3JlKSB7XG4gICAgICAgIG1ha2VPYnNlcnZhYmxlKHRoaXMsIHtcbiAgICAgICAgICAgIGlmcmFtZV9oZWlnaHQ6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBpZnJhbWVfdXJsOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgaXNfc2Vzc2lvbl90aW1lb3V0OiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgdGltZW91dF9zZXNzaW9uOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgc2V0U2Vzc2lvblRpbWVvdXQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIGNoZWNrSWZyYW1lTG9hZGVkOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBjbGVhclRpbWVvdXRDYXNoaWVyVXJsOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRUaW1lb3V0Q2FzaGllclVybDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0SWZyYW1lVXJsOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRDb250YWluZXJIZWlnaHQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIGNsZWFySWZyYW1lOiBhY3Rpb24uYm91bmQsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMucm9vdF9zdG9yZSA9IHJvb3Rfc3RvcmU7XG4gICAgfVxuXG4gICAgaWZyYW1lX2hlaWdodCA9IDA7XG4gICAgaWZyYW1lX3VybCA9ICcnO1xuICAgIGlzX3Nlc3Npb25fdGltZW91dCA9IHRydWU7XG4gICAgb25JZnJhbWVMb2FkZWQ6IFRPbklmcmFtZUxvYWRlZENhbGxiYWNrIHwgbnVsbCA9IG51bGw7XG4gICAgdGltZW91dF9zZXNzaW9uOiBOb2RlSlMuVGltZW91dCB8IG51bGwgPSBudWxsO1xuXG4gICAgc2V0U2Vzc2lvblRpbWVvdXQoaXNfc2Vzc2lvbl90aW1lX291dDogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICB0aGlzLmlzX3Nlc3Npb25fdGltZW91dCA9IGlzX3Nlc3Npb25fdGltZV9vdXQ7XG4gICAgICAgIGlmIChpc19zZXNzaW9uX3RpbWVfb3V0KSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZU9uSWZyYW1lTG9hZGVkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBjaGVja0lmcmFtZUxvYWRlZCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgeyBtb2R1bGVzLCB1aSB9ID0gdGhpcy5yb290X3N0b3JlO1xuXG4gICAgICAgIHRoaXMucmVtb3ZlT25JZnJhbWVMb2FkZWQoKTtcbiAgICAgICAgdGhpcy5vbklmcmFtZUxvYWRlZCA9IChlOiBNZXNzYWdlRXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmICgvY2FzaGllcnxkb3VnaGZsb3cvLnRlc3QoZS5vcmlnaW4pKSB7XG4gICAgICAgICAgICAgICAgbW9kdWxlcy5jYXNoaWVyLmdlbmVyYWxfc3RvcmUuc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgLy8gc2V0IHRoZSBoZWlnaHQgb2YgdGhlIGNvbnRhaW5lciBhZnRlciBjb250ZW50IGxvYWRzIHNvIHRoYXQgdGhlXG4gICAgICAgICAgICAgICAgLy8gbG9hZGluZyBiYXIgc3RheXMgdmVydGljYWxseSBjZW50ZXJlZCB1bnRpbCB0aGUgZW5kXG4gICAgICAgICAgICAgICAgaWYgKHVpLmlzX21vYmlsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldENvbnRhaW5lckhlaWdodCh3aW5kb3cuaW5uZXJIZWlnaHQgLSAxMDApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q29udGFpbmVySGVpZ2h0KHdpbmRvdy5pbm5lckhlaWdodCAtIDE5MCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGRvIG5vdCByZW1vdmUgdGhlIGxpc3RlbmVyXG4gICAgICAgICAgICAgICAgLy8gb24gZXZlcnkgaWZyYW1lIHNjcmVlbiBjaGFuZ2Ugd2UgbmVlZCB0byB1cGRhdGUgdGhlIGhlaWdodCB0byBtb3JlL2xlc3MgdG8gbWF0Y2ggdGhlIG5ldyBjb250ZW50XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgdGhpcy5vbklmcmFtZUxvYWRlZCwgZmFsc2UpO1xuICAgIH1cblxuICAgIHJlbW92ZU9uSWZyYW1lTG9hZGVkKCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5vbklmcmFtZUxvYWRlZCkge1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCB0aGlzLm9uSWZyYW1lTG9hZGVkLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLm9uSWZyYW1lTG9hZGVkID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsZWFyVGltZW91dENhc2hpZXJVcmwoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnRpbWVvdXRfc2Vzc2lvbikge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dF9zZXNzaW9uKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldFRpbWVvdXRDYXNoaWVyVXJsKGlzX3dpdGhkcmF3YWw/OiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2xlYXJUaW1lb3V0Q2FzaGllclVybCgpO1xuICAgICAgICBpZiAoaXNfd2l0aGRyYXdhbCkge1xuICAgICAgICAgICAgdGhpcy50aW1lb3V0X3Nlc3Npb24gPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFNlc3Npb25UaW1lb3V0KHRydWUpO1xuICAgICAgICAgICAgfSwgNjAwMDApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0SWZyYW1lVXJsKHVybDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHsgY2xpZW50LCB1aSB9ID0gdGhpcy5yb290X3N0b3JlO1xuXG4gICAgICAgIGlmICh1cmwpIHtcbiAgICAgICAgICAgIHRoaXMuaWZyYW1lX3VybCA9IGAke3VybH0mdGhlbWU9JHt1aS5pc19kYXJrX21vZGVfb24gPyAnZGFyaycgOiAnbGlnaHQnfWA7XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMucm9vdF9zdG9yZS5tb2R1bGVzLmNhc2hpZXIuZ2VuZXJhbF9zdG9yZS5hY3RpdmVfY29udGFpbmVyO1xuXG4gICAgICAgICAgICBpZiAoY29udGFpbmVyIGluIENvbnN0YW50cy5tYXBfYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGFpbmVyX2tleSA9IGNvbnRhaW5lciBhcyBrZXlvZiB0eXBlb2YgQ29uc3RhbnRzLm1hcF9hY3Rpb247XG5cbiAgICAgICAgICAgICAgICAvLyBhZnRlciB3ZSBzZXQgaWZyYW1lIHVybCB3ZSBjYW4gY2xlYXIgdmVyaWZpY2F0aW9uIGNvZGVcbiAgICAgICAgICAgICAgICBjbGllbnQuc2V0VmVyaWZpY2F0aW9uQ29kZSgnJywgQ29uc3RhbnRzLm1hcF9hY3Rpb25bY29udGFpbmVyX2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pZnJhbWVfdXJsID0gdXJsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0Q29udGFpbmVySGVpZ2h0KGhlaWdodDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaWZyYW1lX2hlaWdodCA9IGhlaWdodDtcbiAgICB9XG5cbiAgICBjbGVhcklmcmFtZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zZXRDb250YWluZXJIZWlnaHQoMCk7XG4gICAgICAgIHRoaXMuc2V0SWZyYW1lVXJsKCcnKTtcbiAgICAgICAgdGhpcy5jbGVhclRpbWVvdXRDYXNoaWVyVXJsKCk7XG4gICAgICAgIHRoaXMuc2V0U2Vzc2lvblRpbWVvdXQodHJ1ZSk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./stores/iframe-store.ts\n");

/***/ }),

/***/ "./stores/on-ramp-store.js":
/*!*********************************!*\
  !*** ./stores/on-ramp-store.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ OnRampStore)\n/* harmony export */ });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/translations */ \"@deriv/translations\");\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_deriv_translations__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @deriv/shared */ \"@deriv/shared\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_deriv_shared__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var Config_on_ramp_providers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! Config/on-ramp-providers */ \"./config/on-ramp-providers.js\");\n/* harmony import */ var _base_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./base-store */ \"./stores/base-store.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n\n\n\nvar OnRampStore = /*#__PURE__*/function (_BaseStore) {\n  _inherits(OnRampStore, _BaseStore);\n\n  var _super = _createSuper(OnRampStore);\n\n  function OnRampStore(_ref) {\n    var _this;\n\n    var WS = _ref.WS,\n        root_store = _ref.root_store;\n\n    _classCallCheck(this, OnRampStore);\n\n    _this = _super.call(this, {\n      root_store: root_store\n    });\n    _this.api_error = null;\n    _this.deposit_address = null;\n    _this.is_deposit_address_loading = true;\n    _this.is_onramp_modal_open = false;\n    _this.is_requesting_widget_html = false;\n    _this.onramp_providers = [];\n    _this.selected_provider = null;\n    _this.should_show_widget = false;\n    _this.widget_error = null;\n    _this.widget_html = null;\n    (0,mobx__WEBPACK_IMPORTED_MODULE_0__.makeObservable)(_assertThisInitialized(_this), {\n      api_error: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      deposit_address: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_deposit_address_loading: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_onramp_modal_open: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_requesting_widget_html: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      onramp_providers: mobx__WEBPACK_IMPORTED_MODULE_0__.observable.shallow,\n      selected_provider: mobx__WEBPACK_IMPORTED_MODULE_0__.observable.ref,\n      should_show_widget: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      widget_error: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      widget_html: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_onramp_tab_visible: mobx__WEBPACK_IMPORTED_MODULE_0__.computed,\n      filtered_onramp_providers: mobx__WEBPACK_IMPORTED_MODULE_0__.computed,\n      onramp_popup_modal_title: mobx__WEBPACK_IMPORTED_MODULE_0__.computed,\n      should_show_dialog: mobx__WEBPACK_IMPORTED_MODULE_0__.computed,\n      onMountOnramp: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onUnmountOnramp: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onClickDisclaimerContinue: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onClickGoToDepositPage: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      pollApiForDepositAddress: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      resetPopup: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setApiError: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setCopyIconRef: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setDepositAddress: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsDepositAddressLoading: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsOnRampModalOpen: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsRequestingWidgetHtml: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setSelectedProvider: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setShouldShowWidget: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setOnrampProviders: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setWidgetError: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setWidgetHtml: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound\n    });\n    _this.WS = WS;\n\n    _this.onClientInit( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.setOnrampProviders([Config_on_ramp_providers__WEBPACK_IMPORTED_MODULE_3__[\"default\"].createChangellyProvider(_assertThisInitialized(_this)), Config_on_ramp_providers__WEBPACK_IMPORTED_MODULE_3__[\"default\"].createXanPoolProvider(_assertThisInitialized(_this)), Config_on_ramp_providers__WEBPACK_IMPORTED_MODULE_3__[\"default\"].createBanxaProvider(_assertThisInitialized(_this))]);\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })));\n\n    return _this;\n  }\n\n  _createClass(OnRampStore, [{\n    key: \"is_onramp_tab_visible\",\n    get: function get() {\n      var client = this.root_store.client;\n      return client.is_virtual === false && (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.isCryptocurrency)(client.currency) && this.filtered_onramp_providers.length > 0;\n    }\n  }, {\n    key: \"filtered_onramp_providers\",\n    get: function get() {\n      var client = this.root_store.client;\n      return this.onramp_providers // Ensure provider supports this user's account currency.\n      .filter(function (provider) {\n        var to_currencies = provider.getToCurrencies();\n        return to_currencies.includes('*') || to_currencies.includes(client.currency.toLowerCase());\n      }) // Ensure provider supports this user's residency.\n      .filter(function (provider) {\n        var allowed_residencies = provider.getAllowedResidencies();\n        return allowed_residencies.includes('*') || allowed_residencies.includes(client.residence);\n      });\n    }\n  }, {\n    key: \"onramp_popup_modal_title\",\n    get: function get() {\n      if (this.should_show_widget) {\n        return (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Payment channel');\n      } else if (this.selected_provider) {\n        if (this.should_show_dialog) {\n          return (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Our server cannot retrieve an address.');\n        }\n\n        return ' '; // Empty string to render header + close icon.\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"should_show_dialog\",\n    get: function get() {\n      return !!this.api_error;\n    }\n  }, {\n    key: \"onMountOnramp\",\n    value: function onMountOnramp() {\n      var _this2 = this;\n\n      this.disposeThirdPartyJsReaction = (0,mobx__WEBPACK_IMPORTED_MODULE_0__.reaction)(function () {\n        return _this2.selected_provider;\n      }, /*#__PURE__*/function () {\n        var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(provider) {\n          var dependencies, _yield$import, loadjs, script_name;\n\n          return regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  if (provider) {\n                    _context2.next = 2;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\");\n\n                case 2:\n                  dependencies = provider.getScriptDependencies();\n\n                  if (!(dependencies.length === 0)) {\n                    _context2.next = 5;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\");\n\n                case 5:\n                  _context2.next = 7;\n                  return __webpack_require__.e(/*! import() | loadjs */ \"loadjs\").then(__webpack_require__.t.bind(__webpack_require__, /*! loadjs */ \"../../../node_modules/loadjs/dist/loadjs.umd.js\", 23));\n\n                case 7:\n                  _yield$import = _context2.sent;\n                  loadjs = _yield$import[\"default\"];\n                  script_name = \"\".concat((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.getKebabCase)(provider.name), \"-onramp\");\n\n                  if (!loadjs.isDefined(script_name)) {\n                    loadjs(dependencies, script_name, {\n                      error: function error() {\n                        // eslint-disable-next-line no-console\n                        console.warn(\"Dependencies for onramp provider \".concat(provider.name, \" could not be loaded.\"));\n\n                        _this2.setSelectedProvider(null);\n                      }\n                    });\n                  }\n\n                case 11:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }));\n\n        return function (_x) {\n          return _ref3.apply(this, arguments);\n        };\n      }()); // When \"should_show_widget\", attempt to fetch \"selected_provider\"'s \"widget_html\".\n\n      this.disposeGetWidgetHtmlReaction = (0,mobx__WEBPACK_IMPORTED_MODULE_0__.reaction)(function () {\n        return _this2.should_show_widget;\n      }, function (should_show_widget) {\n        if (should_show_widget) {\n          if (_this2.is_requesting_widget_html) {\n            return;\n          }\n\n          _this2.setIsRequestingWidgetHtml(true);\n\n          _this2.selected_provider.getWidgetHtml().then(function (widget_html) {\n            if (widget_html) {\n              // Regular providers (iframe/JS embed)\n              _this2.setWidgetHtml(widget_html);\n            } else {\n              // An empty resolve (widget_html) identifies a redirect.\n              _this2.setShouldShowWidget(false);\n            }\n          })[\"catch\"](function (error) {\n            _this2.setWidgetError(error);\n          })[\"finally\"](function () {\n            return _this2.setIsRequestingWidgetHtml(false);\n          });\n        }\n      });\n    }\n  }, {\n    key: \"onUnmountOnramp\",\n    value: function onUnmountOnramp() {\n      if (typeof this.disposeThirdPartyJsReaction === 'function') {\n        this.disposeThirdPartyJsReaction();\n      }\n\n      if (typeof this.disposeGetWidgetHtmlReaction === 'function') {\n        this.disposeGetWidgetHtmlReaction();\n      }\n    }\n  }, {\n    key: \"onClickDisclaimerContinue\",\n    value: function onClickDisclaimerContinue() {\n      this.setShouldShowWidget(true);\n    }\n  }, {\n    key: \"onClickGoToDepositPage\",\n    value: function onClickGoToDepositPage() {\n      this.pollApiForDepositAddress(false);\n      window.open((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.websiteUrl)() + _deriv_shared__WEBPACK_IMPORTED_MODULE_2__.routes.cashier_deposit.substring(1));\n    }\n  }, {\n    key: \"pollApiForDepositAddress\",\n    value: function pollApiForDepositAddress(should_allow_empty_address) {\n      var _this3 = this;\n\n      // should_allow_empty_address: API returns empty deposit address for legacy accounts\n      // that have never generated a deposit address. Setting this to \"true\" will allow\n      // the user to be redirected to the Deposit page (where an address will be generated).\n      // Setting this to \"false\" will start polling the API for this deposit address.\n      this.setIsDepositAddressLoading(true);\n      this.setApiError(null);\n      var deposit_address_interval = setInterval(function () {\n        return getDepositAddressFromApi;\n      }, 3000);\n\n      var getDepositAddressFromApi = function getDepositAddressFromApi() {\n        _this3.WS.authorized.cashier('deposit', {\n          provider: 'crypto',\n          type: 'api'\n        }).then(function (response) {\n          var should_clear_interval = false;\n\n          if (response.error) {\n            _this3.setApiError(response.error);\n\n            should_clear_interval = true;\n          } else {\n            var address = response.cashier.deposit.address;\n\n            if (address || should_allow_empty_address) {\n              _this3.setDepositAddress(address);\n\n              should_clear_interval = true;\n            }\n          }\n\n          if (should_clear_interval) {\n            clearInterval(deposit_address_interval);\n\n            _this3.setIsDepositAddressLoading(false);\n          }\n        });\n      };\n\n      getDepositAddressFromApi();\n      setTimeout(function () {\n        clearInterval(deposit_address_interval);\n\n        _this3.setIsDepositAddressLoading(false);\n      }, 30000);\n    }\n  }, {\n    key: \"resetPopup\",\n    value: function resetPopup() {\n      this.setApiError(null);\n      this.setDepositAddress(null);\n      this.setIsDepositAddressLoading(true);\n      this.setSelectedProvider(null);\n      this.setShouldShowWidget(false);\n      this.setWidgetError(null);\n      this.setWidgetHtml(null);\n    }\n  }, {\n    key: \"setApiError\",\n    value: function setApiError(api_error) {\n      this.api_error = api_error;\n    }\n  }, {\n    key: \"setCopyIconRef\",\n    value: function setCopyIconRef(ref) {\n      this.copy_icon_ref = ref;\n    }\n  }, {\n    key: \"setDepositAddress\",\n    value: function setDepositAddress(deposit_address) {\n      this.deposit_address = deposit_address;\n    }\n  }, {\n    key: \"setIsDepositAddressLoading\",\n    value: function setIsDepositAddressLoading(is_loading) {\n      this.is_deposit_address_loading = is_loading;\n    }\n  }, {\n    key: \"setIsOnRampModalOpen\",\n    value: function setIsOnRampModalOpen(is_open) {\n      this.is_onramp_modal_open = is_open;\n    }\n  }, {\n    key: \"setIsRequestingWidgetHtml\",\n    value: function setIsRequestingWidgetHtml(is_requesting_widget_html) {\n      this.is_requesting_widget_html = is_requesting_widget_html;\n    }\n  }, {\n    key: \"setSelectedProvider\",\n    value: function setSelectedProvider(provider) {\n      if (provider) {\n        this.selected_provider = provider;\n        this.setIsOnRampModalOpen(true);\n        this.pollApiForDepositAddress(true);\n      } else {\n        this.setIsOnRampModalOpen(false);\n        this.selected_provider = null;\n      }\n    }\n  }, {\n    key: \"setShouldShowWidget\",\n    value: function setShouldShowWidget(should_show) {\n      this.should_show_widget = should_show;\n    }\n  }, {\n    key: \"setOnrampProviders\",\n    value: function setOnrampProviders(onramp_providers) {\n      this.onramp_providers = onramp_providers.slice();\n    }\n  }, {\n    key: \"setWidgetError\",\n    value: function setWidgetError(widget_error) {\n      this.widget_error = widget_error;\n    }\n  }, {\n    key: \"setWidgetHtml\",\n    value: function setWidgetHtml(widget_html) {\n      this.widget_html = widget_html;\n    }\n  }]);\n\n  return OnRampStore;\n}(_base_store__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zdG9yZXMvb24tcmFtcC1zdG9yZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7Ozs7O0FBWUE7QUFBQTs7QUFBQTtBQUFBOztBQUFBOztBQUNBO0FBQUE7QUFBQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQS9CQTtBQWtDQTs7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7O0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBdkNBO0FBOENBOzs7O0FBRUE7QUFDQTtBQUVBO0FBS0E7OztBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBTEE7QUFRQTtBQUNBO0FBQ0E7QUFFQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTs7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQUE7O0FBQ0E7QUFDQTtBQUFBO0FBREE7QUFFQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUFBO0FBS0E7O0FBTEE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFVQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUxBO0FBT0E7O0FBckJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUZBO0FBQUE7QUFBQTtBQUFBOztBQTRCQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUFBOztBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTs7QUFFQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7OztBQXZSQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9jYXNoaWVyLy4vc3RvcmVzL29uLXJhbXAtc3RvcmUuanM/ZTBhNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhY3Rpb24sIGNvbXB1dGVkLCBvYnNlcnZhYmxlLCByZWFjdGlvbiwgbWFrZU9ic2VydmFibGUgfSBmcm9tICdtb2J4JztcbmltcG9ydCB7IGxvY2FsaXplIH0gZnJvbSAnQGRlcml2L3RyYW5zbGF0aW9ucyc7XG5pbXBvcnQgeyBnZXRLZWJhYkNhc2UsIGlzQ3J5cHRvY3VycmVuY3ksIHJvdXRlcywgd2Vic2l0ZVVybCB9IGZyb20gJ0BkZXJpdi9zaGFyZWQnO1xuaW1wb3J0IE9ucmFtcFByb3ZpZGVycyBmcm9tICdDb25maWcvb24tcmFtcC1wcm92aWRlcnMnO1xuaW1wb3J0IEJhc2VTdG9yZSBmcm9tICcuL2Jhc2Utc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPblJhbXBTdG9yZSBleHRlbmRzIEJhc2VTdG9yZSB7XG4gICAgYXBpX2Vycm9yID0gbnVsbDtcbiAgICBkZXBvc2l0X2FkZHJlc3MgPSBudWxsO1xuICAgIGlzX2RlcG9zaXRfYWRkcmVzc19sb2FkaW5nID0gdHJ1ZTtcbiAgICBpc19vbnJhbXBfbW9kYWxfb3BlbiA9IGZhbHNlO1xuICAgIGlzX3JlcXVlc3Rpbmdfd2lkZ2V0X2h0bWwgPSBmYWxzZTtcbiAgICBvbnJhbXBfcHJvdmlkZXJzID0gW107XG4gICAgc2VsZWN0ZWRfcHJvdmlkZXIgPSBudWxsO1xuICAgIHNob3VsZF9zaG93X3dpZGdldCA9IGZhbHNlO1xuICAgIHdpZGdldF9lcnJvciA9IG51bGw7XG4gICAgd2lkZ2V0X2h0bWwgPSBudWxsO1xuXG4gICAgY29uc3RydWN0b3IoeyBXUywgcm9vdF9zdG9yZSB9KSB7XG4gICAgICAgIHN1cGVyKHsgcm9vdF9zdG9yZSB9KTtcblxuICAgICAgICBtYWtlT2JzZXJ2YWJsZSh0aGlzLCB7XG4gICAgICAgICAgICBhcGlfZXJyb3I6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBkZXBvc2l0X2FkZHJlc3M6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBpc19kZXBvc2l0X2FkZHJlc3NfbG9hZGluZzogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGlzX29ucmFtcF9tb2RhbF9vcGVuOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgaXNfcmVxdWVzdGluZ193aWRnZXRfaHRtbDogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIG9ucmFtcF9wcm92aWRlcnM6IG9ic2VydmFibGUuc2hhbGxvdyxcbiAgICAgICAgICAgIHNlbGVjdGVkX3Byb3ZpZGVyOiBvYnNlcnZhYmxlLnJlZixcbiAgICAgICAgICAgIHNob3VsZF9zaG93X3dpZGdldDogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIHdpZGdldF9lcnJvcjogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIHdpZGdldF9odG1sOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgaXNfb25yYW1wX3RhYl92aXNpYmxlOiBjb21wdXRlZCxcbiAgICAgICAgICAgIGZpbHRlcmVkX29ucmFtcF9wcm92aWRlcnM6IGNvbXB1dGVkLFxuICAgICAgICAgICAgb25yYW1wX3BvcHVwX21vZGFsX3RpdGxlOiBjb21wdXRlZCxcbiAgICAgICAgICAgIHNob3VsZF9zaG93X2RpYWxvZzogY29tcHV0ZWQsXG4gICAgICAgICAgICBvbk1vdW50T25yYW1wOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBvblVubW91bnRPbnJhbXA6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIG9uQ2xpY2tEaXNjbGFpbWVyQ29udGludWU6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIG9uQ2xpY2tHb1RvRGVwb3NpdFBhZ2U6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHBvbGxBcGlGb3JEZXBvc2l0QWRkcmVzczogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgcmVzZXRQb3B1cDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0QXBpRXJyb3I6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldENvcHlJY29uUmVmOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXREZXBvc2l0QWRkcmVzczogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0SXNEZXBvc2l0QWRkcmVzc0xvYWRpbmc6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldElzT25SYW1wTW9kYWxPcGVuOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRJc1JlcXVlc3RpbmdXaWRnZXRIdG1sOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRTZWxlY3RlZFByb3ZpZGVyOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRTaG91bGRTaG93V2lkZ2V0OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRPbnJhbXBQcm92aWRlcnM6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldFdpZGdldEVycm9yOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRXaWRnZXRIdG1sOiBhY3Rpb24uYm91bmQsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuV1MgPSBXUztcblxuICAgICAgICB0aGlzLm9uQ2xpZW50SW5pdChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldE9ucmFtcFByb3ZpZGVycyhbXG4gICAgICAgICAgICAgICAgT25yYW1wUHJvdmlkZXJzLmNyZWF0ZUNoYW5nZWxseVByb3ZpZGVyKHRoaXMpLFxuICAgICAgICAgICAgICAgIE9ucmFtcFByb3ZpZGVycy5jcmVhdGVYYW5Qb29sUHJvdmlkZXIodGhpcyksXG4gICAgICAgICAgICAgICAgT25yYW1wUHJvdmlkZXJzLmNyZWF0ZUJhbnhhUHJvdmlkZXIodGhpcyksXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0IGlzX29ucmFtcF90YWJfdmlzaWJsZSgpIHtcbiAgICAgICAgY29uc3QgeyBjbGllbnQgfSA9IHRoaXMucm9vdF9zdG9yZTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgY2xpZW50LmlzX3ZpcnR1YWwgPT09IGZhbHNlICYmXG4gICAgICAgICAgICBpc0NyeXB0b2N1cnJlbmN5KGNsaWVudC5jdXJyZW5jeSkgJiZcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyZWRfb25yYW1wX3Byb3ZpZGVycy5sZW5ndGggPiAwXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZ2V0IGZpbHRlcmVkX29ucmFtcF9wcm92aWRlcnMoKSB7XG4gICAgICAgIGNvbnN0IHsgY2xpZW50IH0gPSB0aGlzLnJvb3Rfc3RvcmU7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHRoaXMub25yYW1wX3Byb3ZpZGVyc1xuICAgICAgICAgICAgICAgIC8vIEVuc3VyZSBwcm92aWRlciBzdXBwb3J0cyB0aGlzIHVzZXIncyBhY2NvdW50IGN1cnJlbmN5LlxuICAgICAgICAgICAgICAgIC5maWx0ZXIocHJvdmlkZXIgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0b19jdXJyZW5jaWVzID0gcHJvdmlkZXIuZ2V0VG9DdXJyZW5jaWVzKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b19jdXJyZW5jaWVzLmluY2x1ZGVzKCcqJykgfHwgdG9fY3VycmVuY2llcy5pbmNsdWRlcyhjbGllbnQuY3VycmVuY3kudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAvLyBFbnN1cmUgcHJvdmlkZXIgc3VwcG9ydHMgdGhpcyB1c2VyJ3MgcmVzaWRlbmN5LlxuICAgICAgICAgICAgICAgIC5maWx0ZXIocHJvdmlkZXIgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbGxvd2VkX3Jlc2lkZW5jaWVzID0gcHJvdmlkZXIuZ2V0QWxsb3dlZFJlc2lkZW5jaWVzKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhbGxvd2VkX3Jlc2lkZW5jaWVzLmluY2x1ZGVzKCcqJykgfHwgYWxsb3dlZF9yZXNpZGVuY2llcy5pbmNsdWRlcyhjbGllbnQucmVzaWRlbmNlKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGdldCBvbnJhbXBfcG9wdXBfbW9kYWxfdGl0bGUoKSB7XG4gICAgICAgIGlmICh0aGlzLnNob3VsZF9zaG93X3dpZGdldCkge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplKCdQYXltZW50IGNoYW5uZWwnKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNlbGVjdGVkX3Byb3ZpZGVyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zaG91bGRfc2hvd19kaWFsb2cpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxpemUoJ091ciBzZXJ2ZXIgY2Fubm90IHJldHJpZXZlIGFuIGFkZHJlc3MuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gJyAnOyAvLyBFbXB0eSBzdHJpbmcgdG8gcmVuZGVyIGhlYWRlciArIGNsb3NlIGljb24uXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBnZXQgc2hvdWxkX3Nob3dfZGlhbG9nKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLmFwaV9lcnJvcjtcbiAgICB9XG5cbiAgICBvbk1vdW50T25yYW1wKCkge1xuICAgICAgICB0aGlzLmRpc3Bvc2VUaGlyZFBhcnR5SnNSZWFjdGlvbiA9IHJlYWN0aW9uKFxuICAgICAgICAgICAgKCkgPT4gdGhpcy5zZWxlY3RlZF9wcm92aWRlcixcbiAgICAgICAgICAgIGFzeW5jIHByb3ZpZGVyID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXByb3ZpZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBkZXBlbmRlbmNpZXMgPSBwcm92aWRlci5nZXRTY3JpcHREZXBlbmRlbmNpZXMoKTtcbiAgICAgICAgICAgICAgICBpZiAoZGVwZW5kZW5jaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgeyBkZWZhdWx0OiBsb2FkanMgfSA9IGF3YWl0IGltcG9ydCgvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcImxvYWRqc1wiICovICdsb2FkanMnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzY3JpcHRfbmFtZSA9IGAke2dldEtlYmFiQ2FzZShwcm92aWRlci5uYW1lKX0tb25yYW1wYDtcblxuICAgICAgICAgICAgICAgIGlmICghbG9hZGpzLmlzRGVmaW5lZChzY3JpcHRfbmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZGpzKGRlcGVuZGVuY2llcywgc2NyaXB0X25hbWUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYERlcGVuZGVuY2llcyBmb3Igb25yYW1wIHByb3ZpZGVyICR7cHJvdmlkZXIubmFtZX0gY291bGQgbm90IGJlIGxvYWRlZC5gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFNlbGVjdGVkUHJvdmlkZXIobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gV2hlbiBcInNob3VsZF9zaG93X3dpZGdldFwiLCBhdHRlbXB0IHRvIGZldGNoIFwic2VsZWN0ZWRfcHJvdmlkZXJcIidzIFwid2lkZ2V0X2h0bWxcIi5cbiAgICAgICAgdGhpcy5kaXNwb3NlR2V0V2lkZ2V0SHRtbFJlYWN0aW9uID0gcmVhY3Rpb24oXG4gICAgICAgICAgICAoKSA9PiB0aGlzLnNob3VsZF9zaG93X3dpZGdldCxcbiAgICAgICAgICAgIHNob3VsZF9zaG93X3dpZGdldCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHNob3VsZF9zaG93X3dpZGdldCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc19yZXF1ZXN0aW5nX3dpZGdldF9odG1sKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldElzUmVxdWVzdGluZ1dpZGdldEh0bWwodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRfcHJvdmlkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5nZXRXaWRnZXRIdG1sKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHdpZGdldF9odG1sID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2lkZ2V0X2h0bWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVndWxhciBwcm92aWRlcnMgKGlmcmFtZS9KUyBlbWJlZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRXaWRnZXRIdG1sKHdpZGdldF9odG1sKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBbiBlbXB0eSByZXNvbHZlICh3aWRnZXRfaHRtbCkgaWRlbnRpZmllcyBhIHJlZGlyZWN0LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFNob3VsZFNob3dXaWRnZXQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0V2lkZ2V0RXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHRoaXMuc2V0SXNSZXF1ZXN0aW5nV2lkZ2V0SHRtbChmYWxzZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBvblVubW91bnRPbnJhbXAoKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5kaXNwb3NlVGhpcmRQYXJ0eUpzUmVhY3Rpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZVRoaXJkUGFydHlKc1JlYWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmRpc3Bvc2VHZXRXaWRnZXRIdG1sUmVhY3Rpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZUdldFdpZGdldEh0bWxSZWFjdGlvbigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25DbGlja0Rpc2NsYWltZXJDb250aW51ZSgpIHtcbiAgICAgICAgdGhpcy5zZXRTaG91bGRTaG93V2lkZ2V0KHRydWUpO1xuICAgIH1cblxuICAgIG9uQ2xpY2tHb1RvRGVwb3NpdFBhZ2UoKSB7XG4gICAgICAgIHRoaXMucG9sbEFwaUZvckRlcG9zaXRBZGRyZXNzKGZhbHNlKTtcbiAgICAgICAgd2luZG93Lm9wZW4od2Vic2l0ZVVybCgpICsgcm91dGVzLmNhc2hpZXJfZGVwb3NpdC5zdWJzdHJpbmcoMSkpO1xuICAgIH1cblxuICAgIHBvbGxBcGlGb3JEZXBvc2l0QWRkcmVzcyhzaG91bGRfYWxsb3dfZW1wdHlfYWRkcmVzcykge1xuICAgICAgICAvLyBzaG91bGRfYWxsb3dfZW1wdHlfYWRkcmVzczogQVBJIHJldHVybnMgZW1wdHkgZGVwb3NpdCBhZGRyZXNzIGZvciBsZWdhY3kgYWNjb3VudHNcbiAgICAgICAgLy8gdGhhdCBoYXZlIG5ldmVyIGdlbmVyYXRlZCBhIGRlcG9zaXQgYWRkcmVzcy4gU2V0dGluZyB0aGlzIHRvIFwidHJ1ZVwiIHdpbGwgYWxsb3dcbiAgICAgICAgLy8gdGhlIHVzZXIgdG8gYmUgcmVkaXJlY3RlZCB0byB0aGUgRGVwb3NpdCBwYWdlICh3aGVyZSBhbiBhZGRyZXNzIHdpbGwgYmUgZ2VuZXJhdGVkKS5cbiAgICAgICAgLy8gU2V0dGluZyB0aGlzIHRvIFwiZmFsc2VcIiB3aWxsIHN0YXJ0IHBvbGxpbmcgdGhlIEFQSSBmb3IgdGhpcyBkZXBvc2l0IGFkZHJlc3MuXG5cbiAgICAgICAgdGhpcy5zZXRJc0RlcG9zaXRBZGRyZXNzTG9hZGluZyh0cnVlKTtcbiAgICAgICAgdGhpcy5zZXRBcGlFcnJvcihudWxsKTtcblxuICAgICAgICBjb25zdCBkZXBvc2l0X2FkZHJlc3NfaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiBnZXREZXBvc2l0QWRkcmVzc0Zyb21BcGksIDMwMDApO1xuICAgICAgICBjb25zdCBnZXREZXBvc2l0QWRkcmVzc0Zyb21BcGkgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLldTLmF1dGhvcml6ZWQuY2FzaGllcignZGVwb3NpdCcsIHsgcHJvdmlkZXI6ICdjcnlwdG8nLCB0eXBlOiAnYXBpJyB9KS50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgc2hvdWxkX2NsZWFyX2ludGVydmFsID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRBcGlFcnJvcihyZXNwb25zZS5lcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHNob3VsZF9jbGVhcl9pbnRlcnZhbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBhZGRyZXNzIH0gPSByZXNwb25zZS5jYXNoaWVyLmRlcG9zaXQ7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGFkZHJlc3MgfHwgc2hvdWxkX2FsbG93X2VtcHR5X2FkZHJlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0RGVwb3NpdEFkZHJlc3MoYWRkcmVzcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaG91bGRfY2xlYXJfaW50ZXJ2YWwgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHNob3VsZF9jbGVhcl9pbnRlcnZhbCkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGRlcG9zaXRfYWRkcmVzc19pbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0SXNEZXBvc2l0QWRkcmVzc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIGdldERlcG9zaXRBZGRyZXNzRnJvbUFwaSgpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoZGVwb3NpdF9hZGRyZXNzX2ludGVydmFsKTtcbiAgICAgICAgICAgIHRoaXMuc2V0SXNEZXBvc2l0QWRkcmVzc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgICB9LCAzMDAwMCk7XG4gICAgfVxuXG4gICAgcmVzZXRQb3B1cCgpIHtcbiAgICAgICAgdGhpcy5zZXRBcGlFcnJvcihudWxsKTtcbiAgICAgICAgdGhpcy5zZXREZXBvc2l0QWRkcmVzcyhudWxsKTtcbiAgICAgICAgdGhpcy5zZXRJc0RlcG9zaXRBZGRyZXNzTG9hZGluZyh0cnVlKTtcbiAgICAgICAgdGhpcy5zZXRTZWxlY3RlZFByb3ZpZGVyKG51bGwpO1xuICAgICAgICB0aGlzLnNldFNob3VsZFNob3dXaWRnZXQoZmFsc2UpO1xuICAgICAgICB0aGlzLnNldFdpZGdldEVycm9yKG51bGwpO1xuICAgICAgICB0aGlzLnNldFdpZGdldEh0bWwobnVsbCk7XG4gICAgfVxuXG4gICAgc2V0QXBpRXJyb3IoYXBpX2Vycm9yKSB7XG4gICAgICAgIHRoaXMuYXBpX2Vycm9yID0gYXBpX2Vycm9yO1xuICAgIH1cblxuICAgIHNldENvcHlJY29uUmVmKHJlZikge1xuICAgICAgICB0aGlzLmNvcHlfaWNvbl9yZWYgPSByZWY7XG4gICAgfVxuXG4gICAgc2V0RGVwb3NpdEFkZHJlc3MoZGVwb3NpdF9hZGRyZXNzKSB7XG4gICAgICAgIHRoaXMuZGVwb3NpdF9hZGRyZXNzID0gZGVwb3NpdF9hZGRyZXNzO1xuICAgIH1cblxuICAgIHNldElzRGVwb3NpdEFkZHJlc3NMb2FkaW5nKGlzX2xvYWRpbmcpIHtcbiAgICAgICAgdGhpcy5pc19kZXBvc2l0X2FkZHJlc3NfbG9hZGluZyA9IGlzX2xvYWRpbmc7XG4gICAgfVxuXG4gICAgc2V0SXNPblJhbXBNb2RhbE9wZW4oaXNfb3Blbikge1xuICAgICAgICB0aGlzLmlzX29ucmFtcF9tb2RhbF9vcGVuID0gaXNfb3BlbjtcbiAgICB9XG5cbiAgICBzZXRJc1JlcXVlc3RpbmdXaWRnZXRIdG1sKGlzX3JlcXVlc3Rpbmdfd2lkZ2V0X2h0bWwpIHtcbiAgICAgICAgdGhpcy5pc19yZXF1ZXN0aW5nX3dpZGdldF9odG1sID0gaXNfcmVxdWVzdGluZ193aWRnZXRfaHRtbDtcbiAgICB9XG5cbiAgICBzZXRTZWxlY3RlZFByb3ZpZGVyKHByb3ZpZGVyKSB7XG4gICAgICAgIGlmIChwcm92aWRlcikge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZF9wcm92aWRlciA9IHByb3ZpZGVyO1xuICAgICAgICAgICAgdGhpcy5zZXRJc09uUmFtcE1vZGFsT3Blbih0cnVlKTtcbiAgICAgICAgICAgIHRoaXMucG9sbEFwaUZvckRlcG9zaXRBZGRyZXNzKHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXRJc09uUmFtcE1vZGFsT3BlbihmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkX3Byb3ZpZGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldFNob3VsZFNob3dXaWRnZXQoc2hvdWxkX3Nob3cpIHtcbiAgICAgICAgdGhpcy5zaG91bGRfc2hvd193aWRnZXQgPSBzaG91bGRfc2hvdztcbiAgICB9XG5cbiAgICBzZXRPbnJhbXBQcm92aWRlcnMob25yYW1wX3Byb3ZpZGVycykge1xuICAgICAgICB0aGlzLm9ucmFtcF9wcm92aWRlcnMgPSBvbnJhbXBfcHJvdmlkZXJzLnNsaWNlKCk7XG4gICAgfVxuXG4gICAgc2V0V2lkZ2V0RXJyb3Iod2lkZ2V0X2Vycm9yKSB7XG4gICAgICAgIHRoaXMud2lkZ2V0X2Vycm9yID0gd2lkZ2V0X2Vycm9yO1xuICAgIH1cblxuICAgIHNldFdpZGdldEh0bWwod2lkZ2V0X2h0bWwpIHtcbiAgICAgICAgdGhpcy53aWRnZXRfaHRtbCA9IHdpZGdldF9odG1sO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./stores/on-ramp-store.js\n");

/***/ }),

/***/ "./stores/payment-agent-store.js":
/*!***************************************!*\
  !*** ./stores/payment-agent-store.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PaymentAgentStore)\n/* harmony export */ });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/shared */ \"@deriv/shared\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var Utils_utility__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! Utils/utility */ \"./utils/utility.js\");\n/* harmony import */ var Constants_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! Constants/constants */ \"./constants/constants.js\");\n/* harmony import */ var _error_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./error-store */ \"./stores/error-store.ts\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n\n\n\n\n\n\nvar PaymentAgentStore = /*#__PURE__*/function () {\n  function PaymentAgentStore(_ref) {\n    var _this = this;\n\n    var WS = _ref.WS,\n        root_store = _ref.root_store;\n\n    _classCallCheck(this, PaymentAgentStore);\n\n    this.list = [];\n    this.agents = [];\n    this.container = Constants_constants__WEBPACK_IMPORTED_MODULE_3__[\"default\"].containers.payment_agent;\n    this.error = new _error_store__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n    this.filtered_list = [];\n    this.is_name_selected = true;\n    this.is_search_loading = false;\n    this.is_withdraw = false;\n    this.is_try_withdraw_successful = false;\n    this.is_withdraw_successful = false;\n    this.confirm = {};\n    this.receipt = {};\n    this.selected_bank = 0;\n    this.supported_banks = [];\n    this.active_tab_index = 0;\n    this.all_payment_agent_list = [];\n    this.search_term = '';\n    this.has_payment_agent_search_warning = false;\n\n    this.resetPaymentAgent = function () {\n      var _this$root_store = _this.root_store,\n          client = _this$root_store.client,\n          modules = _this$root_store.modules;\n      var active_container = modules.cashier.general_store.active_container;\n      var container = Constants_constants__WEBPACK_IMPORTED_MODULE_3__[\"default\"].map_action[active_container];\n      client.setVerificationCode('', container);\n\n      _this.error.setErrorMessage('');\n\n      _this.setIsWithdraw(false);\n\n      _this.setIsWithdrawSuccessful(false);\n\n      _this.setIsTryWithdrawSuccessful(false);\n\n      _this.setActiveTabIndex(0);\n    };\n\n    (0,mobx__WEBPACK_IMPORTED_MODULE_0__.makeObservable)(this, {\n      list: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      agents: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      container: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      error: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      filtered_list: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_name_selected: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_search_loading: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_withdraw: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_try_withdraw_successful: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_withdraw_successful: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      confirm: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      receipt: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      selected_bank: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      supported_banks: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      active_tab_index: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      all_payment_agent_list: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      search_term: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      has_payment_agent_search_warning: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      setActiveTabIndex: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setActiveTab: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      is_payment_agent_visible: mobx__WEBPACK_IMPORTED_MODULE_0__.computed,\n      getPaymentAgentList: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      getPaymentAgentDetails: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      addSupportedBank: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      clearSuppertedBanks: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      sortSupportedBanks: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setList: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      clearList: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setPaymentAgentList: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      filterPaymentAgentList: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setSearchTerm: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsSearchLoading: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setPaymentAgentSearchWarning: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onChangePaymentMethod: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsWithdraw: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsTryWithdrawSuccessful: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsWithdrawSuccessful: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setConfirmation: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setReceipt: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      addPaymentAgent: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onMountPaymentAgentWithdraw: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      requestTryPaymentAgentWithdraw: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      resetPaymentAgent: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onMountPaymentAgentList: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setAllPaymentAgentList: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      is_payment_agent_visible_in_onboarding: mobx__WEBPACK_IMPORTED_MODULE_0__.computed,\n      requestPaymentAgentWithdraw: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound\n    });\n    this.root_store = root_store;\n    this.WS = WS;\n  }\n\n  _createClass(PaymentAgentStore, [{\n    key: \"setActiveTabIndex\",\n    value: function setActiveTabIndex(index) {\n      this.active_tab_index = index;\n    }\n  }, {\n    key: \"setActiveTab\",\n    value: function setActiveTab(index) {\n      this.setActiveTabIndex(index);\n    }\n  }, {\n    key: \"is_payment_agent_visible\",\n    get: function get() {\n      return !!(this.filtered_list.length || this.agents.length || this.has_payment_agent_search_warning);\n    }\n  }, {\n    key: \"getPaymentAgentList\",\n    value: function () {\n      var _getPaymentAgentList = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _this$root_store$clie, residence, currency;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.WS.wait('get_settings');\n\n              case 2:\n                _this$root_store$clie = this.root_store.client, residence = _this$root_store$clie.residence, currency = _this$root_store$clie.currency;\n                return _context.abrupt(\"return\", this.WS.authorized.paymentAgentList(residence, currency));\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getPaymentAgentList() {\n        return _getPaymentAgentList.apply(this, arguments);\n      }\n\n      return getPaymentAgentList;\n    }()\n  }, {\n    key: \"getPaymentAgentDetails\",\n    value: function () {\n      var _getPaymentAgentDetails = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        var _yield$this$WS$author, paymentagent_details;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.WS.authorized.paymentAgentDetails();\n\n              case 2:\n                _yield$this$WS$author = _context2.sent;\n                paymentagent_details = _yield$this$WS$author.paymentagent_details;\n                return _context2.abrupt(\"return\", paymentagent_details);\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getPaymentAgentDetails() {\n        return _getPaymentAgentDetails.apply(this, arguments);\n      }\n\n      return getPaymentAgentDetails;\n    }()\n  }, {\n    key: \"addSupportedBank\",\n    value: function addSupportedBank(bank) {\n      var supported_bank_exists = this.supported_banks.find(function (supported_bank) {\n        return supported_bank.value === bank.toLowerCase();\n      });\n\n      if (!supported_bank_exists) {\n        this.supported_banks.push({\n          text: bank,\n          value: bank.toLowerCase()\n        });\n      }\n    }\n  }, {\n    key: \"clearSuppertedBanks\",\n    value: function clearSuppertedBanks() {\n      this.supported_banks = [];\n    }\n  }, {\n    key: \"sortSupportedBanks\",\n    value: function sortSupportedBanks() {\n      // sort supported banks alphabetically by value, the option 'All payment agents' with value 0 should be on top\n      this.supported_banks.replace(this.supported_banks.slice().sort(function (a, b) {\n        if (a.value < b.value) {\n          return -1;\n        }\n\n        if (a.value > b.value) {\n          return 1;\n        }\n\n        return 0;\n      }));\n    }\n  }, {\n    key: \"setList\",\n    value: function setList(pa_list) {\n      this.list.push(pa_list);\n    }\n  }, {\n    key: \"clearList\",\n    value: function clearList() {\n      this.list = [];\n    }\n  }, {\n    key: \"setPaymentAgentList\",\n    value: function () {\n      var _setPaymentAgentList = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(pa_list) {\n        var _this2 = this;\n\n        var setLoading, payment_agent_list, _payment_agent_list$p;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                setLoading = this.root_store.modules.cashier.general_store.setLoading;\n                _context3.t0 = pa_list;\n\n                if (_context3.t0) {\n                  _context3.next = 6;\n                  break;\n                }\n\n                _context3.next = 5;\n                return this.getPaymentAgentList();\n\n              case 5:\n                _context3.t0 = _context3.sent;\n\n              case 6:\n                payment_agent_list = _context3.t0;\n                this.clearList();\n                this.clearSuppertedBanks(); // TODO: Once telephone, url and supported_banks removed from paymentagent_list.list we can remove them and just use the plural ones\n\n                try {\n                  (_payment_agent_list$p = payment_agent_list.paymentagent_list) === null || _payment_agent_list$p === void 0 ? void 0 : _payment_agent_list$p.list.forEach(function (payment_agent) {\n                    _this2.setList({\n                      currency: payment_agent.currencies,\n                      deposit_commission: payment_agent.deposit_commission,\n                      email: payment_agent.email,\n                      further_information: payment_agent.further_information,\n                      max_withdrawal: payment_agent.max_withdrawal,\n                      min_withdrawal: payment_agent.min_withdrawal,\n                      name: payment_agent.name,\n                      paymentagent_loginid: payment_agent.paymentagent_loginid,\n                      phones: (payment_agent === null || payment_agent === void 0 ? void 0 : payment_agent.phone_numbers) || (payment_agent === null || payment_agent === void 0 ? void 0 : payment_agent.telephone),\n                      supported_banks: payment_agent === null || payment_agent === void 0 ? void 0 : payment_agent.supported_payment_methods,\n                      urls: (payment_agent === null || payment_agent === void 0 ? void 0 : payment_agent.urls) || (payment_agent === null || payment_agent === void 0 ? void 0 : payment_agent.url),\n                      withdrawal_commission: payment_agent.withdrawal_commission\n                    });\n\n                    var supported_banks_array = payment_agent === null || payment_agent === void 0 ? void 0 : payment_agent.supported_payment_methods.map(function (bank) {\n                      var payment_method = (0,Utils_utility__WEBPACK_IMPORTED_MODULE_2__.getNormalizedPaymentMethod)(bank.payment_method, Constants_constants__WEBPACK_IMPORTED_MODULE_3__[\"default\"].payment_methods); //remove Skrill and Neteller from payment methods list (dropdown menu) as per mandate from Paysafe\n\n                      return ['Neteller', 'Skrill'].includes(payment_method) ? '' : payment_method;\n                    }).filter(Boolean);\n                    supported_banks_array.forEach(function (bank) {\n                      return _this2.addSupportedBank(bank);\n                    });\n                  });\n                  (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.shuffleArray)(this.list);\n                } catch (e) {\n                  setLoading(false); // eslint-disable-next-line no-console\n\n                  console.error(e);\n                }\n\n                this.sortSupportedBanks();\n\n              case 11:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function setPaymentAgentList(_x) {\n        return _setPaymentAgentList.apply(this, arguments);\n      }\n\n      return setPaymentAgentList;\n    }()\n  }, {\n    key: \"filterPaymentAgentList\",\n    value: function filterPaymentAgentList(bank) {\n      var _this3 = this;\n\n      this.setPaymentAgentSearchWarning(false);\n      var common = this.root_store.common;\n      this.filtered_list = [];\n\n      if (bank || this.selected_bank) {\n        this.list.forEach(function (payment_agent) {\n          var supported_banks = payment_agent === null || payment_agent === void 0 ? void 0 : payment_agent.supported_banks;\n\n          if (supported_banks) {\n            var bank_index = supported_banks.map(function (supported_bank) {\n              return (0,Utils_utility__WEBPACK_IMPORTED_MODULE_2__.getNormalizedPaymentMethod)(supported_bank.payment_method, Constants_constants__WEBPACK_IMPORTED_MODULE_3__[\"default\"].payment_methods).toLowerCase();\n            }).indexOf(bank || _this3.selected_bank);\n            if (bank_index !== -1) _this3.filtered_list.push(payment_agent);\n          }\n        });\n      } else {\n        this.filtered_list = this.list;\n      }\n\n      if (this.search_term) {\n        this.filtered_list = this.filtered_list.filter(function (payment_agent) {\n          return payment_agent.name.toLocaleLowerCase().includes(_this3.search_term.toLocaleLowerCase());\n        });\n\n        if (this.filtered_list.length === 0) {\n          this.setPaymentAgentSearchWarning(true);\n        }\n      }\n\n      this.setIsSearchLoading(false);\n\n      if (!this.is_payment_agent_visible && window.location.pathname.endsWith(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.cashier_pa)) {\n        common.routeTo(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.cashier_deposit);\n      }\n    }\n  }, {\n    key: \"setSearchTerm\",\n    value: function setSearchTerm(search_term) {\n      this.search_term = search_term;\n    }\n  }, {\n    key: \"setIsSearchLoading\",\n    value: function setIsSearchLoading(value) {\n      this.is_search_loading = value;\n    }\n  }, {\n    key: \"setPaymentAgentSearchWarning\",\n    value: function setPaymentAgentSearchWarning(value) {\n      this.has_payment_agent_search_warning = value;\n    }\n  }, {\n    key: \"onChangePaymentMethod\",\n    value: function onChangePaymentMethod(_ref2) {\n      var target = _ref2.target;\n      var value = target.value === '0' ? parseInt(target.value) : target.value;\n      this.selected_bank = value;\n      this.filterPaymentAgentList(value);\n    }\n  }, {\n    key: \"setIsWithdraw\",\n    value: function setIsWithdraw() {\n      var is_withdraw = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !this.is_withdraw;\n      this.is_withdraw = is_withdraw;\n    }\n  }, {\n    key: \"setIsTryWithdrawSuccessful\",\n    value: function setIsTryWithdrawSuccessful(is_try_withdraw_successful) {\n      this.error.setErrorMessage('');\n      this.is_try_withdraw_successful = is_try_withdraw_successful;\n    }\n  }, {\n    key: \"setIsWithdrawSuccessful\",\n    value: function setIsWithdrawSuccessful(is_withdraw_successful) {\n      this.is_withdraw_successful = is_withdraw_successful;\n    }\n  }, {\n    key: \"setConfirmation\",\n    value: function setConfirmation(_ref3) {\n      var amount = _ref3.amount,\n          currency = _ref3.currency,\n          loginid = _ref3.loginid,\n          payment_agent_name = _ref3.payment_agent_name;\n      this.confirm = {\n        amount: amount,\n        currency: currency,\n        loginid: loginid,\n        payment_agent_name: payment_agent_name\n      };\n    }\n  }, {\n    key: \"setReceipt\",\n    value: function setReceipt(_ref4) {\n      var amount_transferred = _ref4.amount_transferred,\n          payment_agent_email = _ref4.payment_agent_email,\n          payment_agent_id = _ref4.payment_agent_id,\n          payment_agent_name = _ref4.payment_agent_name,\n          payment_agent_phone = _ref4.payment_agent_phone,\n          payment_agent_url = _ref4.payment_agent_url;\n      this.receipt = {\n        amount_transferred: amount_transferred,\n        payment_agent_email: payment_agent_email,\n        payment_agent_id: payment_agent_id,\n        payment_agent_name: payment_agent_name,\n        payment_agent_phone: payment_agent_phone,\n        payment_agent_url: payment_agent_url\n      };\n    }\n  }, {\n    key: \"addPaymentAgent\",\n    value: function addPaymentAgent(payment_agent) {\n      this.agents.push({\n        text: payment_agent.name,\n        value: payment_agent.paymentagent_loginid,\n        max_withdrawal: payment_agent.max_withdrawal,\n        min_withdrawal: payment_agent.min_withdrawal,\n        email: payment_agent.email,\n        phone: payment_agent.phone_numbers,\n        url: payment_agent.urls\n      });\n    }\n  }, {\n    key: \"onMountPaymentAgentWithdraw\",\n    value: function () {\n      var _onMountPaymentAgentWithdraw = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n        var _this4 = this;\n\n        var _this$root_store2, common, modules, _modules$cashier$gene, setLoading, onMountCommon, payment_agent_list;\n\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _this$root_store2 = this.root_store, common = _this$root_store2.common, modules = _this$root_store2.modules;\n                _modules$cashier$gene = modules.cashier.general_store, setLoading = _modules$cashier$gene.setLoading, onMountCommon = _modules$cashier$gene.onMountCommon;\n                setLoading(true);\n                this.onRemount = this.onMountPaymentAgentWithdraw;\n                onMountCommon();\n                this.setIsWithdraw(true);\n                this.setIsWithdrawSuccessful(false);\n                this.setReceipt({});\n\n                if (this.agents.length) {\n                  _context4.next = 14;\n                  break;\n                }\n\n                _context4.next = 11;\n                return this.getPaymentAgentList();\n\n              case 11:\n                payment_agent_list = _context4.sent;\n                payment_agent_list.paymentagent_list.list.forEach(function (payment_agent) {\n                  _this4.addPaymentAgent(payment_agent);\n                });\n\n                if (!payment_agent_list.paymentagent_list.list.length && window.location.pathname.endsWith(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.cashier_pa)) {\n                  common.routeTo(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.cashier_deposit);\n                }\n\n              case 14:\n                setLoading(false);\n\n              case 15:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function onMountPaymentAgentWithdraw() {\n        return _onMountPaymentAgentWithdraw.apply(this, arguments);\n      }\n\n      return onMountPaymentAgentWithdraw;\n    }()\n  }, {\n    key: \"requestTryPaymentAgentWithdraw\",\n    value: function () {\n      var _requestTryPaymentAgentWithdraw = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(_ref5) {\n        var loginid, currency, amount, verification_code, payment_agent_withdraw, selected_agent;\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                loginid = _ref5.loginid, currency = _ref5.currency, amount = _ref5.amount, verification_code = _ref5.verification_code;\n                this.error.setErrorMessage('');\n                _context5.next = 4;\n                return this.WS.authorized.paymentAgentWithdraw({\n                  loginid: loginid,\n                  currency: currency,\n                  amount: amount,\n                  verification_code: verification_code,\n                  dry_run: 1\n                });\n\n              case 4:\n                payment_agent_withdraw = _context5.sent;\n\n                if (+payment_agent_withdraw.paymentagent_withdraw === 2) {\n                  selected_agent = this.agents.find(function (agent) {\n                    return agent.value === loginid;\n                  });\n                  this.setConfirmation({\n                    amount: amount,\n                    currency: currency,\n                    loginid: loginid,\n                    payment_agent_name: (selected_agent === null || selected_agent === void 0 ? void 0 : selected_agent.text) || payment_agent_withdraw.paymentagent_name\n                  });\n                  this.setIsTryWithdrawSuccessful(true);\n                } else {\n                  this.error.setErrorMessage(payment_agent_withdraw.error, this.resetPaymentAgent);\n                }\n\n              case 6:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function requestTryPaymentAgentWithdraw(_x2) {\n        return _requestTryPaymentAgentWithdraw.apply(this, arguments);\n      }\n\n      return requestTryPaymentAgentWithdraw;\n    }()\n  }, {\n    key: \"onMountPaymentAgentList\",\n    value: function () {\n      var _onMountPaymentAgentList = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n        var _this$root_store$modu, setLoading, onMountCommon;\n\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _this$root_store$modu = this.root_store.modules.cashier.general_store, setLoading = _this$root_store$modu.setLoading, onMountCommon = _this$root_store$modu.onMountCommon;\n                setLoading(true);\n                this.onRemount = this.onMountPaymentAgentList;\n                _context6.next = 5;\n                return onMountCommon();\n\n              case 5:\n                _context6.next = 7;\n                return this.getPaymentAgentList();\n\n              case 7:\n                setLoading(false);\n\n              case 8:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function onMountPaymentAgentList() {\n        return _onMountPaymentAgentList.apply(this, arguments);\n      }\n\n      return onMountPaymentAgentList;\n    }()\n  }, {\n    key: \"getAllPaymentAgentList\",\n    value: function () {\n      var _getAllPaymentAgentList = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7() {\n        return regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return this.WS.wait('get_settings');\n\n              case 2:\n                return _context7.abrupt(\"return\", this.WS.allPaymentAgentList(this.root_store.client.residence));\n\n              case 3:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function getAllPaymentAgentList() {\n        return _getAllPaymentAgentList.apply(this, arguments);\n      }\n\n      return getAllPaymentAgentList;\n    }()\n  }, {\n    key: \"setAllPaymentAgentList\",\n    value: function setAllPaymentAgentList(list) {\n      this.all_payment_agent_list = list;\n    }\n  }, {\n    key: \"is_payment_agent_visible_in_onboarding\",\n    get: function get() {\n      var _this$all_payment_age, _this$all_payment_age2, _this$all_payment_age3;\n\n      return !!((_this$all_payment_age = this.all_payment_agent_list) !== null && _this$all_payment_age !== void 0 && (_this$all_payment_age2 = _this$all_payment_age.paymentagent_list) !== null && _this$all_payment_age2 !== void 0 && (_this$all_payment_age3 = _this$all_payment_age2.list) !== null && _this$all_payment_age3 !== void 0 && _this$all_payment_age3.length);\n    }\n  }, {\n    key: \"requestPaymentAgentWithdraw\",\n    value: function () {\n      var _requestPaymentAgentWithdraw = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8(_ref6) {\n        var loginid, currency, amount, verification_code, payment_agent_withdraw, selected_agent;\n        return regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                loginid = _ref6.loginid, currency = _ref6.currency, amount = _ref6.amount, verification_code = _ref6.verification_code;\n                this.error.setErrorMessage('');\n                _context8.next = 4;\n                return this.WS.authorized.paymentAgentWithdraw({\n                  loginid: loginid,\n                  currency: currency,\n                  amount: amount,\n                  verification_code: verification_code\n                });\n\n              case 4:\n                payment_agent_withdraw = _context8.sent;\n\n                if (+payment_agent_withdraw.paymentagent_withdraw === 1) {\n                  selected_agent = this.agents.find(function (agent) {\n                    return agent.value === loginid;\n                  });\n                  this.setReceipt(_objectSpread({\n                    amount_transferred: (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.formatMoney)(currency, amount, true)\n                  }, selected_agent && {\n                    payment_agent_email: selected_agent.email,\n                    payment_agent_id: selected_agent.value,\n                    payment_agent_name: selected_agent.text,\n                    payment_agent_phone: selected_agent.phone,\n                    payment_agent_url: selected_agent.url\n                  }));\n                  this.setIsWithdrawSuccessful(true);\n                  this.setIsTryWithdrawSuccessful(false);\n                  this.setConfirmation({});\n                } else {\n                  this.error.setErrorMessage(payment_agent_withdraw.error, this.resetPaymentAgent);\n                }\n\n              case 6:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function requestPaymentAgentWithdraw(_x3) {\n        return _requestPaymentAgentWithdraw.apply(this, arguments);\n      }\n\n      return requestPaymentAgentWithdraw;\n    }()\n  }]);\n\n  return PaymentAgentStore;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zdG9yZXMvcGF5bWVudC1hZ2VudC1zdG9yZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFBQTs7QUFBQTtBQUFBOztBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQXNWQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7QUFDQTs7QUEvVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBL0NBO0FBa0RBO0FBQ0E7QUFDQTs7OztBQXFCQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7O0FBRUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7Ozs7Ozs7OztBQVFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFDQTtBQURBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7Ozs7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQUE7O0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBRUE7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7O0FBRUE7QUFBQTs7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTs7QUFBQTtBQUFBOztBQUFBO0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVpBOztBQWNBO0FBRUE7O0FBS0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBekNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7Ozs7Ozs7O0FBNENBO0FBQUE7O0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUFBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BOzs7QUFFQTtBQU9BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFRQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFTQTs7OztBQUVBO0FBQUE7O0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQVZBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7O0FBQUE7QUFhQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUlBO0FBQ0E7O0FBdEJBO0FBd0JBOztBQXhCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7Ozs7Ozs7Ozs7QUEyQkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7O0FBRkE7QUFFQTs7QUFPQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFDQTtBQUNBOztBQXBCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7Ozs7Ozs7Ozs7QUFvQ0E7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUpBO0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBUUE7O0FBUkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7Ozs7Ozs7O0FBV0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7Ozs7Ozs7OztBQUtBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTs7QUFDQTtBQUNBOzs7O0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUpBOztBQUZBO0FBRUE7O0FBTUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBekJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2Nhc2hpZXIvLi9zdG9yZXMvcGF5bWVudC1hZ2VudC1zdG9yZS5qcz9lNjUwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFjdGlvbiwgY29tcHV0ZWQsIG9ic2VydmFibGUsIG1ha2VPYnNlcnZhYmxlIH0gZnJvbSAnbW9ieCc7XG5pbXBvcnQgeyBmb3JtYXRNb25leSwgcm91dGVzLCBzaHVmZmxlQXJyYXkgfSBmcm9tICdAZGVyaXYvc2hhcmVkJztcbmltcG9ydCB7IGdldE5vcm1hbGl6ZWRQYXltZW50TWV0aG9kIH0gZnJvbSAnVXRpbHMvdXRpbGl0eSc7XG5pbXBvcnQgQ29uc3RhbnRzIGZyb20gJ0NvbnN0YW50cy9jb25zdGFudHMnO1xuaW1wb3J0IEVycm9yU3RvcmUgZnJvbSAnLi9lcnJvci1zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBheW1lbnRBZ2VudFN0b3JlIHtcbiAgICBjb25zdHJ1Y3Rvcih7IFdTLCByb290X3N0b3JlIH0pIHtcbiAgICAgICAgbWFrZU9ic2VydmFibGUodGhpcywge1xuICAgICAgICAgICAgbGlzdDogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGFnZW50czogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGNvbnRhaW5lcjogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGVycm9yOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgZmlsdGVyZWRfbGlzdDogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGlzX25hbWVfc2VsZWN0ZWQ6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBpc19zZWFyY2hfbG9hZGluZzogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGlzX3dpdGhkcmF3OiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgaXNfdHJ5X3dpdGhkcmF3X3N1Y2Nlc3NmdWw6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBpc193aXRoZHJhd19zdWNjZXNzZnVsOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgY29uZmlybTogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIHJlY2VpcHQ6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBzZWxlY3RlZF9iYW5rOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgc3VwcG9ydGVkX2JhbmtzOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgYWN0aXZlX3RhYl9pbmRleDogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGFsbF9wYXltZW50X2FnZW50X2xpc3Q6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBzZWFyY2hfdGVybTogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGhhc19wYXltZW50X2FnZW50X3NlYXJjaF93YXJuaW5nOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgc2V0QWN0aXZlVGFiSW5kZXg6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhYjogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgaXNfcGF5bWVudF9hZ2VudF92aXNpYmxlOiBjb21wdXRlZCxcbiAgICAgICAgICAgIGdldFBheW1lbnRBZ2VudExpc3Q6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIGdldFBheW1lbnRBZ2VudERldGFpbHM6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIGFkZFN1cHBvcnRlZEJhbms6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIGNsZWFyU3VwcGVydGVkQmFua3M6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNvcnRTdXBwb3J0ZWRCYW5rczogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0TGlzdDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgY2xlYXJMaXN0OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRQYXltZW50QWdlbnRMaXN0OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBmaWx0ZXJQYXltZW50QWdlbnRMaXN0OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRTZWFyY2hUZXJtOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRJc1NlYXJjaExvYWRpbmc6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldFBheW1lbnRBZ2VudFNlYXJjaFdhcm5pbmc6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIG9uQ2hhbmdlUGF5bWVudE1ldGhvZDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0SXNXaXRoZHJhdzogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0SXNUcnlXaXRoZHJhd1N1Y2Nlc3NmdWw6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldElzV2l0aGRyYXdTdWNjZXNzZnVsOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRDb25maXJtYXRpb246IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldFJlY2VpcHQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIGFkZFBheW1lbnRBZ2VudDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgb25Nb3VudFBheW1lbnRBZ2VudFdpdGhkcmF3OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICByZXF1ZXN0VHJ5UGF5bWVudEFnZW50V2l0aGRyYXc6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHJlc2V0UGF5bWVudEFnZW50OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBvbk1vdW50UGF5bWVudEFnZW50TGlzdDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0QWxsUGF5bWVudEFnZW50TGlzdDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgaXNfcGF5bWVudF9hZ2VudF92aXNpYmxlX2luX29uYm9hcmRpbmc6IGNvbXB1dGVkLFxuICAgICAgICAgICAgcmVxdWVzdFBheW1lbnRBZ2VudFdpdGhkcmF3OiBhY3Rpb24uYm91bmQsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMucm9vdF9zdG9yZSA9IHJvb3Rfc3RvcmU7XG4gICAgICAgIHRoaXMuV1MgPSBXUztcbiAgICB9XG5cbiAgICBsaXN0ID0gW107XG4gICAgYWdlbnRzID0gW107XG4gICAgY29udGFpbmVyID0gQ29uc3RhbnRzLmNvbnRhaW5lcnMucGF5bWVudF9hZ2VudDtcbiAgICBlcnJvciA9IG5ldyBFcnJvclN0b3JlKCk7XG4gICAgZmlsdGVyZWRfbGlzdCA9IFtdO1xuICAgIGlzX25hbWVfc2VsZWN0ZWQgPSB0cnVlO1xuICAgIGlzX3NlYXJjaF9sb2FkaW5nID0gZmFsc2U7XG4gICAgaXNfd2l0aGRyYXcgPSBmYWxzZTtcbiAgICBpc190cnlfd2l0aGRyYXdfc3VjY2Vzc2Z1bCA9IGZhbHNlO1xuICAgIGlzX3dpdGhkcmF3X3N1Y2Nlc3NmdWwgPSBmYWxzZTtcbiAgICBjb25maXJtID0ge307XG4gICAgcmVjZWlwdCA9IHt9O1xuICAgIHNlbGVjdGVkX2JhbmsgPSAwO1xuICAgIHN1cHBvcnRlZF9iYW5rcyA9IFtdO1xuICAgIGFjdGl2ZV90YWJfaW5kZXggPSAwO1xuICAgIGFsbF9wYXltZW50X2FnZW50X2xpc3QgPSBbXTtcbiAgICBzZWFyY2hfdGVybSA9ICcnO1xuICAgIGhhc19wYXltZW50X2FnZW50X3NlYXJjaF93YXJuaW5nID0gZmFsc2U7XG5cbiAgICBzZXRBY3RpdmVUYWJJbmRleChpbmRleCkge1xuICAgICAgICB0aGlzLmFjdGl2ZV90YWJfaW5kZXggPSBpbmRleDtcbiAgICB9XG5cbiAgICBzZXRBY3RpdmVUYWIoaW5kZXgpIHtcbiAgICAgICAgdGhpcy5zZXRBY3RpdmVUYWJJbmRleChpbmRleCk7XG4gICAgfVxuXG4gICAgZ2V0IGlzX3BheW1lbnRfYWdlbnRfdmlzaWJsZSgpIHtcbiAgICAgICAgcmV0dXJuICEhKHRoaXMuZmlsdGVyZWRfbGlzdC5sZW5ndGggfHwgdGhpcy5hZ2VudHMubGVuZ3RoIHx8IHRoaXMuaGFzX3BheW1lbnRfYWdlbnRfc2VhcmNoX3dhcm5pbmcpO1xuICAgIH1cblxuICAgIGFzeW5jIGdldFBheW1lbnRBZ2VudExpc3QoKSB7XG4gICAgICAgIC8vIHdhaXQgZm9yIGdldF9zZXR0aW5ncyBzbyByZXNpZGVuY2UgZ2V0cyBwb3B1bGF0ZWQgaW4gY2xpZW50LXN0b3JlXG4gICAgICAgIC8vIFRPRE86IHNldCByZXNpZGVuY2UgaW4gY2xpZW50LXN0b3JlIGZyb20gYXV0aG9yaXplIHNvIGl0J3MgZmFzdGVyXG4gICAgICAgIGF3YWl0IHRoaXMuV1Mud2FpdCgnZ2V0X3NldHRpbmdzJyk7XG4gICAgICAgIGNvbnN0IHsgcmVzaWRlbmNlLCBjdXJyZW5jeSB9ID0gdGhpcy5yb290X3N0b3JlLmNsaWVudDtcbiAgICAgICAgcmV0dXJuIHRoaXMuV1MuYXV0aG9yaXplZC5wYXltZW50QWdlbnRMaXN0KHJlc2lkZW5jZSwgY3VycmVuY3kpO1xuICAgIH1cblxuICAgIGFzeW5jIGdldFBheW1lbnRBZ2VudERldGFpbHMoKSB7XG4gICAgICAgIGNvbnN0IHsgcGF5bWVudGFnZW50X2RldGFpbHMgfSA9IGF3YWl0IHRoaXMuV1MuYXV0aG9yaXplZC5wYXltZW50QWdlbnREZXRhaWxzKCk7XG4gICAgICAgIHJldHVybiBwYXltZW50YWdlbnRfZGV0YWlscztcbiAgICB9XG5cbiAgICBhZGRTdXBwb3J0ZWRCYW5rKGJhbmspIHtcbiAgICAgICAgY29uc3Qgc3VwcG9ydGVkX2JhbmtfZXhpc3RzID0gdGhpcy5zdXBwb3J0ZWRfYmFua3MuZmluZChcbiAgICAgICAgICAgIHN1cHBvcnRlZF9iYW5rID0+IHN1cHBvcnRlZF9iYW5rLnZhbHVlID09PSBiYW5rLnRvTG93ZXJDYXNlKClcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCFzdXBwb3J0ZWRfYmFua19leGlzdHMpIHtcbiAgICAgICAgICAgIHRoaXMuc3VwcG9ydGVkX2JhbmtzLnB1c2goeyB0ZXh0OiBiYW5rLCB2YWx1ZTogYmFuay50b0xvd2VyQ2FzZSgpIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xlYXJTdXBwZXJ0ZWRCYW5rcygpIHtcbiAgICAgICAgdGhpcy5zdXBwb3J0ZWRfYmFua3MgPSBbXTtcbiAgICB9XG5cbiAgICBzb3J0U3VwcG9ydGVkQmFua3MoKSB7XG4gICAgICAgIC8vIHNvcnQgc3VwcG9ydGVkIGJhbmtzIGFscGhhYmV0aWNhbGx5IGJ5IHZhbHVlLCB0aGUgb3B0aW9uICdBbGwgcGF5bWVudCBhZ2VudHMnIHdpdGggdmFsdWUgMCBzaG91bGQgYmUgb24gdG9wXG4gICAgICAgIHRoaXMuc3VwcG9ydGVkX2JhbmtzLnJlcGxhY2UoXG4gICAgICAgICAgICB0aGlzLnN1cHBvcnRlZF9iYW5rcy5zbGljZSgpLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYS52YWx1ZSA8IGIudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYS52YWx1ZSA+IGIudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBzZXRMaXN0KHBhX2xpc3QpIHtcbiAgICAgICAgdGhpcy5saXN0LnB1c2gocGFfbGlzdCk7XG4gICAgfVxuXG4gICAgY2xlYXJMaXN0KCkge1xuICAgICAgICB0aGlzLmxpc3QgPSBbXTtcbiAgICB9XG5cbiAgICBhc3luYyBzZXRQYXltZW50QWdlbnRMaXN0KHBhX2xpc3QpIHtcbiAgICAgICAgY29uc3QgeyBzZXRMb2FkaW5nIH0gPSB0aGlzLnJvb3Rfc3RvcmUubW9kdWxlcy5jYXNoaWVyLmdlbmVyYWxfc3RvcmU7XG4gICAgICAgIGNvbnN0IHBheW1lbnRfYWdlbnRfbGlzdCA9IHBhX2xpc3QgfHwgKGF3YWl0IHRoaXMuZ2V0UGF5bWVudEFnZW50TGlzdCgpKTtcbiAgICAgICAgdGhpcy5jbGVhckxpc3QoKTtcbiAgICAgICAgdGhpcy5jbGVhclN1cHBlcnRlZEJhbmtzKCk7XG4gICAgICAgIC8vIFRPRE86IE9uY2UgdGVsZXBob25lLCB1cmwgYW5kIHN1cHBvcnRlZF9iYW5rcyByZW1vdmVkIGZyb20gcGF5bWVudGFnZW50X2xpc3QubGlzdCB3ZSBjYW4gcmVtb3ZlIHRoZW0gYW5kIGp1c3QgdXNlIHRoZSBwbHVyYWwgb25lc1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcGF5bWVudF9hZ2VudF9saXN0LnBheW1lbnRhZ2VudF9saXN0Py5saXN0LmZvckVhY2gocGF5bWVudF9hZ2VudCA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRMaXN0KHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6IHBheW1lbnRfYWdlbnQuY3VycmVuY2llcyxcbiAgICAgICAgICAgICAgICAgICAgZGVwb3NpdF9jb21taXNzaW9uOiBwYXltZW50X2FnZW50LmRlcG9zaXRfY29tbWlzc2lvbixcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6IHBheW1lbnRfYWdlbnQuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgIGZ1cnRoZXJfaW5mb3JtYXRpb246IHBheW1lbnRfYWdlbnQuZnVydGhlcl9pbmZvcm1hdGlvbixcbiAgICAgICAgICAgICAgICAgICAgbWF4X3dpdGhkcmF3YWw6IHBheW1lbnRfYWdlbnQubWF4X3dpdGhkcmF3YWwsXG4gICAgICAgICAgICAgICAgICAgIG1pbl93aXRoZHJhd2FsOiBwYXltZW50X2FnZW50Lm1pbl93aXRoZHJhd2FsLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBwYXltZW50X2FnZW50Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHBheW1lbnRhZ2VudF9sb2dpbmlkOiBwYXltZW50X2FnZW50LnBheW1lbnRhZ2VudF9sb2dpbmlkLFxuICAgICAgICAgICAgICAgICAgICBwaG9uZXM6IHBheW1lbnRfYWdlbnQ/LnBob25lX251bWJlcnMgfHwgcGF5bWVudF9hZ2VudD8udGVsZXBob25lLFxuICAgICAgICAgICAgICAgICAgICBzdXBwb3J0ZWRfYmFua3M6IHBheW1lbnRfYWdlbnQ/LnN1cHBvcnRlZF9wYXltZW50X21ldGhvZHMsXG4gICAgICAgICAgICAgICAgICAgIHVybHM6IHBheW1lbnRfYWdlbnQ/LnVybHMgfHwgcGF5bWVudF9hZ2VudD8udXJsLFxuICAgICAgICAgICAgICAgICAgICB3aXRoZHJhd2FsX2NvbW1pc3Npb246IHBheW1lbnRfYWdlbnQud2l0aGRyYXdhbF9jb21taXNzaW9uLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN1cHBvcnRlZF9iYW5rc19hcnJheSA9IHBheW1lbnRfYWdlbnQ/LnN1cHBvcnRlZF9wYXltZW50X21ldGhvZHNcbiAgICAgICAgICAgICAgICAgICAgLm1hcChiYW5rID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBheW1lbnRfbWV0aG9kID0gZ2V0Tm9ybWFsaXplZFBheW1lbnRNZXRob2QoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFuay5wYXltZW50X21ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb25zdGFudHMucGF5bWVudF9tZXRob2RzXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9yZW1vdmUgU2tyaWxsIGFuZCBOZXRlbGxlciBmcm9tIHBheW1lbnQgbWV0aG9kcyBsaXN0IChkcm9wZG93biBtZW51KSBhcyBwZXIgbWFuZGF0ZSBmcm9tIFBheXNhZmVcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbJ05ldGVsbGVyJywgJ1NrcmlsbCddLmluY2x1ZGVzKHBheW1lbnRfbWV0aG9kKSA/ICcnIDogcGF5bWVudF9tZXRob2Q7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoQm9vbGVhbik7XG4gICAgICAgICAgICAgICAgc3VwcG9ydGVkX2JhbmtzX2FycmF5LmZvckVhY2goYmFuayA9PiB0aGlzLmFkZFN1cHBvcnRlZEJhbmsoYmFuaykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzaHVmZmxlQXJyYXkodGhpcy5saXN0KTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc29ydFN1cHBvcnRlZEJhbmtzKCk7XG4gICAgfVxuXG4gICAgZmlsdGVyUGF5bWVudEFnZW50TGlzdChiYW5rKSB7XG4gICAgICAgIHRoaXMuc2V0UGF5bWVudEFnZW50U2VhcmNoV2FybmluZyhmYWxzZSk7XG4gICAgICAgIGNvbnN0IHsgY29tbW9uIH0gPSB0aGlzLnJvb3Rfc3RvcmU7XG5cbiAgICAgICAgdGhpcy5maWx0ZXJlZF9saXN0ID0gW107XG5cbiAgICAgICAgaWYgKGJhbmsgfHwgdGhpcy5zZWxlY3RlZF9iYW5rKSB7XG4gICAgICAgICAgICB0aGlzLmxpc3QuZm9yRWFjaChwYXltZW50X2FnZW50ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdXBwb3J0ZWRfYmFua3MgPSBwYXltZW50X2FnZW50Py5zdXBwb3J0ZWRfYmFua3M7XG4gICAgICAgICAgICAgICAgaWYgKHN1cHBvcnRlZF9iYW5rcykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBiYW5rX2luZGV4ID0gc3VwcG9ydGVkX2JhbmtzXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKHN1cHBvcnRlZF9iYW5rID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0Tm9ybWFsaXplZFBheW1lbnRNZXRob2QoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1cHBvcnRlZF9iYW5rLnBheW1lbnRfbWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb25zdGFudHMucGF5bWVudF9tZXRob2RzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihiYW5rIHx8IHRoaXMuc2VsZWN0ZWRfYmFuayk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGJhbmtfaW5kZXggIT09IC0xKSB0aGlzLmZpbHRlcmVkX2xpc3QucHVzaChwYXltZW50X2FnZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyZWRfbGlzdCA9IHRoaXMubGlzdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zZWFyY2hfdGVybSkge1xuICAgICAgICAgICAgdGhpcy5maWx0ZXJlZF9saXN0ID0gdGhpcy5maWx0ZXJlZF9saXN0LmZpbHRlcihwYXltZW50X2FnZW50ID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGF5bWVudF9hZ2VudC5uYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCkuaW5jbHVkZXModGhpcy5zZWFyY2hfdGVybS50b0xvY2FsZUxvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5maWx0ZXJlZF9saXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0UGF5bWVudEFnZW50U2VhcmNoV2FybmluZyh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0SXNTZWFyY2hMb2FkaW5nKGZhbHNlKTtcblxuICAgICAgICBpZiAoIXRoaXMuaXNfcGF5bWVudF9hZ2VudF92aXNpYmxlICYmIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5lbmRzV2l0aChyb3V0ZXMuY2FzaGllcl9wYSkpIHtcbiAgICAgICAgICAgIGNvbW1vbi5yb3V0ZVRvKHJvdXRlcy5jYXNoaWVyX2RlcG9zaXQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0U2VhcmNoVGVybShzZWFyY2hfdGVybSkge1xuICAgICAgICB0aGlzLnNlYXJjaF90ZXJtID0gc2VhcmNoX3Rlcm07XG4gICAgfVxuXG4gICAgc2V0SXNTZWFyY2hMb2FkaW5nKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuaXNfc2VhcmNoX2xvYWRpbmcgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBzZXRQYXltZW50QWdlbnRTZWFyY2hXYXJuaW5nKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuaGFzX3BheW1lbnRfYWdlbnRfc2VhcmNoX3dhcm5pbmcgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBvbkNoYW5nZVBheW1lbnRNZXRob2QoeyB0YXJnZXQgfSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHRhcmdldC52YWx1ZSA9PT0gJzAnID8gcGFyc2VJbnQodGFyZ2V0LnZhbHVlKSA6IHRhcmdldC52YWx1ZTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZF9iYW5rID0gdmFsdWU7XG4gICAgICAgIHRoaXMuZmlsdGVyUGF5bWVudEFnZW50TGlzdCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgc2V0SXNXaXRoZHJhdyhpc193aXRoZHJhdyA9ICF0aGlzLmlzX3dpdGhkcmF3KSB7XG4gICAgICAgIHRoaXMuaXNfd2l0aGRyYXcgPSBpc193aXRoZHJhdztcbiAgICB9XG5cbiAgICBzZXRJc1RyeVdpdGhkcmF3U3VjY2Vzc2Z1bChpc190cnlfd2l0aGRyYXdfc3VjY2Vzc2Z1bCkge1xuICAgICAgICB0aGlzLmVycm9yLnNldEVycm9yTWVzc2FnZSgnJyk7XG4gICAgICAgIHRoaXMuaXNfdHJ5X3dpdGhkcmF3X3N1Y2Nlc3NmdWwgPSBpc190cnlfd2l0aGRyYXdfc3VjY2Vzc2Z1bDtcbiAgICB9XG5cbiAgICBzZXRJc1dpdGhkcmF3U3VjY2Vzc2Z1bChpc193aXRoZHJhd19zdWNjZXNzZnVsKSB7XG4gICAgICAgIHRoaXMuaXNfd2l0aGRyYXdfc3VjY2Vzc2Z1bCA9IGlzX3dpdGhkcmF3X3N1Y2Nlc3NmdWw7XG4gICAgfVxuXG4gICAgc2V0Q29uZmlybWF0aW9uKHsgYW1vdW50LCBjdXJyZW5jeSwgbG9naW5pZCwgcGF5bWVudF9hZ2VudF9uYW1lIH0pIHtcbiAgICAgICAgdGhpcy5jb25maXJtID0ge1xuICAgICAgICAgICAgYW1vdW50LFxuICAgICAgICAgICAgY3VycmVuY3ksXG4gICAgICAgICAgICBsb2dpbmlkLFxuICAgICAgICAgICAgcGF5bWVudF9hZ2VudF9uYW1lLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHNldFJlY2VpcHQoe1xuICAgICAgICBhbW91bnRfdHJhbnNmZXJyZWQsXG4gICAgICAgIHBheW1lbnRfYWdlbnRfZW1haWwsXG4gICAgICAgIHBheW1lbnRfYWdlbnRfaWQsXG4gICAgICAgIHBheW1lbnRfYWdlbnRfbmFtZSxcbiAgICAgICAgcGF5bWVudF9hZ2VudF9waG9uZSxcbiAgICAgICAgcGF5bWVudF9hZ2VudF91cmwsXG4gICAgfSkge1xuICAgICAgICB0aGlzLnJlY2VpcHQgPSB7XG4gICAgICAgICAgICBhbW91bnRfdHJhbnNmZXJyZWQsXG4gICAgICAgICAgICBwYXltZW50X2FnZW50X2VtYWlsLFxuICAgICAgICAgICAgcGF5bWVudF9hZ2VudF9pZCxcbiAgICAgICAgICAgIHBheW1lbnRfYWdlbnRfbmFtZSxcbiAgICAgICAgICAgIHBheW1lbnRfYWdlbnRfcGhvbmUsXG4gICAgICAgICAgICBwYXltZW50X2FnZW50X3VybCxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhZGRQYXltZW50QWdlbnQocGF5bWVudF9hZ2VudCkge1xuICAgICAgICB0aGlzLmFnZW50cy5wdXNoKHtcbiAgICAgICAgICAgIHRleHQ6IHBheW1lbnRfYWdlbnQubmFtZSxcbiAgICAgICAgICAgIHZhbHVlOiBwYXltZW50X2FnZW50LnBheW1lbnRhZ2VudF9sb2dpbmlkLFxuICAgICAgICAgICAgbWF4X3dpdGhkcmF3YWw6IHBheW1lbnRfYWdlbnQubWF4X3dpdGhkcmF3YWwsXG4gICAgICAgICAgICBtaW5fd2l0aGRyYXdhbDogcGF5bWVudF9hZ2VudC5taW5fd2l0aGRyYXdhbCxcbiAgICAgICAgICAgIGVtYWlsOiBwYXltZW50X2FnZW50LmVtYWlsLFxuICAgICAgICAgICAgcGhvbmU6IHBheW1lbnRfYWdlbnQucGhvbmVfbnVtYmVycyxcbiAgICAgICAgICAgIHVybDogcGF5bWVudF9hZ2VudC51cmxzLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhc3luYyBvbk1vdW50UGF5bWVudEFnZW50V2l0aGRyYXcoKSB7XG4gICAgICAgIGNvbnN0IHsgY29tbW9uLCBtb2R1bGVzIH0gPSB0aGlzLnJvb3Rfc3RvcmU7XG4gICAgICAgIGNvbnN0IHsgc2V0TG9hZGluZywgb25Nb3VudENvbW1vbiB9ID0gbW9kdWxlcy5jYXNoaWVyLmdlbmVyYWxfc3RvcmU7XG5cbiAgICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgICAgdGhpcy5vblJlbW91bnQgPSB0aGlzLm9uTW91bnRQYXltZW50QWdlbnRXaXRoZHJhdztcbiAgICAgICAgb25Nb3VudENvbW1vbigpO1xuXG4gICAgICAgIHRoaXMuc2V0SXNXaXRoZHJhdyh0cnVlKTtcbiAgICAgICAgdGhpcy5zZXRJc1dpdGhkcmF3U3VjY2Vzc2Z1bChmYWxzZSk7XG4gICAgICAgIHRoaXMuc2V0UmVjZWlwdCh7fSk7XG5cbiAgICAgICAgaWYgKCF0aGlzLmFnZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHBheW1lbnRfYWdlbnRfbGlzdCA9IGF3YWl0IHRoaXMuZ2V0UGF5bWVudEFnZW50TGlzdCgpO1xuICAgICAgICAgICAgcGF5bWVudF9hZ2VudF9saXN0LnBheW1lbnRhZ2VudF9saXN0Lmxpc3QuZm9yRWFjaChwYXltZW50X2FnZW50ID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFBheW1lbnRBZ2VudChwYXltZW50X2FnZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICFwYXltZW50X2FnZW50X2xpc3QucGF5bWVudGFnZW50X2xpc3QubGlzdC5sZW5ndGggJiZcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuZW5kc1dpdGgocm91dGVzLmNhc2hpZXJfcGEpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBjb21tb24ucm91dGVUbyhyb3V0ZXMuY2FzaGllcl9kZXBvc2l0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG5cbiAgICBhc3luYyByZXF1ZXN0VHJ5UGF5bWVudEFnZW50V2l0aGRyYXcoeyBsb2dpbmlkLCBjdXJyZW5jeSwgYW1vdW50LCB2ZXJpZmljYXRpb25fY29kZSB9KSB7XG4gICAgICAgIHRoaXMuZXJyb3Iuc2V0RXJyb3JNZXNzYWdlKCcnKTtcbiAgICAgICAgY29uc3QgcGF5bWVudF9hZ2VudF93aXRoZHJhdyA9IGF3YWl0IHRoaXMuV1MuYXV0aG9yaXplZC5wYXltZW50QWdlbnRXaXRoZHJhdyh7XG4gICAgICAgICAgICBsb2dpbmlkLFxuICAgICAgICAgICAgY3VycmVuY3ksXG4gICAgICAgICAgICBhbW91bnQsXG4gICAgICAgICAgICB2ZXJpZmljYXRpb25fY29kZSxcbiAgICAgICAgICAgIGRyeV9ydW46IDEsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoK3BheW1lbnRfYWdlbnRfd2l0aGRyYXcucGF5bWVudGFnZW50X3dpdGhkcmF3ID09PSAyKSB7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZF9hZ2VudCA9IHRoaXMuYWdlbnRzLmZpbmQoYWdlbnQgPT4gYWdlbnQudmFsdWUgPT09IGxvZ2luaWQpO1xuICAgICAgICAgICAgdGhpcy5zZXRDb25maXJtYXRpb24oe1xuICAgICAgICAgICAgICAgIGFtb3VudCxcbiAgICAgICAgICAgICAgICBjdXJyZW5jeSxcbiAgICAgICAgICAgICAgICBsb2dpbmlkLFxuICAgICAgICAgICAgICAgIHBheW1lbnRfYWdlbnRfbmFtZTogc2VsZWN0ZWRfYWdlbnQ/LnRleHQgfHwgcGF5bWVudF9hZ2VudF93aXRoZHJhdy5wYXltZW50YWdlbnRfbmFtZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5zZXRJc1RyeVdpdGhkcmF3U3VjY2Vzc2Z1bCh0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZXJyb3Iuc2V0RXJyb3JNZXNzYWdlKHBheW1lbnRfYWdlbnRfd2l0aGRyYXcuZXJyb3IsIHRoaXMucmVzZXRQYXltZW50QWdlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVzZXRQYXltZW50QWdlbnQgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgY2xpZW50LCBtb2R1bGVzIH0gPSB0aGlzLnJvb3Rfc3RvcmU7XG4gICAgICAgIGNvbnN0IHsgYWN0aXZlX2NvbnRhaW5lciB9ID0gbW9kdWxlcy5jYXNoaWVyLmdlbmVyYWxfc3RvcmU7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IENvbnN0YW50cy5tYXBfYWN0aW9uW2FjdGl2ZV9jb250YWluZXJdO1xuXG4gICAgICAgIGNsaWVudC5zZXRWZXJpZmljYXRpb25Db2RlKCcnLCBjb250YWluZXIpO1xuICAgICAgICB0aGlzLmVycm9yLnNldEVycm9yTWVzc2FnZSgnJyk7XG4gICAgICAgIHRoaXMuc2V0SXNXaXRoZHJhdyhmYWxzZSk7XG4gICAgICAgIHRoaXMuc2V0SXNXaXRoZHJhd1N1Y2Nlc3NmdWwoZmFsc2UpO1xuICAgICAgICB0aGlzLnNldElzVHJ5V2l0aGRyYXdTdWNjZXNzZnVsKGZhbHNlKTtcbiAgICAgICAgdGhpcy5zZXRBY3RpdmVUYWJJbmRleCgwKTtcbiAgICB9O1xuXG4gICAgYXN5bmMgb25Nb3VudFBheW1lbnRBZ2VudExpc3QoKSB7XG4gICAgICAgIGNvbnN0IHsgc2V0TG9hZGluZywgb25Nb3VudENvbW1vbiB9ID0gdGhpcy5yb290X3N0b3JlLm1vZHVsZXMuY2FzaGllci5nZW5lcmFsX3N0b3JlO1xuXG4gICAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICAgIHRoaXMub25SZW1vdW50ID0gdGhpcy5vbk1vdW50UGF5bWVudEFnZW50TGlzdDtcbiAgICAgICAgYXdhaXQgb25Nb3VudENvbW1vbigpO1xuICAgICAgICBhd2FpdCB0aGlzLmdldFBheW1lbnRBZ2VudExpc3QoKTtcblxuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG5cbiAgICBhc3luYyBnZXRBbGxQYXltZW50QWdlbnRMaXN0KCkge1xuICAgICAgICBhd2FpdCB0aGlzLldTLndhaXQoJ2dldF9zZXR0aW5ncycpO1xuICAgICAgICByZXR1cm4gdGhpcy5XUy5hbGxQYXltZW50QWdlbnRMaXN0KHRoaXMucm9vdF9zdG9yZS5jbGllbnQucmVzaWRlbmNlKTtcbiAgICB9XG5cbiAgICBzZXRBbGxQYXltZW50QWdlbnRMaXN0KGxpc3QpIHtcbiAgICAgICAgdGhpcy5hbGxfcGF5bWVudF9hZ2VudF9saXN0ID0gbGlzdDtcbiAgICB9XG5cbiAgICBnZXQgaXNfcGF5bWVudF9hZ2VudF92aXNpYmxlX2luX29uYm9hcmRpbmcoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuYWxsX3BheW1lbnRfYWdlbnRfbGlzdD8ucGF5bWVudGFnZW50X2xpc3Q/Lmxpc3Q/Lmxlbmd0aDtcbiAgICB9XG5cbiAgICBhc3luYyByZXF1ZXN0UGF5bWVudEFnZW50V2l0aGRyYXcoeyBsb2dpbmlkLCBjdXJyZW5jeSwgYW1vdW50LCB2ZXJpZmljYXRpb25fY29kZSB9KSB7XG4gICAgICAgIHRoaXMuZXJyb3Iuc2V0RXJyb3JNZXNzYWdlKCcnKTtcbiAgICAgICAgY29uc3QgcGF5bWVudF9hZ2VudF93aXRoZHJhdyA9IGF3YWl0IHRoaXMuV1MuYXV0aG9yaXplZC5wYXltZW50QWdlbnRXaXRoZHJhdyh7XG4gICAgICAgICAgICBsb2dpbmlkLFxuICAgICAgICAgICAgY3VycmVuY3ksXG4gICAgICAgICAgICBhbW91bnQsXG4gICAgICAgICAgICB2ZXJpZmljYXRpb25fY29kZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICgrcGF5bWVudF9hZ2VudF93aXRoZHJhdy5wYXltZW50YWdlbnRfd2l0aGRyYXcgPT09IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkX2FnZW50ID0gdGhpcy5hZ2VudHMuZmluZChhZ2VudCA9PiBhZ2VudC52YWx1ZSA9PT0gbG9naW5pZCk7XG4gICAgICAgICAgICB0aGlzLnNldFJlY2VpcHQoe1xuICAgICAgICAgICAgICAgIGFtb3VudF90cmFuc2ZlcnJlZDogZm9ybWF0TW9uZXkoY3VycmVuY3ksIGFtb3VudCwgdHJ1ZSksXG4gICAgICAgICAgICAgICAgLi4uKHNlbGVjdGVkX2FnZW50ICYmIHtcbiAgICAgICAgICAgICAgICAgICAgcGF5bWVudF9hZ2VudF9lbWFpbDogc2VsZWN0ZWRfYWdlbnQuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgIHBheW1lbnRfYWdlbnRfaWQ6IHNlbGVjdGVkX2FnZW50LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBwYXltZW50X2FnZW50X25hbWU6IHNlbGVjdGVkX2FnZW50LnRleHQsXG4gICAgICAgICAgICAgICAgICAgIHBheW1lbnRfYWdlbnRfcGhvbmU6IHNlbGVjdGVkX2FnZW50LnBob25lLFxuICAgICAgICAgICAgICAgICAgICBwYXltZW50X2FnZW50X3VybDogc2VsZWN0ZWRfYWdlbnQudXJsLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnNldElzV2l0aGRyYXdTdWNjZXNzZnVsKHRydWUpO1xuICAgICAgICAgICAgdGhpcy5zZXRJc1RyeVdpdGhkcmF3U3VjY2Vzc2Z1bChmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLnNldENvbmZpcm1hdGlvbih7fSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmVycm9yLnNldEVycm9yTWVzc2FnZShwYXltZW50X2FnZW50X3dpdGhkcmF3LmVycm9yLCB0aGlzLnJlc2V0UGF5bWVudEFnZW50KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./stores/payment-agent-store.js\n");

/***/ }),

/***/ "./stores/payment-agent-transfer-store.js":
/*!************************************************!*\
  !*** ./stores/payment-agent-transfer-store.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PaymentAgentTransferStore)\n/* harmony export */ });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/shared */ \"@deriv/shared\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var Constants_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! Constants/constants */ \"./constants/constants.js\");\n/* harmony import */ var _error_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./error-store */ \"./stores/error-store.ts\");\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n\n\n\n\n\nvar PaymentAgentTransferStore = /*#__PURE__*/function () {\n  function PaymentAgentTransferStore(_ref) {\n    var _this = this;\n\n    var WS = _ref.WS,\n        root_store = _ref.root_store;\n\n    _classCallCheck(this, PaymentAgentTransferStore);\n\n    this.container = Constants_constants__WEBPACK_IMPORTED_MODULE_2__[\"default\"].containers.payment_agent_transfer;\n    this.error = new _error_store__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n    this.is_payment_agent = false;\n    this.is_try_transfer_successful = false;\n    this.is_transfer_successful = false;\n    this.confirm = {};\n    this.receipt = {};\n    this.transfer_limit = {};\n\n    this.requestTryPaymentAgentTransfer = /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref2) {\n        var amount, currency, description, transfer_to, payment_agent_transfer;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                amount = _ref2.amount, currency = _ref2.currency, description = _ref2.description, transfer_to = _ref2.transfer_to;\n\n                _this.error.setErrorMessage('');\n\n                _context.next = 4;\n                return _this.WS.authorized.paymentAgentTransfer({\n                  amount: amount,\n                  currency: currency,\n                  description: description,\n                  transfer_to: transfer_to,\n                  dry_run: 1\n                });\n\n              case 4:\n                payment_agent_transfer = _context.sent;\n\n                if (+payment_agent_transfer.paymentagent_transfer === 2) {\n                  // show confirmation screen\n                  _this.setConfirmationPaymentAgentTransfer({\n                    client_id: transfer_to,\n                    client_name: payment_agent_transfer.client_to_full_name,\n                    amount: amount,\n                    description: description\n                  });\n\n                  _this.setIsTryTransferSuccessful(true);\n                } else {\n                  _this.error.setErrorMessage(payment_agent_transfer.error, _this.resetPaymentAgentTransfer);\n                }\n\n                return _context.abrupt(\"return\", payment_agent_transfer);\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n\n    this.requestPaymentAgentTransfer = /*#__PURE__*/function () {\n      var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(_ref4) {\n        var amount, currency, description, transfer_to, payment_agent_transfer;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                amount = _ref4.amount, currency = _ref4.currency, description = _ref4.description, transfer_to = _ref4.transfer_to;\n\n                _this.error.setErrorMessage('');\n\n                _context2.next = 4;\n                return _this.WS.authorized.paymentAgentTransfer({\n                  amount: amount,\n                  currency: currency,\n                  description: description,\n                  transfer_to: transfer_to\n                });\n\n              case 4:\n                payment_agent_transfer = _context2.sent;\n\n                if (+payment_agent_transfer.paymentagent_transfer === 1) {\n                  _this.setReceiptPaymentAgentTransfer({\n                    amount_transferred: amount,\n                    client_id: transfer_to,\n                    client_name: payment_agent_transfer.client_to_full_name\n                  });\n\n                  _this.setIsTransferSuccessful(true);\n\n                  _this.setIsTryTransferSuccessful(false);\n\n                  _this.setConfirmationPaymentAgentTransfer({});\n                } else {\n                  _this.error.setErrorMessage(payment_agent_transfer.error, _this.resetPaymentAgentTransfer);\n                }\n\n                return _context2.abrupt(\"return\", payment_agent_transfer);\n\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x2) {\n        return _ref5.apply(this, arguments);\n      };\n    }();\n\n    this.resetPaymentAgentTransfer = function () {\n      _this.setIsTransferSuccessful(false);\n\n      _this.error.setErrorMessage('');\n    };\n\n    (0,mobx__WEBPACK_IMPORTED_MODULE_0__.makeObservable)(this, {\n      container: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      error: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_payment_agent: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_try_transfer_successful: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_transfer_successful: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      confirm: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      receipt: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      transfer_limit: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_payment_agent_transfer_visible: mobx__WEBPACK_IMPORTED_MODULE_0__.computed,\n      setIsPaymentAgent: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsTryTransferSuccessful: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsTransferSuccessful: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setConfirmationPaymentAgentTransfer: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setReceiptPaymentAgentTransfer: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setMinMaxPaymentAgentTransfer: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onMountPaymentAgentTransfer: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      requestTryPaymentAgentTransfer: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      requestPaymentAgentTransfer: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      resetPaymentAgentTransfer: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound\n    });\n    this.root_store = root_store;\n    this.WS = WS;\n  }\n\n  _createClass(PaymentAgentTransferStore, [{\n    key: \"is_payment_agent_transfer_visible\",\n    get: function get() {\n      return this.is_payment_agent;\n    }\n  }, {\n    key: \"checkIsPaymentAgent\",\n    value: function () {\n      var _checkIsPaymentAgent = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n        var _get_settings$is_auth;\n\n        var get_settings;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.WS.authorized.storage.getSettings();\n\n              case 2:\n                get_settings = _context3.sent.get_settings;\n                this.setIsPaymentAgent((_get_settings$is_auth = get_settings === null || get_settings === void 0 ? void 0 : get_settings.is_authenticated_payment_agent) !== null && _get_settings$is_auth !== void 0 ? _get_settings$is_auth : false);\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function checkIsPaymentAgent() {\n        return _checkIsPaymentAgent.apply(this, arguments);\n      }\n\n      return checkIsPaymentAgent;\n    }()\n  }, {\n    key: \"setIsPaymentAgent\",\n    value: function setIsPaymentAgent(is_payment_agent) {\n      if (!is_payment_agent && window.location.pathname.endsWith(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.cashier_pa_transfer)) {\n        this.root_store.common.routeTo(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.cashier_deposit);\n      }\n\n      this.is_payment_agent = !!is_payment_agent;\n    }\n  }, {\n    key: \"setIsTryTransferSuccessful\",\n    value: function setIsTryTransferSuccessful(is_try_transfer_successful) {\n      this.error.setErrorMessage('');\n      this.is_try_transfer_successful = is_try_transfer_successful;\n    }\n  }, {\n    key: \"setIsTransferSuccessful\",\n    value: function setIsTransferSuccessful(is_transfer_successful) {\n      this.is_transfer_successful = is_transfer_successful;\n    }\n  }, {\n    key: \"setConfirmationPaymentAgentTransfer\",\n    value: function setConfirmationPaymentAgentTransfer(_ref6) {\n      var amount = _ref6.amount,\n          client_id = _ref6.client_id,\n          client_name = _ref6.client_name,\n          description = _ref6.description;\n      this.confirm = {\n        amount: amount,\n        client_id: client_id,\n        client_name: client_name,\n        description: description\n      };\n    }\n  }, {\n    key: \"setReceiptPaymentAgentTransfer\",\n    value: function setReceiptPaymentAgentTransfer(_ref7) {\n      var amount_transferred = _ref7.amount_transferred,\n          client_id = _ref7.client_id,\n          client_name = _ref7.client_name;\n      this.receipt = {\n        amount_transferred: amount_transferred,\n        client_id: client_id,\n        client_name: client_name\n      };\n    }\n  }, {\n    key: \"getCurrentPaymentAgent\",\n    value: function () {\n      var _getCurrentPaymentAgent = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(response_payment_agent) {\n        var _this$root_store, client, modules, payment_agent_listed, current_payment_agent;\n\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _this$root_store = this.root_store, client = _this$root_store.client, modules = _this$root_store.modules;\n                payment_agent_listed = response_payment_agent.paymentagent_list.list.find(function (agent) {\n                  return agent.paymentagent_loginid === client.loginid;\n                });\n                _context4.t0 = payment_agent_listed;\n\n                if (_context4.t0) {\n                  _context4.next = 7;\n                  break;\n                }\n\n                _context4.next = 6;\n                return modules.cashier.payment_agent.getPaymentAgentDetails();\n\n              case 6:\n                _context4.t0 = _context4.sent;\n\n              case 7:\n                current_payment_agent = _context4.t0;\n                return _context4.abrupt(\"return\", current_payment_agent !== null && current_payment_agent !== void 0 ? current_payment_agent : {});\n\n              case 9:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function getCurrentPaymentAgent(_x3) {\n        return _getCurrentPaymentAgent.apply(this, arguments);\n      }\n\n      return getCurrentPaymentAgent;\n    }()\n  }, {\n    key: \"setMinMaxPaymentAgentTransfer\",\n    value: function setMinMaxPaymentAgentTransfer(_ref8) {\n      var min_withdrawal = _ref8.min_withdrawal,\n          max_withdrawal = _ref8.max_withdrawal;\n      this.transfer_limit = {\n        min: min_withdrawal,\n        max: max_withdrawal\n      };\n    }\n  }, {\n    key: \"onMountPaymentAgentTransfer\",\n    value: function () {\n      var _onMountPaymentAgentTransfer = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n        var _this$root_store$modu, general_store, payment_agent, response, current_payment_agent;\n\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _this$root_store$modu = this.root_store.modules.cashier, general_store = _this$root_store$modu.general_store, payment_agent = _this$root_store$modu.payment_agent;\n                general_store.setLoading(true);\n                this.onRemount = this.onMountPaymentAgentTransfer;\n                _context5.next = 5;\n                return general_store.onMountCommon();\n\n              case 5:\n                if (this.transfer_limit.min_withdrawal) {\n                  _context5.next = 13;\n                  break;\n                }\n\n                _context5.next = 8;\n                return payment_agent.getPaymentAgentList();\n\n              case 8:\n                response = _context5.sent;\n                _context5.next = 11;\n                return this.getCurrentPaymentAgent(response);\n\n              case 11:\n                current_payment_agent = _context5.sent;\n                this.setMinMaxPaymentAgentTransfer(current_payment_agent);\n\n              case 13:\n                general_store.setLoading(false);\n\n              case 14:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function onMountPaymentAgentTransfer() {\n        return _onMountPaymentAgentTransfer.apply(this, arguments);\n      }\n\n      return onMountPaymentAgentTransfer;\n    }()\n  }]);\n\n  return PaymentAgentTransferStore;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zdG9yZXMvcGF5bWVudC1hZ2VudC10cmFuc2Zlci1zdG9yZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFBQTs7QUFBQTtBQUFBOztBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQTZHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQ0E7O0FBREE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTs7QUFGQTtBQUVBOztBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7O0FBcEJBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQTdHQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBc0lBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFDQTs7QUFEQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTs7QUFGQTtBQUVBOztBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTs7QUFLQTs7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFuQkE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBdElBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBK0pBOztBQUNBO0FBQ0E7O0FBaEtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFuQkE7QUFzQkE7QUFDQTtBQUNBOzs7O0FBV0E7QUFDQTtBQUNBOzs7O0FBRUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUNBO0FBQ0E7O0FBRkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7Ozs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7OztBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBOzs7O0FBRUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBSEE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTs7QUFBQTtBQUFBOztBQUFBO0FBS0E7QUFMQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7Ozs7Ozs7OztBQVVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7Ozs7QUFFQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBSkE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7O0FBQUE7QUFPQTtBQVBBO0FBQUE7O0FBQUE7QUFRQTtBQUNBOztBQVRBO0FBV0E7O0FBWEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvY2FzaGllci8uL3N0b3Jlcy9wYXltZW50LWFnZW50LXRyYW5zZmVyLXN0b3JlLmpzPzg2MDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYWN0aW9uLCBjb21wdXRlZCwgb2JzZXJ2YWJsZSwgbWFrZU9ic2VydmFibGUgfSBmcm9tICdtb2J4JztcbmltcG9ydCB7IHJvdXRlcyB9IGZyb20gJ0BkZXJpdi9zaGFyZWQnO1xuaW1wb3J0IENvbnN0YW50cyBmcm9tICdDb25zdGFudHMvY29uc3RhbnRzJztcbmltcG9ydCBFcnJvclN0b3JlIGZyb20gJy4vZXJyb3Itc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXltZW50QWdlbnRUcmFuc2ZlclN0b3JlIHtcbiAgICBjb25zdHJ1Y3Rvcih7IFdTLCByb290X3N0b3JlIH0pIHtcbiAgICAgICAgbWFrZU9ic2VydmFibGUodGhpcywge1xuICAgICAgICAgICAgY29udGFpbmVyOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgZXJyb3I6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBpc19wYXltZW50X2FnZW50OiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgaXNfdHJ5X3RyYW5zZmVyX3N1Y2Nlc3NmdWw6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBpc190cmFuc2Zlcl9zdWNjZXNzZnVsOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgY29uZmlybTogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIHJlY2VpcHQ6IG9ic2VydmFibGUsXG4gICAgICAgICAgICB0cmFuc2Zlcl9saW1pdDogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGlzX3BheW1lbnRfYWdlbnRfdHJhbnNmZXJfdmlzaWJsZTogY29tcHV0ZWQsXG4gICAgICAgICAgICBzZXRJc1BheW1lbnRBZ2VudDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0SXNUcnlUcmFuc2ZlclN1Y2Nlc3NmdWw6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldElzVHJhbnNmZXJTdWNjZXNzZnVsOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRDb25maXJtYXRpb25QYXltZW50QWdlbnRUcmFuc2ZlcjogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0UmVjZWlwdFBheW1lbnRBZ2VudFRyYW5zZmVyOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRNaW5NYXhQYXltZW50QWdlbnRUcmFuc2ZlcjogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgb25Nb3VudFBheW1lbnRBZ2VudFRyYW5zZmVyOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICByZXF1ZXN0VHJ5UGF5bWVudEFnZW50VHJhbnNmZXI6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHJlcXVlc3RQYXltZW50QWdlbnRUcmFuc2ZlcjogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgcmVzZXRQYXltZW50QWdlbnRUcmFuc2ZlcjogYWN0aW9uLmJvdW5kLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnJvb3Rfc3RvcmUgPSByb290X3N0b3JlO1xuICAgICAgICB0aGlzLldTID0gV1M7XG4gICAgfVxuXG4gICAgY29udGFpbmVyID0gQ29uc3RhbnRzLmNvbnRhaW5lcnMucGF5bWVudF9hZ2VudF90cmFuc2ZlcjtcbiAgICBlcnJvciA9IG5ldyBFcnJvclN0b3JlKCk7XG4gICAgaXNfcGF5bWVudF9hZ2VudCA9IGZhbHNlO1xuICAgIGlzX3RyeV90cmFuc2Zlcl9zdWNjZXNzZnVsID0gZmFsc2U7XG4gICAgaXNfdHJhbnNmZXJfc3VjY2Vzc2Z1bCA9IGZhbHNlO1xuICAgIGNvbmZpcm0gPSB7fTtcbiAgICByZWNlaXB0ID0ge307XG4gICAgdHJhbnNmZXJfbGltaXQgPSB7fTtcblxuICAgIGdldCBpc19wYXltZW50X2FnZW50X3RyYW5zZmVyX3Zpc2libGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzX3BheW1lbnRfYWdlbnQ7XG4gICAgfVxuXG4gICAgYXN5bmMgY2hlY2tJc1BheW1lbnRBZ2VudCgpIHtcbiAgICAgICAgY29uc3QgZ2V0X3NldHRpbmdzID0gKGF3YWl0IHRoaXMuV1MuYXV0aG9yaXplZC5zdG9yYWdlLmdldFNldHRpbmdzKCkpLmdldF9zZXR0aW5ncztcbiAgICAgICAgdGhpcy5zZXRJc1BheW1lbnRBZ2VudChnZXRfc2V0dGluZ3M/LmlzX2F1dGhlbnRpY2F0ZWRfcGF5bWVudF9hZ2VudCA/PyBmYWxzZSk7XG4gICAgfVxuXG4gICAgc2V0SXNQYXltZW50QWdlbnQoaXNfcGF5bWVudF9hZ2VudCkge1xuICAgICAgICBpZiAoIWlzX3BheW1lbnRfYWdlbnQgJiYgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLmVuZHNXaXRoKHJvdXRlcy5jYXNoaWVyX3BhX3RyYW5zZmVyKSkge1xuICAgICAgICAgICAgdGhpcy5yb290X3N0b3JlLmNvbW1vbi5yb3V0ZVRvKHJvdXRlcy5jYXNoaWVyX2RlcG9zaXQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNfcGF5bWVudF9hZ2VudCA9ICEhaXNfcGF5bWVudF9hZ2VudDtcbiAgICB9XG5cbiAgICBzZXRJc1RyeVRyYW5zZmVyU3VjY2Vzc2Z1bChpc190cnlfdHJhbnNmZXJfc3VjY2Vzc2Z1bCkge1xuICAgICAgICB0aGlzLmVycm9yLnNldEVycm9yTWVzc2FnZSgnJyk7XG4gICAgICAgIHRoaXMuaXNfdHJ5X3RyYW5zZmVyX3N1Y2Nlc3NmdWwgPSBpc190cnlfdHJhbnNmZXJfc3VjY2Vzc2Z1bDtcbiAgICB9XG5cbiAgICBzZXRJc1RyYW5zZmVyU3VjY2Vzc2Z1bChpc190cmFuc2Zlcl9zdWNjZXNzZnVsKSB7XG4gICAgICAgIHRoaXMuaXNfdHJhbnNmZXJfc3VjY2Vzc2Z1bCA9IGlzX3RyYW5zZmVyX3N1Y2Nlc3NmdWw7XG4gICAgfVxuXG4gICAgc2V0Q29uZmlybWF0aW9uUGF5bWVudEFnZW50VHJhbnNmZXIoeyBhbW91bnQsIGNsaWVudF9pZCwgY2xpZW50X25hbWUsIGRlc2NyaXB0aW9uIH0pIHtcbiAgICAgICAgdGhpcy5jb25maXJtID0ge1xuICAgICAgICAgICAgYW1vdW50LFxuICAgICAgICAgICAgY2xpZW50X2lkLFxuICAgICAgICAgICAgY2xpZW50X25hbWUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBzZXRSZWNlaXB0UGF5bWVudEFnZW50VHJhbnNmZXIoeyBhbW91bnRfdHJhbnNmZXJyZWQsIGNsaWVudF9pZCwgY2xpZW50X25hbWUgfSkge1xuICAgICAgICB0aGlzLnJlY2VpcHQgPSB7XG4gICAgICAgICAgICBhbW91bnRfdHJhbnNmZXJyZWQsXG4gICAgICAgICAgICBjbGllbnRfaWQsXG4gICAgICAgICAgICBjbGllbnRfbmFtZSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhc3luYyBnZXRDdXJyZW50UGF5bWVudEFnZW50KHJlc3BvbnNlX3BheW1lbnRfYWdlbnQpIHtcbiAgICAgICAgY29uc3QgeyBjbGllbnQsIG1vZHVsZXMgfSA9IHRoaXMucm9vdF9zdG9yZTtcbiAgICAgICAgY29uc3QgcGF5bWVudF9hZ2VudF9saXN0ZWQgPSByZXNwb25zZV9wYXltZW50X2FnZW50LnBheW1lbnRhZ2VudF9saXN0Lmxpc3QuZmluZChcbiAgICAgICAgICAgIGFnZW50ID0+IGFnZW50LnBheW1lbnRhZ2VudF9sb2dpbmlkID09PSBjbGllbnQubG9naW5pZFxuICAgICAgICApO1xuICAgICAgICBjb25zdCBjdXJyZW50X3BheW1lbnRfYWdlbnQgPVxuICAgICAgICAgICAgcGF5bWVudF9hZ2VudF9saXN0ZWQgfHwgKGF3YWl0IG1vZHVsZXMuY2FzaGllci5wYXltZW50X2FnZW50LmdldFBheW1lbnRBZ2VudERldGFpbHMoKSk7XG4gICAgICAgIHJldHVybiBjdXJyZW50X3BheW1lbnRfYWdlbnQgPz8ge307XG4gICAgfVxuXG4gICAgc2V0TWluTWF4UGF5bWVudEFnZW50VHJhbnNmZXIoeyBtaW5fd2l0aGRyYXdhbCwgbWF4X3dpdGhkcmF3YWwgfSkge1xuICAgICAgICB0aGlzLnRyYW5zZmVyX2xpbWl0ID0ge1xuICAgICAgICAgICAgbWluOiBtaW5fd2l0aGRyYXdhbCxcbiAgICAgICAgICAgIG1heDogbWF4X3dpdGhkcmF3YWwsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYXN5bmMgb25Nb3VudFBheW1lbnRBZ2VudFRyYW5zZmVyKCkge1xuICAgICAgICBjb25zdCB7IGdlbmVyYWxfc3RvcmUsIHBheW1lbnRfYWdlbnQgfSA9IHRoaXMucm9vdF9zdG9yZS5tb2R1bGVzLmNhc2hpZXI7XG5cbiAgICAgICAgZ2VuZXJhbF9zdG9yZS5zZXRMb2FkaW5nKHRydWUpO1xuICAgICAgICB0aGlzLm9uUmVtb3VudCA9IHRoaXMub25Nb3VudFBheW1lbnRBZ2VudFRyYW5zZmVyO1xuICAgICAgICBhd2FpdCBnZW5lcmFsX3N0b3JlLm9uTW91bnRDb21tb24oKTtcbiAgICAgICAgaWYgKCF0aGlzLnRyYW5zZmVyX2xpbWl0Lm1pbl93aXRoZHJhd2FsKSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHBheW1lbnRfYWdlbnQuZ2V0UGF5bWVudEFnZW50TGlzdCgpO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudF9wYXltZW50X2FnZW50ID0gYXdhaXQgdGhpcy5nZXRDdXJyZW50UGF5bWVudEFnZW50KHJlc3BvbnNlKTtcbiAgICAgICAgICAgIHRoaXMuc2V0TWluTWF4UGF5bWVudEFnZW50VHJhbnNmZXIoY3VycmVudF9wYXltZW50X2FnZW50KTtcbiAgICAgICAgfVxuICAgICAgICBnZW5lcmFsX3N0b3JlLnNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cblxuICAgIHJlcXVlc3RUcnlQYXltZW50QWdlbnRUcmFuc2ZlciA9IGFzeW5jICh7IGFtb3VudCwgY3VycmVuY3ksIGRlc2NyaXB0aW9uLCB0cmFuc2Zlcl90byB9KSA9PiB7XG4gICAgICAgIHRoaXMuZXJyb3Iuc2V0RXJyb3JNZXNzYWdlKCcnKTtcbiAgICAgICAgY29uc3QgcGF5bWVudF9hZ2VudF90cmFuc2ZlciA9IGF3YWl0IHRoaXMuV1MuYXV0aG9yaXplZC5wYXltZW50QWdlbnRUcmFuc2Zlcih7XG4gICAgICAgICAgICBhbW91bnQsXG4gICAgICAgICAgICBjdXJyZW5jeSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgdHJhbnNmZXJfdG8sXG4gICAgICAgICAgICBkcnlfcnVuOiAxLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCtwYXltZW50X2FnZW50X3RyYW5zZmVyLnBheW1lbnRhZ2VudF90cmFuc2ZlciA9PT0gMikge1xuICAgICAgICAgICAgLy8gc2hvdyBjb25maXJtYXRpb24gc2NyZWVuXG4gICAgICAgICAgICB0aGlzLnNldENvbmZpcm1hdGlvblBheW1lbnRBZ2VudFRyYW5zZmVyKHtcbiAgICAgICAgICAgICAgICBjbGllbnRfaWQ6IHRyYW5zZmVyX3RvLFxuICAgICAgICAgICAgICAgIGNsaWVudF9uYW1lOiBwYXltZW50X2FnZW50X3RyYW5zZmVyLmNsaWVudF90b19mdWxsX25hbWUsXG4gICAgICAgICAgICAgICAgYW1vdW50LFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnNldElzVHJ5VHJhbnNmZXJTdWNjZXNzZnVsKHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5lcnJvci5zZXRFcnJvck1lc3NhZ2UocGF5bWVudF9hZ2VudF90cmFuc2Zlci5lcnJvciwgdGhpcy5yZXNldFBheW1lbnRBZ2VudFRyYW5zZmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwYXltZW50X2FnZW50X3RyYW5zZmVyO1xuICAgIH07XG5cbiAgICByZXF1ZXN0UGF5bWVudEFnZW50VHJhbnNmZXIgPSBhc3luYyAoeyBhbW91bnQsIGN1cnJlbmN5LCBkZXNjcmlwdGlvbiwgdHJhbnNmZXJfdG8gfSkgPT4ge1xuICAgICAgICB0aGlzLmVycm9yLnNldEVycm9yTWVzc2FnZSgnJyk7XG4gICAgICAgIGNvbnN0IHBheW1lbnRfYWdlbnRfdHJhbnNmZXIgPSBhd2FpdCB0aGlzLldTLmF1dGhvcml6ZWQucGF5bWVudEFnZW50VHJhbnNmZXIoe1xuICAgICAgICAgICAgYW1vdW50LFxuICAgICAgICAgICAgY3VycmVuY3ksXG4gICAgICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgICAgIHRyYW5zZmVyX3RvLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCtwYXltZW50X2FnZW50X3RyYW5zZmVyLnBheW1lbnRhZ2VudF90cmFuc2ZlciA9PT0gMSkge1xuICAgICAgICAgICAgdGhpcy5zZXRSZWNlaXB0UGF5bWVudEFnZW50VHJhbnNmZXIoe1xuICAgICAgICAgICAgICAgIGFtb3VudF90cmFuc2ZlcnJlZDogYW1vdW50LFxuICAgICAgICAgICAgICAgIGNsaWVudF9pZDogdHJhbnNmZXJfdG8sXG4gICAgICAgICAgICAgICAgY2xpZW50X25hbWU6IHBheW1lbnRfYWdlbnRfdHJhbnNmZXIuY2xpZW50X3RvX2Z1bGxfbmFtZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5zZXRJc1RyYW5zZmVyU3VjY2Vzc2Z1bCh0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuc2V0SXNUcnlUcmFuc2ZlclN1Y2Nlc3NmdWwoZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5zZXRDb25maXJtYXRpb25QYXltZW50QWdlbnRUcmFuc2Zlcih7fSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmVycm9yLnNldEVycm9yTWVzc2FnZShwYXltZW50X2FnZW50X3RyYW5zZmVyLmVycm9yLCB0aGlzLnJlc2V0UGF5bWVudEFnZW50VHJhbnNmZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBheW1lbnRfYWdlbnRfdHJhbnNmZXI7XG4gICAgfTtcblxuICAgIHJlc2V0UGF5bWVudEFnZW50VHJhbnNmZXIgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0SXNUcmFuc2ZlclN1Y2Nlc3NmdWwoZmFsc2UpO1xuICAgICAgICB0aGlzLmVycm9yLnNldEVycm9yTWVzc2FnZSgnJyk7XG4gICAgfTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./stores/payment-agent-transfer-store.js\n");

/***/ }),

/***/ "./stores/transaction-history-store.js":
/*!*********************************************!*\
  !*** ./stores/transaction-history-store.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ TransactionHistoryStore)\n/* harmony export */ });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/shared */ \"@deriv/shared\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__);\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n\n\n\nvar TransactionHistoryStore = /*#__PURE__*/function () {\n  function TransactionHistoryStore(_ref) {\n    var WS = _ref.WS,\n        root_store = _ref.root_store;\n\n    _classCallCheck(this, TransactionHistoryStore);\n\n    this.crypto_transactions = [];\n    this.is_crypto_transactions_cancel_modal_visible = false;\n    this.is_crypto_transactions_status_modal_visible = false;\n    this.is_crypto_transactions_visible = false;\n    this.is_loading = false;\n    this.selected_crypto_transaction_id = '';\n    this.selected_crypto_status = '';\n    this.selected_crypto_status_description = '';\n    (0,mobx__WEBPACK_IMPORTED_MODULE_0__.makeObservable)(this, {\n      crypto_transactions: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_crypto_transactions_cancel_modal_visible: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_crypto_transactions_status_modal_visible: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_crypto_transactions_visible: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_loading: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      selected_crypto_transaction_id: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      selected_crypto_status: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      selected_crypto_status_description: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      onMount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      unsubscribeCryptoTransactions: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      getCryptoTransactions: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setCryptoTransactionsHistory: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      updateCryptoTransactions: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      sortCryptoTransactions: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      cancelCryptoTransaction: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setSelectedCryptoTransactionId: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsCryptoTransactionsCancelModalVisible: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      showCryptoTransactionsCancelModal: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      hideCryptoTransactionsCancelModal: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setSelectedCryptoStatus: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setSelectedCryptoStatusDescription: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsCryptoTransactionsStatusModalVisible: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      showCryptoTransactionsStatusModal: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      hideCryptoTransactionsStatusModal: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setLoading: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsCryptoTransactionsVisible: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound\n    });\n    this.root_store = root_store;\n    this.WS = WS;\n  }\n\n  _createClass(TransactionHistoryStore, [{\n    key: \"onMount\",\n    value: function () {\n      var _onMount = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _this$root_store$clie, currency, switched, is_crypto;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this$root_store$clie = this.root_store.client, currency = _this$root_store$clie.currency, switched = _this$root_store$clie.switched;\n                is_crypto = !!currency && (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isCryptocurrency)(currency);\n\n                if (!(is_crypto && !switched)) {\n                  _context.next = 9;\n                  break;\n                }\n\n                this.setLoading(true);\n                _context.next = 6;\n                return this.unsubscribeCryptoTransactions();\n\n              case 6:\n                _context.next = 8;\n                return this.getCryptoTransactions();\n\n              case 8:\n                this.setLoading(false);\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function onMount() {\n        return _onMount.apply(this, arguments);\n      }\n\n      return onMount;\n    }()\n  }, {\n    key: \"unsubscribeCryptoTransactions\",\n    value: function () {\n      var _unsubscribeCryptoTransactions = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        var _this = this;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.WS.authorized.cashierPayments({\n                  provider: 'crypto',\n                  transaction_type: 'all'\n                }).then(function (response) {\n                  if (!response.error) {\n                    var crypto = response.cashier_payments.crypto;\n\n                    _this.setCryptoTransactionsHistory(crypto);\n                  }\n                });\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function unsubscribeCryptoTransactions() {\n        return _unsubscribeCryptoTransactions.apply(this, arguments);\n      }\n\n      return unsubscribeCryptoTransactions;\n    }()\n  }, {\n    key: \"getCryptoTransactions\",\n    value: function () {\n      var _getCryptoTransactions = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n        var _this2 = this;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.WS.subscribeCashierPayments(function (response) {\n                  if (!response.error) {\n                    var crypto = response.cashier_payments.crypto;\n\n                    _this2.updateCryptoTransactions(crypto);\n                  }\n                });\n\n              case 2:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function getCryptoTransactions() {\n        return _getCryptoTransactions.apply(this, arguments);\n      }\n\n      return getCryptoTransactions;\n    }()\n  }, {\n    key: \"setCryptoTransactionsHistory\",\n    value: function setCryptoTransactionsHistory(transactions) {\n      this.crypto_transactions = transactions;\n      this.sortCryptoTransactions();\n    }\n  }, {\n    key: \"updateCryptoTransactions\",\n    value: function updateCryptoTransactions(transactions) {\n      var _this3 = this;\n\n      transactions.forEach(function (transaction) {\n        var index = _this3.crypto_transactions.findIndex(function (crypto) {\n          return crypto.id === transaction.id;\n        });\n\n        if (index === -1) {\n          _this3.crypto_transactions.push(transaction);\n        } else {\n          Object.assign(_this3.crypto_transactions[index], transaction);\n        }\n      });\n      this.sortCryptoTransactions();\n    }\n  }, {\n    key: \"sortCryptoTransactions\",\n    value: function sortCryptoTransactions() {\n      this.crypto_transactions.replace(this.crypto_transactions.slice().sort(function (a, b) {\n        return b.submit_date - a.submit_date;\n      }));\n    }\n  }, {\n    key: \"cancelCryptoTransaction\",\n    value: function () {\n      var _cancelCryptoTransaction = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(transaction_id) {\n        var _this4 = this;\n\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return this.WS.cancelCryptoTransaction(transaction_id).then(function (response) {\n                  if (!response.error) {\n                    _this4.setSelectedCryptoTransactionId('');\n\n                    _this4.setIsCryptoTransactionsCancelModalVisible(false);\n\n                    return Promise.resolve(response);\n                  }\n\n                  return Promise.reject(response.error);\n                });\n\n              case 2:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function cancelCryptoTransaction(_x) {\n        return _cancelCryptoTransaction.apply(this, arguments);\n      }\n\n      return cancelCryptoTransaction;\n    }()\n  }, {\n    key: \"setSelectedCryptoTransactionId\",\n    value: function setSelectedCryptoTransactionId(id) {\n      this.selected_crypto_transaction_id = id;\n    }\n  }, {\n    key: \"setIsCryptoTransactionsCancelModalVisible\",\n    value: function setIsCryptoTransactionsCancelModalVisible(is_visible) {\n      this.is_crypto_transactions_cancel_modal_visible = is_visible;\n    }\n  }, {\n    key: \"showCryptoTransactionsCancelModal\",\n    value: function showCryptoTransactionsCancelModal(id) {\n      this.setSelectedCryptoTransactionId(id);\n      this.setIsCryptoTransactionsCancelModalVisible(true);\n    }\n  }, {\n    key: \"hideCryptoTransactionsCancelModal\",\n    value: function hideCryptoTransactionsCancelModal() {\n      this.setSelectedCryptoTransactionId('');\n      this.setIsCryptoTransactionsCancelModalVisible(false);\n    }\n  }, {\n    key: \"setSelectedCryptoStatus\",\n    value: function setSelectedCryptoStatus(status) {\n      this.selected_crypto_status = status;\n    }\n  }, {\n    key: \"setSelectedCryptoStatusDescription\",\n    value: function setSelectedCryptoStatusDescription(description) {\n      this.selected_crypto_status_description = description;\n    }\n  }, {\n    key: \"setIsCryptoTransactionsStatusModalVisible\",\n    value: function setIsCryptoTransactionsStatusModalVisible(is_visible) {\n      this.is_crypto_transactions_status_modal_visible = is_visible;\n    }\n  }, {\n    key: \"showCryptoTransactionsStatusModal\",\n    value: function showCryptoTransactionsStatusModal(description, name) {\n      this.setSelectedCryptoStatusDescription(description);\n      this.setSelectedCryptoStatus(name);\n      this.setIsCryptoTransactionsStatusModalVisible(true);\n    }\n  }, {\n    key: \"hideCryptoTransactionsStatusModal\",\n    value: function hideCryptoTransactionsStatusModal() {\n      this.setIsCryptoTransactionsStatusModalVisible(false);\n    }\n  }, {\n    key: \"setLoading\",\n    value: function setLoading(is_loading) {\n      this.is_loading = is_loading;\n    }\n  }, {\n    key: \"setIsCryptoTransactionsVisible\",\n    value: function setIsCryptoTransactionsVisible(is_visible) {\n      this.is_crypto_transactions_visible = is_visible;\n    }\n  }]);\n\n  return TransactionHistoryStore;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zdG9yZXMvdHJhbnNhY3Rpb24taGlzdG9yeS1zdG9yZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFBQTtBQUFBOztBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUExQkE7QUE2QkE7QUFDQTtBQUNBOzs7OztBQVVBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBOztBQUZBO0FBQUE7QUFBQTtBQUFBOztBQUtBO0FBTEE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFRQTs7QUFSQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7Ozs7Ozs7Ozs7QUFZQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBOztBQU5BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7Ozs7Ozs7OztBQVNBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBTkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7Ozs7Ozs7QUFTQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTs7QUFDQTtBQUNBO0FBQUE7QUFBQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBOzs7O0FBRUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBOztBQUNBOztBQUNBO0FBQ0E7O0FBQ0E7QUFDQTs7QUFSQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7Ozs7Ozs7OztBQVdBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvY2FzaGllci8uL3N0b3Jlcy90cmFuc2FjdGlvbi1oaXN0b3J5LXN0b3JlLmpzPzgyZjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYWN0aW9uLCBvYnNlcnZhYmxlLCBtYWtlT2JzZXJ2YWJsZSB9IGZyb20gJ21vYngnO1xuaW1wb3J0IHsgaXNDcnlwdG9jdXJyZW5jeSB9IGZyb20gJ0BkZXJpdi9zaGFyZWQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUcmFuc2FjdGlvbkhpc3RvcnlTdG9yZSB7XG4gICAgY29uc3RydWN0b3IoeyBXUywgcm9vdF9zdG9yZSB9KSB7XG4gICAgICAgIG1ha2VPYnNlcnZhYmxlKHRoaXMsIHtcbiAgICAgICAgICAgIGNyeXB0b190cmFuc2FjdGlvbnM6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBpc19jcnlwdG9fdHJhbnNhY3Rpb25zX2NhbmNlbF9tb2RhbF92aXNpYmxlOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgaXNfY3J5cHRvX3RyYW5zYWN0aW9uc19zdGF0dXNfbW9kYWxfdmlzaWJsZTogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGlzX2NyeXB0b190cmFuc2FjdGlvbnNfdmlzaWJsZTogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGlzX2xvYWRpbmc6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBzZWxlY3RlZF9jcnlwdG9fdHJhbnNhY3Rpb25faWQ6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBzZWxlY3RlZF9jcnlwdG9fc3RhdHVzOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgc2VsZWN0ZWRfY3J5cHRvX3N0YXR1c19kZXNjcmlwdGlvbjogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIG9uTW91bnQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHVuc3Vic2NyaWJlQ3J5cHRvVHJhbnNhY3Rpb25zOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBnZXRDcnlwdG9UcmFuc2FjdGlvbnM6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldENyeXB0b1RyYW5zYWN0aW9uc0hpc3Rvcnk6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHVwZGF0ZUNyeXB0b1RyYW5zYWN0aW9uczogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc29ydENyeXB0b1RyYW5zYWN0aW9uczogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgY2FuY2VsQ3J5cHRvVHJhbnNhY3Rpb246IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldFNlbGVjdGVkQ3J5cHRvVHJhbnNhY3Rpb25JZDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0SXNDcnlwdG9UcmFuc2FjdGlvbnNDYW5jZWxNb2RhbFZpc2libGU6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNob3dDcnlwdG9UcmFuc2FjdGlvbnNDYW5jZWxNb2RhbDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgaGlkZUNyeXB0b1RyYW5zYWN0aW9uc0NhbmNlbE1vZGFsOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRTZWxlY3RlZENyeXB0b1N0YXR1czogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0U2VsZWN0ZWRDcnlwdG9TdGF0dXNEZXNjcmlwdGlvbjogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0SXNDcnlwdG9UcmFuc2FjdGlvbnNTdGF0dXNNb2RhbFZpc2libGU6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNob3dDcnlwdG9UcmFuc2FjdGlvbnNTdGF0dXNNb2RhbDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgaGlkZUNyeXB0b1RyYW5zYWN0aW9uc1N0YXR1c01vZGFsOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRMb2FkaW5nOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRJc0NyeXB0b1RyYW5zYWN0aW9uc1Zpc2libGU6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5yb290X3N0b3JlID0gcm9vdF9zdG9yZTtcbiAgICAgICAgdGhpcy5XUyA9IFdTO1xuICAgIH1cbiAgICBjcnlwdG9fdHJhbnNhY3Rpb25zID0gW107XG4gICAgaXNfY3J5cHRvX3RyYW5zYWN0aW9uc19jYW5jZWxfbW9kYWxfdmlzaWJsZSA9IGZhbHNlO1xuICAgIGlzX2NyeXB0b190cmFuc2FjdGlvbnNfc3RhdHVzX21vZGFsX3Zpc2libGUgPSBmYWxzZTtcbiAgICBpc19jcnlwdG9fdHJhbnNhY3Rpb25zX3Zpc2libGUgPSBmYWxzZTtcbiAgICBpc19sb2FkaW5nID0gZmFsc2U7XG4gICAgc2VsZWN0ZWRfY3J5cHRvX3RyYW5zYWN0aW9uX2lkID0gJyc7XG4gICAgc2VsZWN0ZWRfY3J5cHRvX3N0YXR1cyA9ICcnO1xuICAgIHNlbGVjdGVkX2NyeXB0b19zdGF0dXNfZGVzY3JpcHRpb24gPSAnJztcblxuICAgIGFzeW5jIG9uTW91bnQoKSB7XG4gICAgICAgIGNvbnN0IHsgY3VycmVuY3ksIHN3aXRjaGVkIH0gPSB0aGlzLnJvb3Rfc3RvcmUuY2xpZW50O1xuICAgICAgICBjb25zdCBpc19jcnlwdG8gPSAhIWN1cnJlbmN5ICYmIGlzQ3J5cHRvY3VycmVuY3koY3VycmVuY3kpO1xuXG4gICAgICAgIGlmIChpc19jcnlwdG8gJiYgIXN3aXRjaGVkKSB7XG4gICAgICAgICAgICB0aGlzLnNldExvYWRpbmcodHJ1ZSk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnVuc3Vic2NyaWJlQ3J5cHRvVHJhbnNhY3Rpb25zKCk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmdldENyeXB0b1RyYW5zYWN0aW9ucygpO1xuICAgICAgICAgICAgdGhpcy5zZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIHVuc3Vic2NyaWJlQ3J5cHRvVHJhbnNhY3Rpb25zKCkge1xuICAgICAgICBhd2FpdCB0aGlzLldTLmF1dGhvcml6ZWQuY2FzaGllclBheW1lbnRzKHsgcHJvdmlkZXI6ICdjcnlwdG8nLCB0cmFuc2FjdGlvbl90eXBlOiAnYWxsJyB9KS50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgIGlmICghcmVzcG9uc2UuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGNyeXB0byB9ID0gcmVzcG9uc2UuY2FzaGllcl9wYXltZW50cztcbiAgICAgICAgICAgICAgICB0aGlzLnNldENyeXB0b1RyYW5zYWN0aW9uc0hpc3RvcnkoY3J5cHRvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0Q3J5cHRvVHJhbnNhY3Rpb25zKCkge1xuICAgICAgICBhd2FpdCB0aGlzLldTLnN1YnNjcmliZUNhc2hpZXJQYXltZW50cyhyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBjcnlwdG8gfSA9IHJlc3BvbnNlLmNhc2hpZXJfcGF5bWVudHM7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDcnlwdG9UcmFuc2FjdGlvbnMoY3J5cHRvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2V0Q3J5cHRvVHJhbnNhY3Rpb25zSGlzdG9yeSh0cmFuc2FjdGlvbnMpIHtcbiAgICAgICAgdGhpcy5jcnlwdG9fdHJhbnNhY3Rpb25zID0gdHJhbnNhY3Rpb25zO1xuICAgICAgICB0aGlzLnNvcnRDcnlwdG9UcmFuc2FjdGlvbnMoKTtcbiAgICB9XG5cbiAgICB1cGRhdGVDcnlwdG9UcmFuc2FjdGlvbnModHJhbnNhY3Rpb25zKSB7XG4gICAgICAgIHRyYW5zYWN0aW9ucy5mb3JFYWNoKHRyYW5zYWN0aW9uID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5jcnlwdG9fdHJhbnNhY3Rpb25zLmZpbmRJbmRleChjcnlwdG8gPT4gY3J5cHRvLmlkID09PSB0cmFuc2FjdGlvbi5pZCk7XG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jcnlwdG9fdHJhbnNhY3Rpb25zLnB1c2godHJhbnNhY3Rpb24pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuY3J5cHRvX3RyYW5zYWN0aW9uc1tpbmRleF0sIHRyYW5zYWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc29ydENyeXB0b1RyYW5zYWN0aW9ucygpO1xuICAgIH1cblxuICAgIHNvcnRDcnlwdG9UcmFuc2FjdGlvbnMoKSB7XG4gICAgICAgIHRoaXMuY3J5cHRvX3RyYW5zYWN0aW9ucy5yZXBsYWNlKFxuICAgICAgICAgICAgdGhpcy5jcnlwdG9fdHJhbnNhY3Rpb25zLnNsaWNlKCkuc29ydCgoYSwgYikgPT4gYi5zdWJtaXRfZGF0ZSAtIGEuc3VibWl0X2RhdGUpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYXN5bmMgY2FuY2VsQ3J5cHRvVHJhbnNhY3Rpb24odHJhbnNhY3Rpb25faWQpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5XUy5jYW5jZWxDcnlwdG9UcmFuc2FjdGlvbih0cmFuc2FjdGlvbl9pZCkudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3RlZENyeXB0b1RyYW5zYWN0aW9uSWQoJycpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0SXNDcnlwdG9UcmFuc2FjdGlvbnNDYW5jZWxNb2RhbFZpc2libGUoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlc3BvbnNlLmVycm9yKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2V0U2VsZWN0ZWRDcnlwdG9UcmFuc2FjdGlvbklkKGlkKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRfY3J5cHRvX3RyYW5zYWN0aW9uX2lkID0gaWQ7XG4gICAgfVxuXG4gICAgc2V0SXNDcnlwdG9UcmFuc2FjdGlvbnNDYW5jZWxNb2RhbFZpc2libGUoaXNfdmlzaWJsZSkge1xuICAgICAgICB0aGlzLmlzX2NyeXB0b190cmFuc2FjdGlvbnNfY2FuY2VsX21vZGFsX3Zpc2libGUgPSBpc192aXNpYmxlO1xuICAgIH1cblxuICAgIHNob3dDcnlwdG9UcmFuc2FjdGlvbnNDYW5jZWxNb2RhbChpZCkge1xuICAgICAgICB0aGlzLnNldFNlbGVjdGVkQ3J5cHRvVHJhbnNhY3Rpb25JZChpZCk7XG4gICAgICAgIHRoaXMuc2V0SXNDcnlwdG9UcmFuc2FjdGlvbnNDYW5jZWxNb2RhbFZpc2libGUodHJ1ZSk7XG4gICAgfVxuXG4gICAgaGlkZUNyeXB0b1RyYW5zYWN0aW9uc0NhbmNlbE1vZGFsKCkge1xuICAgICAgICB0aGlzLnNldFNlbGVjdGVkQ3J5cHRvVHJhbnNhY3Rpb25JZCgnJyk7XG4gICAgICAgIHRoaXMuc2V0SXNDcnlwdG9UcmFuc2FjdGlvbnNDYW5jZWxNb2RhbFZpc2libGUoZmFsc2UpO1xuICAgIH1cblxuICAgIHNldFNlbGVjdGVkQ3J5cHRvU3RhdHVzKHN0YXR1cykge1xuICAgICAgICB0aGlzLnNlbGVjdGVkX2NyeXB0b19zdGF0dXMgPSBzdGF0dXM7XG4gICAgfVxuXG4gICAgc2V0U2VsZWN0ZWRDcnlwdG9TdGF0dXNEZXNjcmlwdGlvbihkZXNjcmlwdGlvbikge1xuICAgICAgICB0aGlzLnNlbGVjdGVkX2NyeXB0b19zdGF0dXNfZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICB9XG5cbiAgICBzZXRJc0NyeXB0b1RyYW5zYWN0aW9uc1N0YXR1c01vZGFsVmlzaWJsZShpc192aXNpYmxlKSB7XG4gICAgICAgIHRoaXMuaXNfY3J5cHRvX3RyYW5zYWN0aW9uc19zdGF0dXNfbW9kYWxfdmlzaWJsZSA9IGlzX3Zpc2libGU7XG4gICAgfVxuXG4gICAgc2hvd0NyeXB0b1RyYW5zYWN0aW9uc1N0YXR1c01vZGFsKGRlc2NyaXB0aW9uLCBuYW1lKSB7XG4gICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRDcnlwdG9TdGF0dXNEZXNjcmlwdGlvbihkZXNjcmlwdGlvbik7XG4gICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRDcnlwdG9TdGF0dXMobmFtZSk7XG4gICAgICAgIHRoaXMuc2V0SXNDcnlwdG9UcmFuc2FjdGlvbnNTdGF0dXNNb2RhbFZpc2libGUodHJ1ZSk7XG4gICAgfVxuXG4gICAgaGlkZUNyeXB0b1RyYW5zYWN0aW9uc1N0YXR1c01vZGFsKCkge1xuICAgICAgICB0aGlzLnNldElzQ3J5cHRvVHJhbnNhY3Rpb25zU3RhdHVzTW9kYWxWaXNpYmxlKGZhbHNlKTtcbiAgICB9XG5cbiAgICBzZXRMb2FkaW5nKGlzX2xvYWRpbmcpIHtcbiAgICAgICAgdGhpcy5pc19sb2FkaW5nID0gaXNfbG9hZGluZztcbiAgICB9XG5cbiAgICBzZXRJc0NyeXB0b1RyYW5zYWN0aW9uc1Zpc2libGUoaXNfdmlzaWJsZSkge1xuICAgICAgICB0aGlzLmlzX2NyeXB0b190cmFuc2FjdGlvbnNfdmlzaWJsZSA9IGlzX3Zpc2libGU7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./stores/transaction-history-store.js\n");

/***/ }),

/***/ "./stores/withdraw-store.js":
/*!**********************************!*\
  !*** ./stores/withdraw-store.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ WithdrawStore)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mobx */ \"mobx\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @deriv/shared */ \"@deriv/shared\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_deriv_shared__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @deriv/translations */ \"@deriv/translations\");\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_deriv_translations__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _deriv_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @deriv/components */ \"@deriv/components\");\n/* harmony import */ var _deriv_components__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_deriv_components__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var Constants_constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! Constants/constants */ \"./constants/constants.js\");\n/* harmony import */ var _error_store__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./error-store */ \"./stores/error-store.ts\");\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n\n\n\n\n\n\n\n\nvar WithdrawStore = /*#__PURE__*/function () {\n  function WithdrawStore(_ref) {\n    var WS = _ref.WS,\n        root_store = _ref.root_store;\n\n    _classCallCheck(this, WithdrawStore);\n\n    this.blockchain_address = '';\n    this.container = Constants_constants__WEBPACK_IMPORTED_MODULE_5__[\"default\"].containers.withdraw;\n    this.error = new _error_store__WEBPACK_IMPORTED_MODULE_6__[\"default\"]();\n    this.is_10k_withdrawal_limit_reached = undefined;\n    this.is_withdraw_confirmed = false;\n    this.withdraw_amount = '';\n    this.max_withdraw_amount = 0;\n    this.crypto_config = {};\n    (0,mobx__WEBPACK_IMPORTED_MODULE_1__.makeObservable)(this, {\n      blockchain_address: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      container: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      error: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      is_10k_withdrawal_limit_reached: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      is_withdraw_confirmed: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      withdraw_amount: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      max_withdraw_amount: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      crypto_config: mobx__WEBPACK_IMPORTED_MODULE_1__.observable,\n      setIsWithdrawConfirmed: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      setWithdrawAmount: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      requestWithdraw: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      saveWithdraw: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      resetWithrawForm: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      setBlockchainAddress: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      onMountWithdraw: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      onMountCryptoWithdraw: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      is_withdrawal_locked: mobx__WEBPACK_IMPORTED_MODULE_1__.computed,\n      setMaxWithdrawAmount: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      check10kLimit: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      set10kLimitation: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      setCryptoConfig: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      setWithdrawPercentageSelectorResult: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      validateWithdrawFromAmount: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      validateWithdrawToAmount: mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound,\n      account_platform_icon: mobx__WEBPACK_IMPORTED_MODULE_1__.computed\n    });\n    this.root_store = root_store;\n    this.WS = WS;\n  }\n\n  _createClass(WithdrawStore, [{\n    key: \"setIsWithdrawConfirmed\",\n    value: function setIsWithdrawConfirmed(is_withdraw_confirmed) {\n      var converter_from_amount = this.root_store.modules.cashier.crypto_fiat_converter.converter_from_amount;\n      this.is_withdraw_confirmed = is_withdraw_confirmed;\n      if (is_withdraw_confirmed) this.setWithdrawAmount(converter_from_amount);\n\n      if (!is_withdraw_confirmed) {\n        var _this$root_store = this.root_store,\n            client = _this$root_store.client,\n            modules = _this$root_store.modules;\n        var active_container = modules.cashier.general_store.active_container;\n        var container = Constants_constants__WEBPACK_IMPORTED_MODULE_5__[\"default\"].map_action[active_container];\n        client.setVerificationCode('', container);\n      }\n    }\n  }, {\n    key: \"setWithdrawAmount\",\n    value: function setWithdrawAmount(amount) {\n      this.withdraw_amount = amount;\n    }\n  }, {\n    key: \"requestWithdraw\",\n    value: function () {\n      var _requestWithdraw = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(verification_code) {\n        var _this = this;\n\n        var _this$root_store2, client, modules, crypto_fiat_converter;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this$root_store2 = this.root_store, client = _this$root_store2.client, modules = _this$root_store2.modules;\n                crypto_fiat_converter = modules.cashier.crypto_fiat_converter;\n\n                if (client.is_logged_in) {\n                  _context.next = 4;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 4:\n                if (crypto_fiat_converter.converter_from_amount) {\n                  _context.next = 7;\n                  break;\n                }\n\n                crypto_fiat_converter.setConverterFromError((0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('This field is required.'));\n                return _context.abrupt(\"return\");\n\n              case 7:\n                _context.next = 9;\n                return this.WS.cryptoWithdraw({\n                  address: this.blockchain_address,\n                  amount: +crypto_fiat_converter.converter_from_amount,\n                  verification_code: verification_code,\n                  dry_run: 1\n                }).then(function (response) {\n                  if (response.error) {\n                    _this.error.setErrorMessage({\n                      code: 'CryptoWithdrawalError',\n                      message: response.error.message\n                    });\n\n                    _this.setCryptoConfig().then(function () {\n                      return _this.validateWithdrawFromAmount();\n                    });\n                  } else {\n                    _this.saveWithdraw(verification_code);\n                  }\n                });\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function requestWithdraw(_x) {\n        return _requestWithdraw.apply(this, arguments);\n      }\n\n      return requestWithdraw;\n    }()\n  }, {\n    key: \"saveWithdraw\",\n    value: function () {\n      var _saveWithdraw = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(verification_code) {\n        var _this2 = this;\n\n        var converter_from_amount;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                converter_from_amount = this.root_store.modules.cashier.crypto_fiat_converter.converter_from_amount;\n                this.error.setErrorMessage('');\n                _context2.next = 4;\n                return this.WS.cryptoWithdraw({\n                  address: this.blockchain_address,\n                  amount: +converter_from_amount,\n                  verification_code: verification_code\n                }).then(function (response) {\n                  if (response.error) {\n                    _this2.error.setErrorMessage(response.error);\n\n                    if (verification_code) {\n                      var _this2$root_store = _this2.root_store,\n                          client = _this2$root_store.client,\n                          modules = _this2$root_store.modules;\n                      var active_container = modules.cashier.general_store.active_container;\n                      var container = Constants_constants__WEBPACK_IMPORTED_MODULE_5__[\"default\"].map_action[active_container];\n                      client.setVerificationCode('', container);\n                    }\n\n                    _this2.resetWithrawForm();\n                  } else {\n                    _this2.setIsWithdrawConfirmed(true);\n                  }\n                });\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function saveWithdraw(_x2) {\n        return _saveWithdraw.apply(this, arguments);\n      }\n\n      return saveWithdraw;\n    }()\n  }, {\n    key: \"resetWithrawForm\",\n    value: function resetWithrawForm() {\n      var _this$root_store$modu = this.root_store.modules.cashier.crypto_fiat_converter,\n          setConverterFromAmount = _this$root_store$modu.setConverterFromAmount,\n          setConverterToAmount = _this$root_store$modu.setConverterToAmount;\n      var _this$root_store3 = this.root_store,\n          client = _this$root_store3.client,\n          modules = _this$root_store3.modules;\n      var active_container = modules.cashier.general_store.active_container;\n      var container = Constants_constants__WEBPACK_IMPORTED_MODULE_5__[\"default\"].map_action[active_container];\n      this.setBlockchainAddress('');\n      setConverterFromAmount('');\n      setConverterToAmount('');\n      client.setVerificationCode('', container);\n    }\n  }, {\n    key: \"setBlockchainAddress\",\n    value: function setBlockchainAddress(address) {\n      this.blockchain_address = address;\n    }\n  }, {\n    key: \"willMountWithdraw\",\n    value: function willMountWithdraw(verification_code) {\n      if (this && this.root_store && verification_code) {\n        var _this$root_store4 = this.root_store,\n            client = _this$root_store4.client,\n            modules = _this$root_store4.modules;\n        var active_container = modules.cashier.general_store.active_container;\n        var container = Constants_constants__WEBPACK_IMPORTED_MODULE_5__[\"default\"].map_action[active_container];\n        client.setVerificationCode('', container);\n      }\n    }\n  }, {\n    key: \"onMountWithdraw\",\n    value: function () {\n      var _onMountWithdraw = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(verification_code) {\n        var _this$root_store5, client, modules, _modules$cashier$gene, active_container, is_crypto, onMountCommon, setLoading, setOnRemount, _modules$cashier$ifra, checkIframeLoaded, clearTimeoutCashierUrl, clearIframe, is_session_timeout, setContainerHeight, setIframeUrl, setSessionTimeout, setTimeoutCashierUrl, is_virtual, current_container, response_cashier, container;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _this$root_store5 = this.root_store, client = _this$root_store5.client, modules = _this$root_store5.modules;\n                _modules$cashier$gene = modules.cashier.general_store, active_container = _modules$cashier$gene.active_container, is_crypto = _modules$cashier$gene.is_crypto, onMountCommon = _modules$cashier$gene.onMountCommon, setLoading = _modules$cashier$gene.setLoading, setOnRemount = _modules$cashier$gene.setOnRemount;\n                _modules$cashier$ifra = modules.cashier.iframe, checkIframeLoaded = _modules$cashier$ifra.checkIframeLoaded, clearTimeoutCashierUrl = _modules$cashier$ifra.clearTimeoutCashierUrl, clearIframe = _modules$cashier$ifra.clearIframe, is_session_timeout = _modules$cashier$ifra.is_session_timeout, setContainerHeight = _modules$cashier$ifra.setContainerHeight, setIframeUrl = _modules$cashier$ifra.setIframeUrl, setSessionTimeout = _modules$cashier$ifra.setSessionTimeout, setTimeoutCashierUrl = _modules$cashier$ifra.setTimeoutCashierUrl;\n                is_virtual = client.is_virtual;\n                current_container = active_container;\n                setOnRemount(this.onMountWithdraw);\n                _context3.next = 8;\n                return onMountCommon();\n\n              case 8:\n                this.error.setErrorMessage('');\n                setContainerHeight(0);\n                clearIframe();\n                setLoading(true);\n\n                if (is_session_timeout) {\n                  _context3.next = 15;\n                  break;\n                }\n\n                checkIframeLoaded();\n                return _context3.abrupt(\"return\");\n\n              case 15:\n                // if session has timed out reset everything\n                setIframeUrl('');\n\n                if (!(!verification_code || is_virtual)) {\n                  _context3.next = 19;\n                  break;\n                }\n\n                setLoading(false); // if virtual, clear everything and don't proceed further\n                // if no verification code, we should request again\n\n                return _context3.abrupt(\"return\");\n\n              case 19:\n                _context3.next = 21;\n                return this.WS.authorized.cashier(active_container, {\n                  verification_code: verification_code\n                });\n\n              case 21:\n                response_cashier = _context3.sent;\n\n                if (!(current_container !== active_container)) {\n                  _context3.next = 25;\n                  break;\n                }\n\n                setLoading(false);\n                return _context3.abrupt(\"return\");\n\n              case 25:\n                if (!response_cashier.error) {\n                  _context3.next = 33;\n                  break;\n                }\n\n                this.error.handleCashierError(response_cashier.error);\n                setLoading(false);\n                setSessionTimeout(true);\n                clearTimeoutCashierUrl();\n\n                if (verification_code) {\n                  container = Constants_constants__WEBPACK_IMPORTED_MODULE_5__[\"default\"].map_action[active_container];\n                  client.setVerificationCode('', container);\n                }\n\n                _context3.next = 43;\n                break;\n\n              case 33:\n                if (!is_crypto) {\n                  _context3.next = 37;\n                  break;\n                }\n\n                setLoading(false);\n                _context3.next = 43;\n                break;\n\n              case 37:\n                _context3.next = 39;\n                return checkIframeLoaded();\n\n              case 39:\n                setLoading(false);\n                setIframeUrl(response_cashier.cashier);\n                setSessionTimeout(false);\n                setTimeoutCashierUrl(true);\n\n              case 43:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function onMountWithdraw(_x3) {\n        return _onMountWithdraw.apply(this, arguments);\n      }\n\n      return onMountWithdraw;\n    }()\n  }, {\n    key: \"onMountCryptoWithdraw\",\n    value: function () {\n      var _onMountCryptoWithdraw = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(verification_code) {\n        var _response_cashier$err;\n\n        var _this$root_store$modu2, crypto_fiat_converter, general_store, iframe, str_reg_exp, response_cashier, _this$root_store6, client, modules, active_container, container;\n\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _this$root_store$modu2 = this.root_store.modules.cashier, crypto_fiat_converter = _this$root_store$modu2.crypto_fiat_converter, general_store = _this$root_store$modu2.general_store, iframe = _this$root_store$modu2.iframe;\n                general_store.setLoading(true);\n                str_reg_exp = /^\\w{8,128}$/;\n\n                if (!str_reg_exp.test(verification_code)) {\n                  _context4.next = 9;\n                  break;\n                }\n\n                _context4.next = 6;\n                return this.WS.cryptoWithdraw({\n                  address: this.blockchain_address,\n                  amount: +crypto_fiat_converter.converter_from_amount,\n                  verification_code: verification_code,\n                  dry_run: 1\n                });\n\n              case 6:\n                response_cashier = _context4.sent;\n                _context4.next = 10;\n                break;\n\n              case 9:\n                response_cashier = {\n                  error: {\n                    code: 'InvalidToken',\n                    message: 'Your token has expired or is invalid.'\n                  }\n                };\n\n              case 10:\n                if (!(((_response_cashier$err = response_cashier.error) === null || _response_cashier$err === void 0 ? void 0 : _response_cashier$err.code) === 'InvalidToken')) {\n                  _context4.next = 18;\n                  break;\n                }\n\n                this.error.handleCashierError(response_cashier.error);\n                general_store.setLoading(false);\n                iframe.setSessionTimeout(true);\n                iframe.clearTimeoutCashierUrl();\n\n                if (verification_code) {\n                  _this$root_store6 = this.root_store, client = _this$root_store6.client, modules = _this$root_store6.modules;\n                  active_container = modules.cashier.general_store.active_container;\n                  container = Constants_constants__WEBPACK_IMPORTED_MODULE_5__[\"default\"].map_action[active_container];\n                  client.setVerificationCode('', container);\n                }\n\n                _context4.next = 21;\n                break;\n\n              case 18:\n                _context4.next = 20;\n                return this.setCryptoConfig();\n\n              case 20:\n                general_store.setLoading(false);\n\n              case 21:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function onMountCryptoWithdraw(_x4) {\n        return _onMountCryptoWithdraw.apply(this, arguments);\n      }\n\n      return onMountCryptoWithdraw;\n    }()\n  }, {\n    key: \"setCryptoConfig\",\n    value: function () {\n      var _setCryptoConfig = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n        var _yield$this$WS$crypto;\n\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return this.WS.cryptoConfig();\n\n              case 2:\n                _context5.t1 = _yield$this$WS$crypto = _context5.sent;\n                _context5.t0 = _context5.t1 === null;\n\n                if (_context5.t0) {\n                  _context5.next = 6;\n                  break;\n                }\n\n                _context5.t0 = _yield$this$WS$crypto === void 0;\n\n              case 6:\n                if (!_context5.t0) {\n                  _context5.next = 10;\n                  break;\n                }\n\n                _context5.t2 = void 0;\n                _context5.next = 11;\n                break;\n\n              case 10:\n                _context5.t2 = _yield$this$WS$crypto.crypto_config;\n\n              case 11:\n                this.crypto_config = _context5.t2;\n\n              case 12:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function setCryptoConfig() {\n        return _setCryptoConfig.apply(this, arguments);\n      }\n\n      return setCryptoConfig;\n    }()\n  }, {\n    key: \"is_withdrawal_locked\",\n    get: function get() {\n      var _client$account_statu;\n\n      var client = this.root_store.client;\n      var authentication = client.account_status.authentication;\n      if (!((_client$account_statu = client.account_status) !== null && _client$account_statu !== void 0 && _client$account_statu.status)) return false;\n      var need_poi = authentication.needs_verification.includes('identity');\n      var need_authentication = this.error.is_ask_authentication && need_poi;\n      return client.is_withdrawal_lock || need_authentication || this.error.is_ask_financial_risk_approval;\n    }\n  }, {\n    key: \"setMaxWithdrawAmount\",\n    value: function setMaxWithdrawAmount(amount) {\n      this.max_withdraw_amount = amount;\n    }\n  }, {\n    key: \"check10kLimit\",\n    value: function () {\n      var _check10kLimit = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n        var _yield$client$getLimi, _yield$client$getLimi2;\n\n        var client, remainder, min_withdrawal, is_limit_reached;\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                client = this.root_store.client;\n                _context6.next = 3;\n                return client.getLimits();\n\n              case 3:\n                _context6.t1 = _yield$client$getLimi = _context6.sent;\n                _context6.t0 = _context6.t1 === null;\n\n                if (_context6.t0) {\n                  _context6.next = 7;\n                  break;\n                }\n\n                _context6.t0 = _yield$client$getLimi === void 0;\n\n              case 7:\n                if (!_context6.t0) {\n                  _context6.next = 11;\n                  break;\n                }\n\n                _context6.t2 = void 0;\n                _context6.next = 12;\n                break;\n\n              case 11:\n                _context6.t2 = (_yield$client$getLimi2 = _yield$client$getLimi.get_limits) === null || _yield$client$getLimi2 === void 0 ? void 0 : _yield$client$getLimi2.remainder;\n\n              case 12:\n                remainder = _context6.t2;\n                this.setMaxWithdrawAmount(remainder);\n                min_withdrawal = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.getMinWithdrawal)(client.currency);\n                is_limit_reached = !!(typeof remainder !== 'undefined' && +remainder < min_withdrawal);\n                this.set10kLimitation(is_limit_reached);\n\n              case 17:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function check10kLimit() {\n        return _check10kLimit.apply(this, arguments);\n      }\n\n      return check10kLimit;\n    }()\n  }, {\n    key: \"set10kLimitation\",\n    value: function set10kLimitation(is_limit_reached) {\n      this.is_10k_withdrawal_limit_reached = is_limit_reached;\n    }\n  }, {\n    key: \"setWithdrawPercentageSelectorResult\",\n    value: function setWithdrawPercentageSelectorResult(amount) {\n      var _this$root_store7 = this.root_store,\n          client = _this$root_store7.client,\n          modules = _this$root_store7.modules;\n      var _modules$cashier = modules.cashier,\n          crypto_fiat_converter = _modules$cashier.crypto_fiat_converter,\n          general_store = _modules$cashier.general_store;\n      var currency = client.currency,\n          current_fiat_currency = client.current_fiat_currency;\n\n      if (amount > 0) {\n        crypto_fiat_converter.setConverterFromAmount(amount);\n        this.validateWithdrawFromAmount();\n        crypto_fiat_converter.onChangeConverterFromAmount({\n          target: {\n            value: amount\n          }\n        }, currency, current_fiat_currency || 'USD');\n      } else {\n        crypto_fiat_converter.resetConverter();\n      }\n\n      crypto_fiat_converter.setIsTimerVisible(false);\n      general_store.percentageSelectorSelectionStatus(false);\n    }\n  }, {\n    key: \"validateWithdrawFromAmount\",\n    value: function validateWithdrawFromAmount() {\n      var _this$crypto_config,\n          _this$crypto_config$c,\n          _this$crypto_config$c2,\n          _this3 = this;\n\n      var error_message = '';\n      var _this$root_store8 = this.root_store,\n          client = _this$root_store8.client,\n          modules = _this$root_store8.modules;\n      var balance = client.balance,\n          currency = client.currency;\n      var crypto_fiat_converter = modules.cashier.crypto_fiat_converter;\n      var converter_from_amount = crypto_fiat_converter.converter_from_amount,\n          setConverterFromError = crypto_fiat_converter.setConverterFromError;\n      var min_withdraw_amount = (_this$crypto_config = this.crypto_config) === null || _this$crypto_config === void 0 ? void 0 : (_this$crypto_config$c = _this$crypto_config.currencies_config) === null || _this$crypto_config$c === void 0 ? void 0 : (_this$crypto_config$c2 = _this$crypto_config$c[currency]) === null || _this$crypto_config$c2 === void 0 ? void 0 : _this$crypto_config$c2.minimum_withdrawal;\n      var max_withdraw_amount = +this.max_withdraw_amount > +balance ? +balance : +this.max_withdraw_amount;\n      var format_balance = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.formatMoney)(currency, balance, true);\n      var format_min_withdraw_amount = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.formatMoney)(currency, min_withdraw_amount, true);\n      var format_max_withdraw_amount = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.formatMoney)(currency, max_withdraw_amount, true);\n\n      if (converter_from_amount) {\n        var _validNumber = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.validNumber)(converter_from_amount, {\n          type: 'float',\n          decimals: (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.getDecimalPlaces)(currency)\n        }),\n            is_ok = _validNumber.is_ok,\n            message = _validNumber.message;\n\n        if (!is_ok) error_message = message;else if (+balance < +converter_from_amount) error_message = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Insufficient funds');else if (+balance < +min_withdraw_amount) {\n          error_message = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Your balance ({{format_balance}} {{currency}}) is less than the current minimum withdrawal allowed ({{format_min_withdraw_amount}} {{currency}}). Please top up your account to continue with your withdrawal.', {\n            format_balance: format_balance,\n            currency: currency,\n            format_min_withdraw_amount: format_min_withdraw_amount\n          });\n        } else if (+converter_from_amount < +min_withdraw_amount || +converter_from_amount > +max_withdraw_amount) {\n          error_message = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('The current allowed withdraw amount is {{format_min_withdraw_amount}} to {{format_max_withdraw_amount}} {{currency}}', {\n            format_min_withdraw_amount: format_min_withdraw_amount,\n            format_max_withdraw_amount: format_max_withdraw_amount,\n            currency: currency\n          });\n        }\n\n        if ((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.isMobile)() && error_message.length > 35) {\n          var error_content = error_message;\n          error_message = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_deriv_components__WEBPACK_IMPORTED_MODULE_4__.ReadMore, {\n            expand_text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('more'),\n            text: error_content,\n            collapse_length: 28,\n            openDialog: function openDialog() {\n              return _this3.error.setErrorMessage({\n                code: 'CryptoWithdrawalReadMore',\n                message: error_content\n              });\n            },\n            show_dialog: true\n          });\n        }\n      }\n\n      setConverterFromError(error_message);\n    }\n  }, {\n    key: \"validateWithdrawToAmount\",\n    value: function validateWithdrawToAmount() {\n      var error_message = '';\n      var _this$root_store9 = this.root_store,\n          client = _this$root_store9.client,\n          modules = _this$root_store9.modules;\n      var current_fiat_currency = client.current_fiat_currency;\n      var _modules$cashier$cryp = modules.cashier.crypto_fiat_converter,\n          converter_to_amount = _modules$cashier$cryp.converter_to_amount,\n          setConverterToError = _modules$cashier$cryp.setConverterToError;\n\n      if (converter_to_amount) {\n        var _validNumber2 = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.validNumber)(converter_to_amount, {\n          type: 'float',\n          decimals: (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.getDecimalPlaces)(current_fiat_currency)\n        }),\n            is_ok = _validNumber2.is_ok,\n            message = _validNumber2.message;\n\n        if (!is_ok) error_message = message;\n      }\n\n      setConverterToError(error_message);\n    }\n  }, {\n    key: \"account_platform_icon\",\n    get: function get() {\n      var _this$root_store$clie = this.root_store.client,\n          account_list = _this$root_store$clie.account_list,\n          loginid = _this$root_store$clie.loginid;\n      var platform_icon = account_list.find(function (acc) {\n        return loginid === acc.loginid;\n      }).icon;\n      return platform_icon;\n    }\n  }]);\n\n  return WithdrawStore;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zdG9yZXMvd2l0aGRyYXctc3RvcmUuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQUE7QUFBQTs7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXpCQTtBQTRCQTtBQUNBO0FBQ0E7Ozs7QUFXQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7OztBQUVBO0FBQUE7O0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBOztBQUZBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBU0E7QUFUQTs7QUFBQTtBQUFBO0FBQUE7QUFjQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUFBO0FBQUE7QUFBQTs7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUF6QkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7Ozs7Ozs7O0FBNEJBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFIQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBOztBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUF0QkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7Ozs7Ozs7QUF5QkE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7OztBQUVBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFhQTtBQUNBO0FBRUE7QUFoQkE7QUFBQTs7QUFBQTtBQW1CQTtBQUNBO0FBQ0E7QUFDQTs7QUF0QkE7QUFBQTtBQUFBO0FBQUE7O0FBeUJBO0FBekJBOztBQUFBO0FBNkJBO0FBQ0E7O0FBOUJBO0FBQUE7QUFBQTtBQUFBOztBQWdDQTtBQUVBOztBQWxDQTs7QUFBQTtBQUFBO0FBQUE7QUF1Q0E7QUFEQTs7QUF0Q0E7QUFzQ0E7O0FBdENBO0FBQUE7QUFBQTtBQUFBOztBQTRDQTtBQTVDQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQWdEQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBRUE7QUFDQTs7QUF4REE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQTBEQTtBQTFEQTtBQUFBOztBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQTZEQTtBQUNBO0FBQ0E7QUFDQTs7QUFoRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7Ozs7Ozs7O0FBb0VBO0FBQUE7O0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7O0FBSkE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7O0FBUkE7QUFRQTtBQVJBO0FBQUE7O0FBQUE7QUFlQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBZkE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFtQkE7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBOztBQTdCQTtBQUFBOztBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQWdDQTs7QUFoQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7Ozs7Ozs7O0FBb0NBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBOztBQUFBO0FBQ0E7O0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7Ozs7Ozs7QUFJQTtBQUFBOztBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7Ozs7QUFFQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7O0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQVBBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7Ozs7Ozs7O0FBVUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBQUE7QUFBQTs7QUFJQTtBQUdBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBREE7QUFHQTtBQVBBO0FBVUE7QUFDQTs7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUFBO0FBQUE7O0FBSUE7QUFDQTs7QUFFQTtBQUNBOzs7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvY2FzaGllci8uL3N0b3Jlcy93aXRoZHJhdy1zdG9yZS5qcz81ZmRjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBhY3Rpb24sIGNvbXB1dGVkLCBvYnNlcnZhYmxlLCBtYWtlT2JzZXJ2YWJsZSB9IGZyb20gJ21vYngnO1xuaW1wb3J0IHsgZm9ybWF0TW9uZXksIGdldERlY2ltYWxQbGFjZXMsIGdldE1pbldpdGhkcmF3YWwsIGlzTW9iaWxlLCB2YWxpZE51bWJlciB9IGZyb20gJ0BkZXJpdi9zaGFyZWQnO1xuaW1wb3J0IHsgbG9jYWxpemUgfSBmcm9tICdAZGVyaXYvdHJhbnNsYXRpb25zJztcbmltcG9ydCB7IFJlYWRNb3JlIH0gZnJvbSAnQGRlcml2L2NvbXBvbmVudHMnO1xuaW1wb3J0IENvbnN0YW50cyBmcm9tICdDb25zdGFudHMvY29uc3RhbnRzJztcbmltcG9ydCBFcnJvclN0b3JlIGZyb20gJy4vZXJyb3Itc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXaXRoZHJhd1N0b3JlIHtcbiAgICBjb25zdHJ1Y3Rvcih7IFdTLCByb290X3N0b3JlIH0pIHtcbiAgICAgICAgbWFrZU9ic2VydmFibGUodGhpcywge1xuICAgICAgICAgICAgYmxvY2tjaGFpbl9hZGRyZXNzOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgY29udGFpbmVyOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgZXJyb3I6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBpc18xMGtfd2l0aGRyYXdhbF9saW1pdF9yZWFjaGVkOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgaXNfd2l0aGRyYXdfY29uZmlybWVkOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgd2l0aGRyYXdfYW1vdW50OiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgbWF4X3dpdGhkcmF3X2Ftb3VudDogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGNyeXB0b19jb25maWc6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBzZXRJc1dpdGhkcmF3Q29uZmlybWVkOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRXaXRoZHJhd0Ftb3VudDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgcmVxdWVzdFdpdGhkcmF3OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzYXZlV2l0aGRyYXc6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHJlc2V0V2l0aHJhd0Zvcm06IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldEJsb2NrY2hhaW5BZGRyZXNzOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBvbk1vdW50V2l0aGRyYXc6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIG9uTW91bnRDcnlwdG9XaXRoZHJhdzogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgaXNfd2l0aGRyYXdhbF9sb2NrZWQ6IGNvbXB1dGVkLFxuICAgICAgICAgICAgc2V0TWF4V2l0aGRyYXdBbW91bnQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIGNoZWNrMTBrTGltaXQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldDEwa0xpbWl0YXRpb246IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldENyeXB0b0NvbmZpZzogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0V2l0aGRyYXdQZXJjZW50YWdlU2VsZWN0b3JSZXN1bHQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHZhbGlkYXRlV2l0aGRyYXdGcm9tQW1vdW50OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICB2YWxpZGF0ZVdpdGhkcmF3VG9BbW91bnQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIGFjY291bnRfcGxhdGZvcm1faWNvbjogY29tcHV0ZWQsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMucm9vdF9zdG9yZSA9IHJvb3Rfc3RvcmU7XG4gICAgICAgIHRoaXMuV1MgPSBXUztcbiAgICB9XG5cbiAgICBibG9ja2NoYWluX2FkZHJlc3MgPSAnJztcbiAgICBjb250YWluZXIgPSBDb25zdGFudHMuY29udGFpbmVycy53aXRoZHJhdztcbiAgICBlcnJvciA9IG5ldyBFcnJvclN0b3JlKCk7XG4gICAgaXNfMTBrX3dpdGhkcmF3YWxfbGltaXRfcmVhY2hlZCA9IHVuZGVmaW5lZDtcbiAgICBpc193aXRoZHJhd19jb25maXJtZWQgPSBmYWxzZTtcbiAgICB3aXRoZHJhd19hbW91bnQgPSAnJztcbiAgICBtYXhfd2l0aGRyYXdfYW1vdW50ID0gMDtcbiAgICBjcnlwdG9fY29uZmlnID0ge307XG5cbiAgICBzZXRJc1dpdGhkcmF3Q29uZmlybWVkKGlzX3dpdGhkcmF3X2NvbmZpcm1lZCkge1xuICAgICAgICBjb25zdCB7IGNvbnZlcnRlcl9mcm9tX2Ftb3VudCB9ID0gdGhpcy5yb290X3N0b3JlLm1vZHVsZXMuY2FzaGllci5jcnlwdG9fZmlhdF9jb252ZXJ0ZXI7XG4gICAgICAgIHRoaXMuaXNfd2l0aGRyYXdfY29uZmlybWVkID0gaXNfd2l0aGRyYXdfY29uZmlybWVkO1xuXG4gICAgICAgIGlmIChpc193aXRoZHJhd19jb25maXJtZWQpIHRoaXMuc2V0V2l0aGRyYXdBbW91bnQoY29udmVydGVyX2Zyb21fYW1vdW50KTtcblxuICAgICAgICBpZiAoIWlzX3dpdGhkcmF3X2NvbmZpcm1lZCkge1xuICAgICAgICAgICAgY29uc3QgeyBjbGllbnQsIG1vZHVsZXMgfSA9IHRoaXMucm9vdF9zdG9yZTtcbiAgICAgICAgICAgIGNvbnN0IHsgYWN0aXZlX2NvbnRhaW5lciB9ID0gbW9kdWxlcy5jYXNoaWVyLmdlbmVyYWxfc3RvcmU7XG4gICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBDb25zdGFudHMubWFwX2FjdGlvblthY3RpdmVfY29udGFpbmVyXTtcblxuICAgICAgICAgICAgY2xpZW50LnNldFZlcmlmaWNhdGlvbkNvZGUoJycsIGNvbnRhaW5lcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRXaXRoZHJhd0Ftb3VudChhbW91bnQpIHtcbiAgICAgICAgdGhpcy53aXRoZHJhd19hbW91bnQgPSBhbW91bnQ7XG4gICAgfVxuXG4gICAgYXN5bmMgcmVxdWVzdFdpdGhkcmF3KHZlcmlmaWNhdGlvbl9jb2RlKSB7XG4gICAgICAgIGNvbnN0IHsgY2xpZW50LCBtb2R1bGVzIH0gPSB0aGlzLnJvb3Rfc3RvcmU7XG4gICAgICAgIGNvbnN0IHsgY3J5cHRvX2ZpYXRfY29udmVydGVyIH0gPSBtb2R1bGVzLmNhc2hpZXI7XG5cbiAgICAgICAgaWYgKCFjbGllbnQuaXNfbG9nZ2VkX2luKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWNyeXB0b19maWF0X2NvbnZlcnRlci5jb252ZXJ0ZXJfZnJvbV9hbW91bnQpIHtcbiAgICAgICAgICAgIGNyeXB0b19maWF0X2NvbnZlcnRlci5zZXRDb252ZXJ0ZXJGcm9tRXJyb3IobG9jYWxpemUoJ1RoaXMgZmllbGQgaXMgcmVxdWlyZWQuJykpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgdGhpcy5XUy5jcnlwdG9XaXRoZHJhdyh7XG4gICAgICAgICAgICBhZGRyZXNzOiB0aGlzLmJsb2NrY2hhaW5fYWRkcmVzcyxcbiAgICAgICAgICAgIGFtb3VudDogK2NyeXB0b19maWF0X2NvbnZlcnRlci5jb252ZXJ0ZXJfZnJvbV9hbW91bnQsXG4gICAgICAgICAgICB2ZXJpZmljYXRpb25fY29kZSxcbiAgICAgICAgICAgIGRyeV9ydW46IDEsXG4gICAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lcnJvci5zZXRFcnJvck1lc3NhZ2UoeyBjb2RlOiAnQ3J5cHRvV2l0aGRyYXdhbEVycm9yJywgbWVzc2FnZTogcmVzcG9uc2UuZXJyb3IubWVzc2FnZSB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldENyeXB0b0NvbmZpZygpLnRoZW4oKCkgPT4gdGhpcy52YWxpZGF0ZVdpdGhkcmF3RnJvbUFtb3VudCgpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zYXZlV2l0aGRyYXcodmVyaWZpY2F0aW9uX2NvZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhc3luYyBzYXZlV2l0aGRyYXcodmVyaWZpY2F0aW9uX2NvZGUpIHtcbiAgICAgICAgY29uc3QgeyBjb252ZXJ0ZXJfZnJvbV9hbW91bnQgfSA9IHRoaXMucm9vdF9zdG9yZS5tb2R1bGVzLmNhc2hpZXIuY3J5cHRvX2ZpYXRfY29udmVydGVyO1xuXG4gICAgICAgIHRoaXMuZXJyb3Iuc2V0RXJyb3JNZXNzYWdlKCcnKTtcbiAgICAgICAgYXdhaXQgdGhpcy5XUy5jcnlwdG9XaXRoZHJhdyh7XG4gICAgICAgICAgICBhZGRyZXNzOiB0aGlzLmJsb2NrY2hhaW5fYWRkcmVzcyxcbiAgICAgICAgICAgIGFtb3VudDogK2NvbnZlcnRlcl9mcm9tX2Ftb3VudCxcbiAgICAgICAgICAgIHZlcmlmaWNhdGlvbl9jb2RlLFxuICAgICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5lcnJvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3Iuc2V0RXJyb3JNZXNzYWdlKHJlc3BvbnNlLmVycm9yKTtcbiAgICAgICAgICAgICAgICBpZiAodmVyaWZpY2F0aW9uX2NvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBjbGllbnQsIG1vZHVsZXMgfSA9IHRoaXMucm9vdF9zdG9yZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBhY3RpdmVfY29udGFpbmVyIH0gPSBtb2R1bGVzLmNhc2hpZXIuZ2VuZXJhbF9zdG9yZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gQ29uc3RhbnRzLm1hcF9hY3Rpb25bYWN0aXZlX2NvbnRhaW5lcl07XG5cbiAgICAgICAgICAgICAgICAgICAgY2xpZW50LnNldFZlcmlmaWNhdGlvbkNvZGUoJycsIGNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucmVzZXRXaXRocmF3Rm9ybSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldElzV2l0aGRyYXdDb25maXJtZWQodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlc2V0V2l0aHJhd0Zvcm0oKSB7XG4gICAgICAgIGNvbnN0IHsgc2V0Q29udmVydGVyRnJvbUFtb3VudCwgc2V0Q29udmVydGVyVG9BbW91bnQgfSA9IHRoaXMucm9vdF9zdG9yZS5tb2R1bGVzLmNhc2hpZXIuY3J5cHRvX2ZpYXRfY29udmVydGVyO1xuICAgICAgICBjb25zdCB7IGNsaWVudCwgbW9kdWxlcyB9ID0gdGhpcy5yb290X3N0b3JlO1xuICAgICAgICBjb25zdCB7IGFjdGl2ZV9jb250YWluZXIgfSA9IG1vZHVsZXMuY2FzaGllci5nZW5lcmFsX3N0b3JlO1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBDb25zdGFudHMubWFwX2FjdGlvblthY3RpdmVfY29udGFpbmVyXTtcblxuICAgICAgICB0aGlzLnNldEJsb2NrY2hhaW5BZGRyZXNzKCcnKTtcbiAgICAgICAgc2V0Q29udmVydGVyRnJvbUFtb3VudCgnJyk7XG4gICAgICAgIHNldENvbnZlcnRlclRvQW1vdW50KCcnKTtcbiAgICAgICAgY2xpZW50LnNldFZlcmlmaWNhdGlvbkNvZGUoJycsIGNvbnRhaW5lcik7XG4gICAgfVxuXG4gICAgc2V0QmxvY2tjaGFpbkFkZHJlc3MoYWRkcmVzcykge1xuICAgICAgICB0aGlzLmJsb2NrY2hhaW5fYWRkcmVzcyA9IGFkZHJlc3M7XG4gICAgfVxuXG4gICAgd2lsbE1vdW50V2l0aGRyYXcodmVyaWZpY2F0aW9uX2NvZGUpIHtcbiAgICAgICAgaWYgKHRoaXMgJiYgdGhpcy5yb290X3N0b3JlICYmIHZlcmlmaWNhdGlvbl9jb2RlKSB7XG4gICAgICAgICAgICBjb25zdCB7IGNsaWVudCwgbW9kdWxlcyB9ID0gdGhpcy5yb290X3N0b3JlO1xuICAgICAgICAgICAgY29uc3QgeyBhY3RpdmVfY29udGFpbmVyIH0gPSBtb2R1bGVzLmNhc2hpZXIuZ2VuZXJhbF9zdG9yZTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IENvbnN0YW50cy5tYXBfYWN0aW9uW2FjdGl2ZV9jb250YWluZXJdO1xuXG4gICAgICAgICAgICBjbGllbnQuc2V0VmVyaWZpY2F0aW9uQ29kZSgnJywgY29udGFpbmVyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIG9uTW91bnRXaXRoZHJhdyh2ZXJpZmljYXRpb25fY29kZSkge1xuICAgICAgICBjb25zdCB7IGNsaWVudCwgbW9kdWxlcyB9ID0gdGhpcy5yb290X3N0b3JlO1xuICAgICAgICBjb25zdCB7IGFjdGl2ZV9jb250YWluZXIsIGlzX2NyeXB0bywgb25Nb3VudENvbW1vbiwgc2V0TG9hZGluZywgc2V0T25SZW1vdW50IH0gPSBtb2R1bGVzLmNhc2hpZXIuZ2VuZXJhbF9zdG9yZTtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgY2hlY2tJZnJhbWVMb2FkZWQsXG4gICAgICAgICAgICBjbGVhclRpbWVvdXRDYXNoaWVyVXJsLFxuICAgICAgICAgICAgY2xlYXJJZnJhbWUsXG4gICAgICAgICAgICBpc19zZXNzaW9uX3RpbWVvdXQsXG4gICAgICAgICAgICBzZXRDb250YWluZXJIZWlnaHQsXG4gICAgICAgICAgICBzZXRJZnJhbWVVcmwsXG4gICAgICAgICAgICBzZXRTZXNzaW9uVGltZW91dCxcbiAgICAgICAgICAgIHNldFRpbWVvdXRDYXNoaWVyVXJsLFxuICAgICAgICB9ID0gbW9kdWxlcy5jYXNoaWVyLmlmcmFtZTtcbiAgICAgICAgY29uc3QgeyBpc192aXJ0dWFsIH0gPSBjbGllbnQ7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRfY29udGFpbmVyID0gYWN0aXZlX2NvbnRhaW5lcjtcblxuICAgICAgICBzZXRPblJlbW91bnQodGhpcy5vbk1vdW50V2l0aGRyYXcpO1xuICAgICAgICBhd2FpdCBvbk1vdW50Q29tbW9uKCk7XG5cbiAgICAgICAgdGhpcy5lcnJvci5zZXRFcnJvck1lc3NhZ2UoJycpO1xuICAgICAgICBzZXRDb250YWluZXJIZWlnaHQoMCk7XG4gICAgICAgIGNsZWFySWZyYW1lKCk7XG4gICAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG5cbiAgICAgICAgaWYgKCFpc19zZXNzaW9uX3RpbWVvdXQpIHtcbiAgICAgICAgICAgIGNoZWNrSWZyYW1lTG9hZGVkKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBzZXNzaW9uIGhhcyB0aW1lZCBvdXQgcmVzZXQgZXZlcnl0aGluZ1xuICAgICAgICBzZXRJZnJhbWVVcmwoJycpO1xuICAgICAgICBpZiAoIXZlcmlmaWNhdGlvbl9jb2RlIHx8IGlzX3ZpcnR1YWwpIHtcbiAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgLy8gaWYgdmlydHVhbCwgY2xlYXIgZXZlcnl0aGluZyBhbmQgZG9uJ3QgcHJvY2VlZCBmdXJ0aGVyXG4gICAgICAgICAgICAvLyBpZiBubyB2ZXJpZmljYXRpb24gY29kZSwgd2Ugc2hvdWxkIHJlcXVlc3QgYWdhaW5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlX2Nhc2hpZXIgPSBhd2FpdCB0aGlzLldTLmF1dGhvcml6ZWQuY2FzaGllcihhY3RpdmVfY29udGFpbmVyLCB7XG4gICAgICAgICAgICB2ZXJpZmljYXRpb25fY29kZSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaWYgdGFiIGNoYW5nZWQgd2hpbGUgd2FpdGluZyBmb3IgcmVzcG9uc2UsIGlnbm9yZSBpdFxuICAgICAgICBpZiAoY3VycmVudF9jb250YWluZXIgIT09IGFjdGl2ZV9jb250YWluZXIpIHtcbiAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXNwb25zZV9jYXNoaWVyLmVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmVycm9yLmhhbmRsZUNhc2hpZXJFcnJvcihyZXNwb25zZV9jYXNoaWVyLmVycm9yKTtcbiAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgc2V0U2Vzc2lvblRpbWVvdXQodHJ1ZSk7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXRDYXNoaWVyVXJsKCk7XG4gICAgICAgICAgICBpZiAodmVyaWZpY2F0aW9uX2NvZGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBDb25zdGFudHMubWFwX2FjdGlvblthY3RpdmVfY29udGFpbmVyXTtcblxuICAgICAgICAgICAgICAgIGNsaWVudC5zZXRWZXJpZmljYXRpb25Db2RlKCcnLCBjb250YWluZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGlzX2NyeXB0bykge1xuICAgICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCBjaGVja0lmcmFtZUxvYWRlZCgpO1xuICAgICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICBzZXRJZnJhbWVVcmwocmVzcG9uc2VfY2FzaGllci5jYXNoaWVyKTtcbiAgICAgICAgICAgIHNldFNlc3Npb25UaW1lb3V0KGZhbHNlKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXRDYXNoaWVyVXJsKHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgb25Nb3VudENyeXB0b1dpdGhkcmF3KHZlcmlmaWNhdGlvbl9jb2RlKSB7XG4gICAgICAgIGNvbnN0IHsgY3J5cHRvX2ZpYXRfY29udmVydGVyLCBnZW5lcmFsX3N0b3JlLCBpZnJhbWUgfSA9IHRoaXMucm9vdF9zdG9yZS5tb2R1bGVzLmNhc2hpZXI7XG5cbiAgICAgICAgZ2VuZXJhbF9zdG9yZS5zZXRMb2FkaW5nKHRydWUpO1xuICAgICAgICBjb25zdCBzdHJfcmVnX2V4cCA9IC9eXFx3ezgsMTI4fSQvO1xuICAgICAgICBsZXQgcmVzcG9uc2VfY2FzaGllcjtcblxuICAgICAgICBpZiAoc3RyX3JlZ19leHAudGVzdCh2ZXJpZmljYXRpb25fY29kZSkpIHtcbiAgICAgICAgICAgIHJlc3BvbnNlX2Nhc2hpZXIgPSBhd2FpdCB0aGlzLldTLmNyeXB0b1dpdGhkcmF3KHtcbiAgICAgICAgICAgICAgICBhZGRyZXNzOiB0aGlzLmJsb2NrY2hhaW5fYWRkcmVzcyxcbiAgICAgICAgICAgICAgICBhbW91bnQ6ICtjcnlwdG9fZmlhdF9jb252ZXJ0ZXIuY29udmVydGVyX2Zyb21fYW1vdW50LFxuICAgICAgICAgICAgICAgIHZlcmlmaWNhdGlvbl9jb2RlLFxuICAgICAgICAgICAgICAgIGRyeV9ydW46IDEsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3BvbnNlX2Nhc2hpZXIgPSB7IGVycm9yOiB7IGNvZGU6ICdJbnZhbGlkVG9rZW4nLCBtZXNzYWdlOiAnWW91ciB0b2tlbiBoYXMgZXhwaXJlZCBvciBpcyBpbnZhbGlkLicgfSB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlc3BvbnNlX2Nhc2hpZXIuZXJyb3I/LmNvZGUgPT09ICdJbnZhbGlkVG9rZW4nKSB7XG4gICAgICAgICAgICB0aGlzLmVycm9yLmhhbmRsZUNhc2hpZXJFcnJvcihyZXNwb25zZV9jYXNoaWVyLmVycm9yKTtcbiAgICAgICAgICAgIGdlbmVyYWxfc3RvcmUuc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICBpZnJhbWUuc2V0U2Vzc2lvblRpbWVvdXQodHJ1ZSk7XG4gICAgICAgICAgICBpZnJhbWUuY2xlYXJUaW1lb3V0Q2FzaGllclVybCgpO1xuICAgICAgICAgICAgaWYgKHZlcmlmaWNhdGlvbl9jb2RlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBjbGllbnQsIG1vZHVsZXMgfSA9IHRoaXMucm9vdF9zdG9yZTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGFjdGl2ZV9jb250YWluZXIgfSA9IG1vZHVsZXMuY2FzaGllci5nZW5lcmFsX3N0b3JlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IENvbnN0YW50cy5tYXBfYWN0aW9uW2FjdGl2ZV9jb250YWluZXJdO1xuXG4gICAgICAgICAgICAgICAgY2xpZW50LnNldFZlcmlmaWNhdGlvbkNvZGUoJycsIGNvbnRhaW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnNldENyeXB0b0NvbmZpZygpO1xuICAgICAgICAgICAgZ2VuZXJhbF9zdG9yZS5zZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIHNldENyeXB0b0NvbmZpZygpIHtcbiAgICAgICAgdGhpcy5jcnlwdG9fY29uZmlnID0gKGF3YWl0IHRoaXMuV1MuY3J5cHRvQ29uZmlnKCkpPy5jcnlwdG9fY29uZmlnO1xuICAgIH1cblxuICAgIGdldCBpc193aXRoZHJhd2FsX2xvY2tlZCgpIHtcbiAgICAgICAgY29uc3QgeyBjbGllbnQgfSA9IHRoaXMucm9vdF9zdG9yZTtcbiAgICAgICAgY29uc3QgeyBhdXRoZW50aWNhdGlvbiB9ID0gY2xpZW50LmFjY291bnRfc3RhdHVzO1xuXG4gICAgICAgIGlmICghY2xpZW50LmFjY291bnRfc3RhdHVzPy5zdGF0dXMpIHJldHVybiBmYWxzZTtcbiAgICAgICAgY29uc3QgbmVlZF9wb2kgPSBhdXRoZW50aWNhdGlvbi5uZWVkc192ZXJpZmljYXRpb24uaW5jbHVkZXMoJ2lkZW50aXR5Jyk7XG4gICAgICAgIGNvbnN0IG5lZWRfYXV0aGVudGljYXRpb24gPSB0aGlzLmVycm9yLmlzX2Fza19hdXRoZW50aWNhdGlvbiAmJiBuZWVkX3BvaTtcblxuICAgICAgICByZXR1cm4gY2xpZW50LmlzX3dpdGhkcmF3YWxfbG9jayB8fCBuZWVkX2F1dGhlbnRpY2F0aW9uIHx8IHRoaXMuZXJyb3IuaXNfYXNrX2ZpbmFuY2lhbF9yaXNrX2FwcHJvdmFsO1xuICAgIH1cblxuICAgIHNldE1heFdpdGhkcmF3QW1vdW50KGFtb3VudCkge1xuICAgICAgICB0aGlzLm1heF93aXRoZHJhd19hbW91bnQgPSBhbW91bnQ7XG4gICAgfVxuXG4gICAgYXN5bmMgY2hlY2sxMGtMaW1pdCgpIHtcbiAgICAgICAgY29uc3QgeyBjbGllbnQgfSA9IHRoaXMucm9vdF9zdG9yZTtcblxuICAgICAgICBjb25zdCByZW1haW5kZXIgPSAoYXdhaXQgY2xpZW50LmdldExpbWl0cygpKT8uZ2V0X2xpbWl0cz8ucmVtYWluZGVyO1xuICAgICAgICB0aGlzLnNldE1heFdpdGhkcmF3QW1vdW50KHJlbWFpbmRlcik7XG4gICAgICAgIGNvbnN0IG1pbl93aXRoZHJhd2FsID0gZ2V0TWluV2l0aGRyYXdhbChjbGllbnQuY3VycmVuY3kpO1xuICAgICAgICBjb25zdCBpc19saW1pdF9yZWFjaGVkID0gISEodHlwZW9mIHJlbWFpbmRlciAhPT0gJ3VuZGVmaW5lZCcgJiYgK3JlbWFpbmRlciA8IG1pbl93aXRoZHJhd2FsKTtcbiAgICAgICAgdGhpcy5zZXQxMGtMaW1pdGF0aW9uKGlzX2xpbWl0X3JlYWNoZWQpO1xuICAgIH1cblxuICAgIHNldDEwa0xpbWl0YXRpb24oaXNfbGltaXRfcmVhY2hlZCkge1xuICAgICAgICB0aGlzLmlzXzEwa193aXRoZHJhd2FsX2xpbWl0X3JlYWNoZWQgPSBpc19saW1pdF9yZWFjaGVkO1xuICAgIH1cblxuICAgIHNldFdpdGhkcmF3UGVyY2VudGFnZVNlbGVjdG9yUmVzdWx0KGFtb3VudCkge1xuICAgICAgICBjb25zdCB7IGNsaWVudCwgbW9kdWxlcyB9ID0gdGhpcy5yb290X3N0b3JlO1xuICAgICAgICBjb25zdCB7IGNyeXB0b19maWF0X2NvbnZlcnRlciwgZ2VuZXJhbF9zdG9yZSB9ID0gbW9kdWxlcy5jYXNoaWVyO1xuICAgICAgICBjb25zdCB7IGN1cnJlbmN5LCBjdXJyZW50X2ZpYXRfY3VycmVuY3kgfSA9IGNsaWVudDtcblxuICAgICAgICBpZiAoYW1vdW50ID4gMCkge1xuICAgICAgICAgICAgY3J5cHRvX2ZpYXRfY29udmVydGVyLnNldENvbnZlcnRlckZyb21BbW91bnQoYW1vdW50KTtcbiAgICAgICAgICAgIHRoaXMudmFsaWRhdGVXaXRoZHJhd0Zyb21BbW91bnQoKTtcbiAgICAgICAgICAgIGNyeXB0b19maWF0X2NvbnZlcnRlci5vbkNoYW5nZUNvbnZlcnRlckZyb21BbW91bnQoXG4gICAgICAgICAgICAgICAgeyB0YXJnZXQ6IHsgdmFsdWU6IGFtb3VudCB9IH0sXG4gICAgICAgICAgICAgICAgY3VycmVuY3ksXG4gICAgICAgICAgICAgICAgY3VycmVudF9maWF0X2N1cnJlbmN5IHx8ICdVU0QnXG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3J5cHRvX2ZpYXRfY29udmVydGVyLnJlc2V0Q29udmVydGVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgY3J5cHRvX2ZpYXRfY29udmVydGVyLnNldElzVGltZXJWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgZ2VuZXJhbF9zdG9yZS5wZXJjZW50YWdlU2VsZWN0b3JTZWxlY3Rpb25TdGF0dXMoZmFsc2UpO1xuICAgIH1cblxuICAgIHZhbGlkYXRlV2l0aGRyYXdGcm9tQW1vdW50KCkge1xuICAgICAgICBsZXQgZXJyb3JfbWVzc2FnZSA9ICcnO1xuXG4gICAgICAgIGNvbnN0IHsgY2xpZW50LCBtb2R1bGVzIH0gPSB0aGlzLnJvb3Rfc3RvcmU7XG4gICAgICAgIGNvbnN0IHsgYmFsYW5jZSwgY3VycmVuY3kgfSA9IGNsaWVudDtcbiAgICAgICAgY29uc3QgeyBjcnlwdG9fZmlhdF9jb252ZXJ0ZXIgfSA9IG1vZHVsZXMuY2FzaGllcjtcbiAgICAgICAgY29uc3QgeyBjb252ZXJ0ZXJfZnJvbV9hbW91bnQsIHNldENvbnZlcnRlckZyb21FcnJvciB9ID0gY3J5cHRvX2ZpYXRfY29udmVydGVyO1xuXG4gICAgICAgIGNvbnN0IG1pbl93aXRoZHJhd19hbW91bnQgPSB0aGlzLmNyeXB0b19jb25maWc/LmN1cnJlbmNpZXNfY29uZmlnPy5bY3VycmVuY3ldPy5taW5pbXVtX3dpdGhkcmF3YWw7XG4gICAgICAgIGNvbnN0IG1heF93aXRoZHJhd19hbW91bnQgPSArdGhpcy5tYXhfd2l0aGRyYXdfYW1vdW50ID4gK2JhbGFuY2UgPyArYmFsYW5jZSA6ICt0aGlzLm1heF93aXRoZHJhd19hbW91bnQ7XG5cbiAgICAgICAgY29uc3QgZm9ybWF0X2JhbGFuY2UgPSBmb3JtYXRNb25leShjdXJyZW5jeSwgYmFsYW5jZSwgdHJ1ZSk7XG4gICAgICAgIGNvbnN0IGZvcm1hdF9taW5fd2l0aGRyYXdfYW1vdW50ID0gZm9ybWF0TW9uZXkoY3VycmVuY3ksIG1pbl93aXRoZHJhd19hbW91bnQsIHRydWUpO1xuICAgICAgICBjb25zdCBmb3JtYXRfbWF4X3dpdGhkcmF3X2Ftb3VudCA9IGZvcm1hdE1vbmV5KGN1cnJlbmN5LCBtYXhfd2l0aGRyYXdfYW1vdW50LCB0cnVlKTtcblxuICAgICAgICBpZiAoY29udmVydGVyX2Zyb21fYW1vdW50KSB7XG4gICAgICAgICAgICBjb25zdCB7IGlzX29rLCBtZXNzYWdlIH0gPSB2YWxpZE51bWJlcihjb252ZXJ0ZXJfZnJvbV9hbW91bnQsIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZmxvYXQnLFxuICAgICAgICAgICAgICAgIGRlY2ltYWxzOiBnZXREZWNpbWFsUGxhY2VzKGN1cnJlbmN5KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFpc19vaykgZXJyb3JfbWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgICAgICBlbHNlIGlmICgrYmFsYW5jZSA8ICtjb252ZXJ0ZXJfZnJvbV9hbW91bnQpIGVycm9yX21lc3NhZ2UgPSBsb2NhbGl6ZSgnSW5zdWZmaWNpZW50IGZ1bmRzJyk7XG4gICAgICAgICAgICBlbHNlIGlmICgrYmFsYW5jZSA8ICttaW5fd2l0aGRyYXdfYW1vdW50KSB7XG4gICAgICAgICAgICAgICAgZXJyb3JfbWVzc2FnZSA9IGxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICAnWW91ciBiYWxhbmNlICh7e2Zvcm1hdF9iYWxhbmNlfX0ge3tjdXJyZW5jeX19KSBpcyBsZXNzIHRoYW4gdGhlIGN1cnJlbnQgbWluaW11bSB3aXRoZHJhd2FsIGFsbG93ZWQgKHt7Zm9ybWF0X21pbl93aXRoZHJhd19hbW91bnR9fSB7e2N1cnJlbmN5fX0pLiBQbGVhc2UgdG9wIHVwIHlvdXIgYWNjb3VudCB0byBjb250aW51ZSB3aXRoIHlvdXIgd2l0aGRyYXdhbC4nLFxuICAgICAgICAgICAgICAgICAgICB7IGZvcm1hdF9iYWxhbmNlLCBjdXJyZW5jeSwgZm9ybWF0X21pbl93aXRoZHJhd19hbW91bnQgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCtjb252ZXJ0ZXJfZnJvbV9hbW91bnQgPCArbWluX3dpdGhkcmF3X2Ftb3VudCB8fCArY29udmVydGVyX2Zyb21fYW1vdW50ID4gK21heF93aXRoZHJhd19hbW91bnQpIHtcbiAgICAgICAgICAgICAgICBlcnJvcl9tZXNzYWdlID0gbG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAgICdUaGUgY3VycmVudCBhbGxvd2VkIHdpdGhkcmF3IGFtb3VudCBpcyB7e2Zvcm1hdF9taW5fd2l0aGRyYXdfYW1vdW50fX0gdG8ge3tmb3JtYXRfbWF4X3dpdGhkcmF3X2Ftb3VudH19IHt7Y3VycmVuY3l9fScsXG4gICAgICAgICAgICAgICAgICAgIHsgZm9ybWF0X21pbl93aXRoZHJhd19hbW91bnQsIGZvcm1hdF9tYXhfd2l0aGRyYXdfYW1vdW50LCBjdXJyZW5jeSB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzTW9iaWxlKCkgJiYgZXJyb3JfbWVzc2FnZS5sZW5ndGggPiAzNSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yX2NvbnRlbnQgPSBlcnJvcl9tZXNzYWdlO1xuICAgICAgICAgICAgICAgIGVycm9yX21lc3NhZ2UgPSAoXG4gICAgICAgICAgICAgICAgICAgIDxSZWFkTW9yZVxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwYW5kX3RleHQ9e2xvY2FsaXplKCdtb3JlJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0PXtlcnJvcl9jb250ZW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGFwc2VfbGVuZ3RoPXsyOH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5EaWFsb2c9eygpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvci5zZXRFcnJvck1lc3NhZ2UoeyBjb2RlOiAnQ3J5cHRvV2l0aGRyYXdhbFJlYWRNb3JlJywgbWVzc2FnZTogZXJyb3JfY29udGVudCB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd19kaWFsb2dcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNldENvbnZlcnRlckZyb21FcnJvcihlcnJvcl9tZXNzYWdlKTtcbiAgICB9XG5cbiAgICB2YWxpZGF0ZVdpdGhkcmF3VG9BbW91bnQoKSB7XG4gICAgICAgIGxldCBlcnJvcl9tZXNzYWdlID0gJyc7XG4gICAgICAgIGNvbnN0IHsgY2xpZW50LCBtb2R1bGVzIH0gPSB0aGlzLnJvb3Rfc3RvcmU7XG4gICAgICAgIGNvbnN0IHsgY3VycmVudF9maWF0X2N1cnJlbmN5IH0gPSBjbGllbnQ7XG4gICAgICAgIGNvbnN0IHsgY29udmVydGVyX3RvX2Ftb3VudCwgc2V0Q29udmVydGVyVG9FcnJvciB9ID0gbW9kdWxlcy5jYXNoaWVyLmNyeXB0b19maWF0X2NvbnZlcnRlcjtcblxuICAgICAgICBpZiAoY29udmVydGVyX3RvX2Ftb3VudCkge1xuICAgICAgICAgICAgY29uc3QgeyBpc19vaywgbWVzc2FnZSB9ID0gdmFsaWROdW1iZXIoY29udmVydGVyX3RvX2Ftb3VudCwge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdmbG9hdCcsXG4gICAgICAgICAgICAgICAgZGVjaW1hbHM6IGdldERlY2ltYWxQbGFjZXMoY3VycmVudF9maWF0X2N1cnJlbmN5KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFpc19vaykgZXJyb3JfbWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRDb252ZXJ0ZXJUb0Vycm9yKGVycm9yX21lc3NhZ2UpO1xuICAgIH1cblxuICAgIGdldCBhY2NvdW50X3BsYXRmb3JtX2ljb24oKSB7XG4gICAgICAgIGNvbnN0IHsgYWNjb3VudF9saXN0LCBsb2dpbmlkIH0gPSB0aGlzLnJvb3Rfc3RvcmUuY2xpZW50O1xuICAgICAgICBjb25zdCBwbGF0Zm9ybV9pY29uID0gYWNjb3VudF9saXN0LmZpbmQoYWNjID0+IGxvZ2luaWQgPT09IGFjYy5sb2dpbmlkKS5pY29uO1xuXG4gICAgICAgIHJldHVybiBwbGF0Zm9ybV9pY29uO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./stores/withdraw-store.js\n");

/***/ }),

/***/ "./utils/utility.js":
/*!**************************!*\
  !*** ./utils/utility.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createElement\": () => (/* binding */ createElement),\n/* harmony export */   \"getAccountText\": () => (/* binding */ getAccountText),\n/* harmony export */   \"getNormalizedPaymentMethod\": () => (/* binding */ getNormalizedPaymentMethod),\n/* harmony export */   \"getStaticHash\": () => (/* binding */ getStaticHash),\n/* harmony export */   \"isEuCountry\": () => (/* binding */ isEuCountry),\n/* harmony export */   \"PromiseClass\": () => (/* binding */ PromiseClass),\n/* harmony export */   \"template\": () => (/* binding */ template)\n/* harmony export */ });\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @deriv/shared */ \"@deriv/shared\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_deriv_shared__WEBPACK_IMPORTED_MODULE_0__);\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\nvar template = function template(string, content) {\n  var to_replace = content;\n\n  if (content && !Array.isArray(content)) {\n    to_replace = [content];\n  }\n\n  return string.replace(/\\[_(\\d+)]/g, function (s, index) {\n    return to_replace[+index - 1];\n  });\n};\n/**\n * Creates a DOM element and adds any attributes to it.\n *\n * @param {String} tag_name: the tag to create, e.g. 'div', 'a', etc\n * @param {Object} attributes: all the attributes to assign, e.g. { id: '...', class: '...', html: '...', ... }\n * @return the created DOM element\n */\n\n\nvar createElement = function createElement(tag_name) {\n  var attributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var el = document.createElement(tag_name);\n  Object.keys(attributes).forEach(function (attr) {\n    var value = attributes[attr];\n\n    if (attr === 'text') {\n      el.textContent = value;\n    } else if (attr === 'html') {\n      el.html(value);\n    } else {\n      el.setAttribute(attr, value);\n    }\n  });\n  return el;\n};\n\nvar static_hash;\n\nvar getStaticHash = function getStaticHash() {\n  static_hash = static_hash || (document.querySelector('script[src*=\"main\"]').getAttribute('src') || '').split('.')[1];\n  return static_hash;\n};\n\nvar PromiseClass = /*#__PURE__*/_createClass(function PromiseClass() {\n  var _this = this;\n\n  _classCallCheck(this, PromiseClass);\n\n  this.promise = new Promise(function (resolve, reject) {\n    _this.reject = reject;\n    _this.resolve = resolve;\n  });\n}); // TODO: [duplicate_code] - Move this to shared package\n// eu countries to support\n\n\nvar eu_countries = ['it', 'de', 'fr', 'lu', 'gr', 'mf', 'es', 'sk', 'lt', 'nl', 'at', 'bg', 'si', 'cy', 'be', 'ro', 'hr', 'pt', 'pl', 'lv', 'ee', 'cz', 'fi', 'hu', 'dk', 'se', 'ie', 'im', 'gb', 'mt']; // TODO: [duplicate_code] - Move this to shared package\n// check if client is from EU\n\nvar isEuCountry = function isEuCountry(country) {\n  return eu_countries.includes(country);\n}; // check if mlt or dxtrade for account text\n\n\nvar getAccountText = function getAccountText(account) {\n  var account_text = '';\n\n  if (account.is_dxtrade || account.is_mt) {\n    account_text = account.text;\n  } else {\n    account_text = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.getCurrencyDisplayCode)(account.text);\n  }\n\n  return account_text;\n};\n\nvar getNormalizedPaymentMethod = function getNormalizedPaymentMethod(payment_method, constants) {\n  var is_for_icon = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var method = is_for_icon ? payment_method.replace(/[' ',-]/g, '').toLowerCase() : payment_method;\n  var normalized_payment_method = Object.entries(constants).reduce(function (pay_method, _ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        key = _ref2[0],\n        value = _ref2[1];\n\n    return value.some(function (el) {\n      return el === method;\n    }) ? key : pay_method;\n  }, '');\n  return is_for_icon ? normalized_payment_method : normalized_payment_method || payment_method;\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy91dGlsaXR5LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQUVBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBQ0E7QUFDQTtBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFBQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7OztBQUNBO0FBaUNBOztBQUNBO0FBQUE7QUFBQTs7O0FBR0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2Nhc2hpZXIvLi91dGlscy91dGlsaXR5LmpzP2U2MjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0Q3VycmVuY3lEaXNwbGF5Q29kZSB9IGZyb20gJ0BkZXJpdi9zaGFyZWQnO1xuXG5jb25zdCB0ZW1wbGF0ZSA9IChzdHJpbmcsIGNvbnRlbnQpID0+IHtcbiAgICBsZXQgdG9fcmVwbGFjZSA9IGNvbnRlbnQ7XG4gICAgaWYgKGNvbnRlbnQgJiYgIUFycmF5LmlzQXJyYXkoY29udGVudCkpIHtcbiAgICAgICAgdG9fcmVwbGFjZSA9IFtjb250ZW50XTtcbiAgICB9XG4gICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC9cXFtfKFxcZCspXS9nLCAocywgaW5kZXgpID0+IHRvX3JlcGxhY2VbK2luZGV4IC0gMV0pO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgRE9NIGVsZW1lbnQgYW5kIGFkZHMgYW55IGF0dHJpYnV0ZXMgdG8gaXQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHRhZ19uYW1lOiB0aGUgdGFnIHRvIGNyZWF0ZSwgZS5nLiAnZGl2JywgJ2EnLCBldGNcbiAqIEBwYXJhbSB7T2JqZWN0fSBhdHRyaWJ1dGVzOiBhbGwgdGhlIGF0dHJpYnV0ZXMgdG8gYXNzaWduLCBlLmcuIHsgaWQ6ICcuLi4nLCBjbGFzczogJy4uLicsIGh0bWw6ICcuLi4nLCAuLi4gfVxuICogQHJldHVybiB0aGUgY3JlYXRlZCBET00gZWxlbWVudFxuICovXG5jb25zdCBjcmVhdGVFbGVtZW50ID0gKHRhZ19uYW1lLCBhdHRyaWJ1dGVzID0ge30pID0+IHtcbiAgICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnX25hbWUpO1xuICAgIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goYXR0ciA9PiB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gYXR0cmlidXRlc1thdHRyXTtcbiAgICAgICAgaWYgKGF0dHIgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgZWwudGV4dENvbnRlbnQgPSB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChhdHRyID09PSAnaHRtbCcpIHtcbiAgICAgICAgICAgIGVsLmh0bWwodmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKGF0dHIsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBlbDtcbn07XG5cbmxldCBzdGF0aWNfaGFzaDtcbmNvbnN0IGdldFN0YXRpY0hhc2ggPSAoKSA9PiB7XG4gICAgc3RhdGljX2hhc2ggPVxuICAgICAgICBzdGF0aWNfaGFzaCB8fCAoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2NyaXB0W3NyYyo9XCJtYWluXCJdJykuZ2V0QXR0cmlidXRlKCdzcmMnKSB8fCAnJykuc3BsaXQoJy4nKVsxXTtcbiAgICByZXR1cm4gc3RhdGljX2hhc2g7XG59O1xuXG5jbGFzcyBQcm9taXNlQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlamVjdCA9IHJlamVjdDtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuLy8gVE9ETzogW2R1cGxpY2F0ZV9jb2RlXSAtIE1vdmUgdGhpcyB0byBzaGFyZWQgcGFja2FnZVxuLy8gZXUgY291bnRyaWVzIHRvIHN1cHBvcnRcbmNvbnN0IGV1X2NvdW50cmllcyA9IFtcbiAgICAnaXQnLFxuICAgICdkZScsXG4gICAgJ2ZyJyxcbiAgICAnbHUnLFxuICAgICdncicsXG4gICAgJ21mJyxcbiAgICAnZXMnLFxuICAgICdzaycsXG4gICAgJ2x0JyxcbiAgICAnbmwnLFxuICAgICdhdCcsXG4gICAgJ2JnJyxcbiAgICAnc2knLFxuICAgICdjeScsXG4gICAgJ2JlJyxcbiAgICAncm8nLFxuICAgICdocicsXG4gICAgJ3B0JyxcbiAgICAncGwnLFxuICAgICdsdicsXG4gICAgJ2VlJyxcbiAgICAnY3onLFxuICAgICdmaScsXG4gICAgJ2h1JyxcbiAgICAnZGsnLFxuICAgICdzZScsXG4gICAgJ2llJyxcbiAgICAnaW0nLFxuICAgICdnYicsXG4gICAgJ210Jyxcbl07XG4vLyBUT0RPOiBbZHVwbGljYXRlX2NvZGVdIC0gTW92ZSB0aGlzIHRvIHNoYXJlZCBwYWNrYWdlXG4vLyBjaGVjayBpZiBjbGllbnQgaXMgZnJvbSBFVVxuY29uc3QgaXNFdUNvdW50cnkgPSBjb3VudHJ5ID0+IGV1X2NvdW50cmllcy5pbmNsdWRlcyhjb3VudHJ5KTtcblxuLy8gY2hlY2sgaWYgbWx0IG9yIGR4dHJhZGUgZm9yIGFjY291bnQgdGV4dFxuY29uc3QgZ2V0QWNjb3VudFRleHQgPSBhY2NvdW50ID0+IHtcbiAgICBsZXQgYWNjb3VudF90ZXh0ID0gJyc7XG4gICAgaWYgKGFjY291bnQuaXNfZHh0cmFkZSB8fCBhY2NvdW50LmlzX210KSB7XG4gICAgICAgIGFjY291bnRfdGV4dCA9IGFjY291bnQudGV4dDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBhY2NvdW50X3RleHQgPSBnZXRDdXJyZW5jeURpc3BsYXlDb2RlKGFjY291bnQudGV4dCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFjY291bnRfdGV4dDtcbn07XG5cbmNvbnN0IGdldE5vcm1hbGl6ZWRQYXltZW50TWV0aG9kID0gKHBheW1lbnRfbWV0aG9kLCBjb25zdGFudHMsIGlzX2Zvcl9pY29uID0gZmFsc2UpID0+IHtcbiAgICBjb25zdCBtZXRob2QgPSBpc19mb3JfaWNvbiA/IHBheW1lbnRfbWV0aG9kLnJlcGxhY2UoL1snICcsLV0vZywgJycpLnRvTG93ZXJDYXNlKCkgOiBwYXltZW50X21ldGhvZDtcblxuICAgIGNvbnN0IG5vcm1hbGl6ZWRfcGF5bWVudF9tZXRob2QgPSBPYmplY3QuZW50cmllcyhjb25zdGFudHMpLnJlZHVjZShcbiAgICAgICAgKHBheV9tZXRob2QsIFtrZXksIHZhbHVlXSkgPT4gKHZhbHVlLnNvbWUoZWwgPT4gZWwgPT09IG1ldGhvZCkgPyBrZXkgOiBwYXlfbWV0aG9kKSxcbiAgICAgICAgJydcbiAgICApO1xuICAgIHJldHVybiBpc19mb3JfaWNvbiA/IG5vcm1hbGl6ZWRfcGF5bWVudF9tZXRob2QgOiBub3JtYWxpemVkX3BheW1lbnRfbWV0aG9kIHx8IHBheW1lbnRfbWV0aG9kO1xufTtcblxuZXhwb3J0IHtcbiAgICBjcmVhdGVFbGVtZW50LFxuICAgIGdldEFjY291bnRUZXh0LFxuICAgIGdldE5vcm1hbGl6ZWRQYXltZW50TWV0aG9kLFxuICAgIGdldFN0YXRpY0hhc2gsXG4gICAgaXNFdUNvdW50cnksXG4gICAgUHJvbWlzZUNsYXNzLFxuICAgIHRlbXBsYXRlLFxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./utils/utility.js\n");

/***/ }),

/***/ "./utils/validator/errors.js":
/*!***********************************!*\
  !*** ./utils/validator/errors.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar Errors = /*#__PURE__*/function () {\n  function Errors() {\n    _classCallCheck(this, Errors);\n\n    this.errors = {};\n  }\n\n  _createClass(Errors, [{\n    key: \"add\",\n    value: function add(attribute, message) {\n      if (!this.has(attribute)) {\n        this.errors[attribute] = [];\n      }\n\n      if (this.errors[attribute].indexOf(message) === -1) {\n        this.errors[attribute].push(message);\n      }\n    }\n  }, {\n    key: \"all\",\n    value: function all() {\n      return this.errors;\n    }\n  }, {\n    key: \"first\",\n    value: function first(attribute) {\n      if (this.has(attribute)) {\n        return this.errors[attribute][0];\n      }\n\n      return null;\n    }\n  }, {\n    key: \"get\",\n    value: function get(attribute) {\n      if (this.has(attribute)) {\n        return this.errors[attribute];\n      }\n\n      return [];\n    }\n  }, {\n    key: \"has\",\n    value: function has(attribute) {\n      return Object.prototype.hasOwnProperty.call(this.errors, attribute);\n    }\n  }]);\n\n  return Errors;\n}();\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Errors);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy92YWxpZGF0b3IvZXJyb3JzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQUE7O0FBQ0E7QUFDQTs7OztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7Ozs7O0FBR0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvY2FzaGllci8uL3V0aWxzL3ZhbGlkYXRvci9lcnJvcnMuanM/NTg0NSJdLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBFcnJvcnMge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmVycm9ycyA9IHt9O1xuICAgIH1cblxuICAgIGFkZChhdHRyaWJ1dGUsIG1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhcyhhdHRyaWJ1dGUpKSB7XG4gICAgICAgICAgICB0aGlzLmVycm9yc1thdHRyaWJ1dGVdID0gW107XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5lcnJvcnNbYXR0cmlidXRlXS5pbmRleE9mKG1lc3NhZ2UpID09PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5lcnJvcnNbYXR0cmlidXRlXS5wdXNoKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWxsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lcnJvcnM7XG4gICAgfVxuXG4gICAgZmlyc3QoYXR0cmlidXRlKSB7XG4gICAgICAgIGlmICh0aGlzLmhhcyhhdHRyaWJ1dGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lcnJvcnNbYXR0cmlidXRlXVswXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBnZXQoYXR0cmlidXRlKSB7XG4gICAgICAgIGlmICh0aGlzLmhhcyhhdHRyaWJ1dGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lcnJvcnNbYXR0cmlidXRlXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBoYXMoYXR0cmlidXRlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5lcnJvcnMsIGF0dHJpYnV0ZSk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBFcnJvcnM7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./utils/validator/errors.js\n");

/***/ }),

/***/ "./utils/validator/index.js":
/*!**********************************!*\
  !*** ./utils/validator/index.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* reexport safe */ _validator__WEBPACK_IMPORTED_MODULE_0__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _validator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validator */ \"./utils/validator/validator.js\");\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy92YWxpZGF0b3IvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9jYXNoaWVyLy4vdXRpbHMvdmFsaWRhdG9yL2luZGV4LmpzPzkzNTAiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnJvbSAnLi92YWxpZGF0b3InO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./utils/validator/index.js\n");

/***/ }),

/***/ "./utils/validator/validator.js":
/*!**************************************!*\
  !*** ./utils/validator/validator.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @deriv/shared */ \"@deriv/shared\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_deriv_shared__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utility__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utility */ \"./utils/utility.js\");\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./errors */ \"./utils/validator/errors.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n\n\n\n\nvar Validator = /*#__PURE__*/function () {\n  function Validator(input, rules) {\n    var store = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n    _classCallCheck(this, Validator);\n\n    this.input = input;\n    this.rules = rules;\n    this.store = store;\n    this.errors = new _errors__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n    this.error_count = 0;\n  }\n  /**\n   * Add failure and error message for given rule\n   *\n   * @param {string} attribute\n   * @param {object} rule\n   */\n\n\n  _createClass(Validator, [{\n    key: \"addFailure\",\n    value: function addFailure(attribute, rule, error_message) {\n      var message = error_message || rule.options.message || (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.getPreBuildDVRs)()[rule.name].message();\n\n      if (rule.name === 'length') {\n        message = (0,_utility__WEBPACK_IMPORTED_MODULE_1__.template)(message, [rule.options.min === rule.options.max ? rule.options.min : \"\".concat(rule.options.min, \"-\").concat(rule.options.max)]);\n      } else if (rule.name === 'min') {\n        message = (0,_utility__WEBPACK_IMPORTED_MODULE_1__.template)(message, [rule.options.min]);\n      } else if (rule.name === 'not_equal') {\n        message = (0,_utility__WEBPACK_IMPORTED_MODULE_1__.template)(message, [rule.options.name1, rule.options.name2]);\n      }\n\n      this.errors.add(attribute, message);\n      this.error_count++;\n    }\n    /**\n     * Runs validator\n     *\n     * @return {boolean} Whether it passes; true = passes, false = fails\n     */\n\n  }, {\n    key: \"check\",\n    value: function check() {\n      var _this = this;\n\n      Object.keys(this.input).forEach(function (attribute) {\n        if (!Object.prototype.hasOwnProperty.call(_this.rules, attribute)) {\n          return;\n        }\n\n        _this.rules[attribute].forEach(function (rule) {\n          var ruleObject = Validator.getRuleObject(rule);\n\n          if (!ruleObject.validator && typeof ruleObject.validator !== 'function') {\n            return;\n          }\n\n          if (ruleObject.options.condition && !ruleObject.options.condition(_this.store)) {\n            return;\n          }\n\n          if (_this.input[attribute] === '' && ruleObject.name !== 'req') {\n            return;\n          }\n\n          var is_valid, error_message;\n\n          if (ruleObject.name === 'number') {\n            var _ruleObject$validator = ruleObject.validator(_this.input[attribute], ruleObject.options, _this.store, _this.input),\n                is_ok = _ruleObject$validator.is_ok,\n                message = _ruleObject$validator.message;\n\n            is_valid = is_ok;\n            error_message = message;\n          } else {\n            is_valid = ruleObject.validator(_this.input[attribute], ruleObject.options, _this.store, _this.input);\n          }\n\n          if (!is_valid) {\n            _this.addFailure(attribute, ruleObject, error_message);\n          }\n        });\n      });\n      return !this.error_count;\n    }\n    /**\n     * Determine if validation passes\n     *\n     * @return {boolean}\n     */\n\n  }, {\n    key: \"isPassed\",\n    value: function isPassed() {\n      return this.check();\n    }\n    /**\n     * Converts the rule array to an object\n     *\n     * @param {array} rule\n     * @return {object}\n     */\n\n  }], [{\n    key: \"getRuleObject\",\n    value: function getRuleObject(rule) {\n      var is_rule_string = typeof rule === 'string';\n      var rule_object = {\n        name: is_rule_string ? rule : rule[0],\n        options: is_rule_string ? {} : rule[1] || {}\n      };\n      rule_object.validator = rule_object.name === 'custom' ? rule[1].func : (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.getPreBuildDVRs)()[rule_object.name].func;\n      return rule_object;\n    }\n  }]);\n\n  return Validator;\n}();\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Validator);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy92YWxpZGF0b3IvdmFsaWRhdG9yLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFBQTs7QUFBQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBQ0E7QUFBQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUNBO0FBQ0E7QUFBQTtBQUFBOztBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBS0E7QUFFQTtBQUNBOzs7Ozs7QUFHQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9jYXNoaWVyLy4vdXRpbHMvdmFsaWRhdG9yL3ZhbGlkYXRvci5qcz8yOTkzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFByZUJ1aWxkRFZScyB9IGZyb20gJ0BkZXJpdi9zaGFyZWQnO1xuaW1wb3J0IHsgdGVtcGxhdGUgfSBmcm9tICcuLi91dGlsaXR5JztcbmltcG9ydCBFcnJvciBmcm9tICcuL2Vycm9ycyc7XG5cbmNsYXNzIFZhbGlkYXRvciB7XG4gICAgY29uc3RydWN0b3IoaW5wdXQsIHJ1bGVzLCBzdG9yZSA9IG51bGwpIHtcbiAgICAgICAgdGhpcy5pbnB1dCA9IGlucHV0O1xuICAgICAgICB0aGlzLnJ1bGVzID0gcnVsZXM7XG4gICAgICAgIHRoaXMuc3RvcmUgPSBzdG9yZTtcbiAgICAgICAgdGhpcy5lcnJvcnMgPSBuZXcgRXJyb3IoKTtcblxuICAgICAgICB0aGlzLmVycm9yX2NvdW50ID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgZmFpbHVyZSBhbmQgZXJyb3IgbWVzc2FnZSBmb3IgZ2l2ZW4gcnVsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGF0dHJpYnV0ZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBydWxlXG4gICAgICovXG4gICAgYWRkRmFpbHVyZShhdHRyaWJ1dGUsIHJ1bGUsIGVycm9yX21lc3NhZ2UpIHtcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBlcnJvcl9tZXNzYWdlIHx8IHJ1bGUub3B0aW9ucy5tZXNzYWdlIHx8IGdldFByZUJ1aWxkRFZScygpW3J1bGUubmFtZV0ubWVzc2FnZSgpO1xuICAgICAgICBpZiAocnVsZS5uYW1lID09PSAnbGVuZ3RoJykge1xuICAgICAgICAgICAgbWVzc2FnZSA9IHRlbXBsYXRlKG1lc3NhZ2UsIFtcbiAgICAgICAgICAgICAgICBydWxlLm9wdGlvbnMubWluID09PSBydWxlLm9wdGlvbnMubWF4ID8gcnVsZS5vcHRpb25zLm1pbiA6IGAke3J1bGUub3B0aW9ucy5taW59LSR7cnVsZS5vcHRpb25zLm1heH1gLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH0gZWxzZSBpZiAocnVsZS5uYW1lID09PSAnbWluJykge1xuICAgICAgICAgICAgbWVzc2FnZSA9IHRlbXBsYXRlKG1lc3NhZ2UsIFtydWxlLm9wdGlvbnMubWluXSk7XG4gICAgICAgIH0gZWxzZSBpZiAocnVsZS5uYW1lID09PSAnbm90X2VxdWFsJykge1xuICAgICAgICAgICAgbWVzc2FnZSA9IHRlbXBsYXRlKG1lc3NhZ2UsIFtydWxlLm9wdGlvbnMubmFtZTEsIHJ1bGUub3B0aW9ucy5uYW1lMl0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZXJyb3JzLmFkZChhdHRyaWJ1dGUsIG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLmVycm9yX2NvdW50Kys7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUnVucyB2YWxpZGF0b3JcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgaXQgcGFzc2VzOyB0cnVlID0gcGFzc2VzLCBmYWxzZSA9IGZhaWxzXG4gICAgICovXG4gICAgY2hlY2soKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMuaW5wdXQpLmZvckVhY2goYXR0cmlidXRlID0+IHtcbiAgICAgICAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMucnVsZXMsIGF0dHJpYnV0ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucnVsZXNbYXR0cmlidXRlXS5mb3JFYWNoKHJ1bGUgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJ1bGVPYmplY3QgPSBWYWxpZGF0b3IuZ2V0UnVsZU9iamVjdChydWxlKTtcblxuICAgICAgICAgICAgICAgIGlmICghcnVsZU9iamVjdC52YWxpZGF0b3IgJiYgdHlwZW9mIHJ1bGVPYmplY3QudmFsaWRhdG9yICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAocnVsZU9iamVjdC5vcHRpb25zLmNvbmRpdGlvbiAmJiAhcnVsZU9iamVjdC5vcHRpb25zLmNvbmRpdGlvbih0aGlzLnN0b3JlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaW5wdXRbYXR0cmlidXRlXSA9PT0gJycgJiYgcnVsZU9iamVjdC5uYW1lICE9PSAncmVxJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IGlzX3ZhbGlkLCBlcnJvcl9tZXNzYWdlO1xuICAgICAgICAgICAgICAgIGlmIChydWxlT2JqZWN0Lm5hbWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgaXNfb2ssIG1lc3NhZ2UgfSA9IHJ1bGVPYmplY3QudmFsaWRhdG9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dFthdHRyaWJ1dGVdLFxuICAgICAgICAgICAgICAgICAgICAgICAgcnVsZU9iamVjdC5vcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9yZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgaXNfdmFsaWQgPSBpc19vaztcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JfbWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaXNfdmFsaWQgPSBydWxlT2JqZWN0LnZhbGlkYXRvcih0aGlzLmlucHV0W2F0dHJpYnV0ZV0sIHJ1bGVPYmplY3Qub3B0aW9ucywgdGhpcy5zdG9yZSwgdGhpcy5pbnB1dCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCFpc192YWxpZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEZhaWx1cmUoYXR0cmlidXRlLCBydWxlT2JqZWN0LCBlcnJvcl9tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiAhdGhpcy5lcnJvcl9jb3VudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmUgaWYgdmFsaWRhdGlvbiBwYXNzZXNcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgICovXG4gICAgaXNQYXNzZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIHJ1bGUgYXJyYXkgdG8gYW4gb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2FycmF5fSBydWxlXG4gICAgICogQHJldHVybiB7b2JqZWN0fVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRSdWxlT2JqZWN0KHJ1bGUpIHtcbiAgICAgICAgY29uc3QgaXNfcnVsZV9zdHJpbmcgPSB0eXBlb2YgcnVsZSA9PT0gJ3N0cmluZyc7XG4gICAgICAgIGNvbnN0IHJ1bGVfb2JqZWN0ID0ge1xuICAgICAgICAgICAgbmFtZTogaXNfcnVsZV9zdHJpbmcgPyBydWxlIDogcnVsZVswXSxcbiAgICAgICAgICAgIG9wdGlvbnM6IGlzX3J1bGVfc3RyaW5nID8ge30gOiBydWxlWzFdIHx8IHt9LFxuICAgICAgICB9O1xuXG4gICAgICAgIHJ1bGVfb2JqZWN0LnZhbGlkYXRvciA9IHJ1bGVfb2JqZWN0Lm5hbWUgPT09ICdjdXN0b20nID8gcnVsZVsxXS5mdW5jIDogZ2V0UHJlQnVpbGREVlJzKClbcnVsZV9vYmplY3QubmFtZV0uZnVuYztcblxuICAgICAgICByZXR1cm4gcnVsZV9vYmplY3Q7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBWYWxpZGF0b3I7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./utils/validator/validator.js\n");

/***/ }),

/***/ "@deriv/components":
/*!************************************!*\
  !*** external "@deriv/components" ***!
  \************************************/
/***/ ((module) => {

module.exports = __WEBPACK_EXTERNAL_MODULE__deriv_components__;

/***/ }),

/***/ "@deriv/shared":
/*!********************************!*\
  !*** external "@deriv/shared" ***!
  \********************************/
/***/ ((module) => {

module.exports = __WEBPACK_EXTERNAL_MODULE__deriv_shared__;

/***/ }),

/***/ "@deriv/translations":
/*!**************************************!*\
  !*** external "@deriv/translations" ***!
  \**************************************/
/***/ ((module) => {

module.exports = __WEBPACK_EXTERNAL_MODULE__deriv_translations__;

/***/ }),

/***/ "mobx":
/*!***********************!*\
  !*** external "mobx" ***!
  \***********************/
/***/ ((module) => {

module.exports = __WEBPACK_EXTERNAL_MODULE_mobx__;

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

module.exports = __WEBPACK_EXTERNAL_MODULE_react__;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/create fake namespace object */
/******/ 	(() => {
/******/ 		var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);
/******/ 		var leafPrototypes;
/******/ 		// create a fake namespace object
/******/ 		// mode & 1: value is a module id, require it
/******/ 		// mode & 2: merge all properties of value into the ns
/******/ 		// mode & 4: return value when already ns object
/******/ 		// mode & 16: return value when it's Promise-like
/******/ 		// mode & 8|1: behave like require
/******/ 		__webpack_require__.t = function(value, mode) {
/******/ 			if(mode & 1) value = this(value);
/******/ 			if(mode & 8) return value;
/******/ 			if(typeof value === 'object' && value) {
/******/ 				if((mode & 4) && value.__esModule) return value;
/******/ 				if((mode & 16) && typeof value.then === 'function') return value;
/******/ 			}
/******/ 			var ns = Object.create(null);
/******/ 			__webpack_require__.r(ns);
/******/ 			var def = {};
/******/ 			leafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];
/******/ 			for(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {
/******/ 				Object.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));
/******/ 			}
/******/ 			def['default'] = () => (value);
/******/ 			__webpack_require__.d(ns, def);
/******/ 			return ns;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/ensure chunk */
/******/ 	(() => {
/******/ 		__webpack_require__.f = {};
/******/ 		// This file contains only the entry chunk.
/******/ 		// The chunk loading function for additional chunks
/******/ 		__webpack_require__.e = (chunkId) => {
/******/ 			return Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {
/******/ 				__webpack_require__.f[key](chunkId, promises);
/******/ 				return promises;
/******/ 			}, []));
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/get javascript chunk filename */
/******/ 	(() => {
/******/ 		// This function allow to reference async chunks
/******/ 		__webpack_require__.u = (chunkId) => {
/******/ 			// return url for filenames based on template
/******/ 			return "cashier/js/cashier." + chunkId + "." + "00af875b3558a22069e5" + ".js";
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/get mini-css chunk filename */
/******/ 	(() => {
/******/ 		// This function allow to reference all chunks
/******/ 		__webpack_require__.miniCssF = (chunkId) => {
/******/ 			// return url for filenames based on template
/******/ 			return undefined;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/load script */
/******/ 	(() => {
/******/ 		var inProgress = {};
/******/ 		var dataWebpackPrefix = "@deriv/cashier:";
/******/ 		// loadScript function to load a script via script tag
/******/ 		__webpack_require__.l = (url, done, key, chunkId) => {
/******/ 			if(inProgress[url]) { inProgress[url].push(done); return; }
/******/ 			var script, needAttach;
/******/ 			if(key !== undefined) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				for(var i = 0; i < scripts.length; i++) {
/******/ 					var s = scripts[i];
/******/ 					if(s.getAttribute("src") == url || s.getAttribute("data-webpack") == dataWebpackPrefix + key) { script = s; break; }
/******/ 				}
/******/ 			}
/******/ 			if(!script) {
/******/ 				needAttach = true;
/******/ 				script = document.createElement('script');
/******/ 		
/******/ 				script.charset = 'utf-8';
/******/ 				script.timeout = 120;
/******/ 				if (__webpack_require__.nc) {
/******/ 					script.setAttribute("nonce", __webpack_require__.nc);
/******/ 				}
/******/ 				script.setAttribute("data-webpack", dataWebpackPrefix + key);
/******/ 				script.src = url;
/******/ 			}
/******/ 			inProgress[url] = [done];
/******/ 			var onScriptComplete = (prev, event) => {
/******/ 				// avoid mem leaks in IE.
/******/ 				script.onerror = script.onload = null;
/******/ 				clearTimeout(timeout);
/******/ 				var doneFns = inProgress[url];
/******/ 				delete inProgress[url];
/******/ 				script.parentNode && script.parentNode.removeChild(script);
/******/ 				doneFns && doneFns.forEach((fn) => (fn(event)));
/******/ 				if(prev) return prev(event);
/******/ 			}
/******/ 			;
/******/ 			var timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);
/******/ 			script.onerror = onScriptComplete.bind(null, script.onerror);
/******/ 			script.onload = onScriptComplete.bind(null, script.onload);
/******/ 			needAttach && document.head.appendChild(script);
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		__webpack_require__.p = "/";
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"cashier-store": 0
/******/ 		};
/******/ 		
/******/ 		__webpack_require__.f.j = (chunkId, promises) => {
/******/ 				// JSONP chunk loading for javascript
/******/ 				var installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;
/******/ 				if(installedChunkData !== 0) { // 0 means "already installed".
/******/ 		
/******/ 					// a Promise means "currently loading".
/******/ 					if(installedChunkData) {
/******/ 						promises.push(installedChunkData[2]);
/******/ 					} else {
/******/ 						if(true) { // all chunks have JS
/******/ 							// setup Promise in chunk cache
/******/ 							var promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));
/******/ 							promises.push(installedChunkData[2] = promise);
/******/ 		
/******/ 							// start chunk loading
/******/ 							var url = __webpack_require__.p + __webpack_require__.u(chunkId);
/******/ 							// create error before stack unwound to get useful stacktrace later
/******/ 							var error = new Error();
/******/ 							var loadingEnded = (event) => {
/******/ 								if(__webpack_require__.o(installedChunks, chunkId)) {
/******/ 									installedChunkData = installedChunks[chunkId];
/******/ 									if(installedChunkData !== 0) installedChunks[chunkId] = undefined;
/******/ 									if(installedChunkData) {
/******/ 										var errorType = event && (event.type === 'load' ? 'missing' : event.type);
/******/ 										var realSrc = event && event.target && event.target.src;
/******/ 										error.message = 'Loading chunk ' + chunkId + ' failed.\n(' + errorType + ': ' + realSrc + ')';
/******/ 										error.name = 'ChunkLoadError';
/******/ 										error.type = errorType;
/******/ 										error.request = realSrc;
/******/ 										installedChunkData[1](error);
/******/ 									}
/******/ 								}
/******/ 							};
/******/ 							__webpack_require__.l(url, loadingEnded, "chunk-" + chunkId, chunkId);
/******/ 						} else installedChunks[chunkId] = 0;
/******/ 					}
/******/ 				}
/******/ 		};
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		// no on chunks loaded
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var [chunkIds, moreModules, runtime] = data;
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			if(chunkIds.some((id) => (installedChunks[id] !== 0))) {
/******/ 				for(moduleId in moreModules) {
/******/ 					if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 						__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 					}
/******/ 				}
/******/ 				if(runtime) var result = runtime(__webpack_require__);
/******/ 			}
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkId] = 0;
/******/ 			}
/******/ 		
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunk_deriv_cashier"] = self["webpackChunk_deriv_cashier"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./stores/cashier-store.js");
/******/ 	__webpack_exports__ = __webpack_exports__["default"];
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});