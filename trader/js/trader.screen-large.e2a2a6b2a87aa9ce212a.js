"use strict";(self.webpackChunk_deriv_trader=self.webpackChunk_deriv_trader||[]).push([["screen-large"],{"./src/Modules/Trading/Components/Form/screen-large.jsx":(e,t,n)=>{n.r(t),n.d(t,{default:()=>Ze});var r=n("../../node_modules/classnames/index.js"),a=n.n(r),i=n("../../node_modules/prop-types/index.js"),o=n.n(i),l=n("react"),u=n("./src/App/Components/Elements/ContentLoader/index.js"),s=n("./src/App/Components/Form/fieldset.jsx"),c=n("./src/Modules/Trading/Containers/contract-type.jsx"),_=n("./src/Modules/Trading/Containers/purchase.jsx"),d=n("mobx-react"),m=n("@deriv/components"),p=n("@deriv/shared"),f=n("./src/Stores/connect.js"),y=n("@deriv/translations"),g=n("./src/Stores/Modules/Trading/Helpers/allow-equals.js"),v=function(e){var t=e.contract_start_type,n=e.contract_type,r=e.contract_types_list,a=e.duration_unit,i=e.expiry_type,o=e.onChange,u=e.value,s=e.has_equals_only,c=(0,g.OW)(r,a,t),_=(0,g.vy)(r);return(0,g.i$)(n)&&(c||"endtime"===i)&&_&&l.createElement("div",{className:"allow-equals"},l.createElement(m.Checkbox,{className:"allow-equals__input-field",id:"dt_allow_equals_input",onChange:function(e){e.persist();var t=e.target,n=t.name,r=t.checked;o({target:{name:n,value:Number(r)}})},defaultChecked:!!u,name:"is_equal",label:(0,y.localize)("Allow equals"),classNameLabel:"allow-equals__label",disabled:s}),l.createElement(m.Popover,{alignment:"left",classNameTarget:"allow-equals__tooltip",icon:"info",id:"dt_allow_equals_info",message:(0,y.localize)("Win payout if exit spot is also equal to entry spot."),margin:130,relative_render:!0}))};v.propTypes={contract_start_type:o().string,contract_type:o().string,contract_types_list:o().object,duration_unit:o().string,expiry_type:o().string,has_equals_only:o().bool,onChange:o().func,value:o().number};const h=v;var b=n("./src/Modules/Trading/Components/Form/TradeParams/Multiplier/info.jsx"),C=function(e){var t=e.multiplier,n=e.multiplier_range_list,r=e.onChange;return l.createElement(m.Dropdown,{id:"multiplier",className:"trade-container__multiplier-dropdown",is_alignment_left:!0,is_nativepicker:!1,list:n,name:"multiplier",no_border:!0,value:t,onChange:r})};C.propTypes={multiplier:o().oneOfType([o().number,o().string]),multiplier_range_list:d.PropTypes.arrayOrObservableArray,onChange:o().func};const x=(0,f.$j)((function(e){var t=e.modules;return{multiplier:t.trade.multiplier,multiplier_range_list:t.trade.multiplier_range_list,onChange:t.trade.onChange}}))(C);var E=function(e){var t=e.amount,n=e.currency,r=e.current_focus,a=e.error_messages,i=e.is_nativepicker,o=e.is_single_currency,u=e.onChange,s=e.setCurrentFocus;return l.createElement(m.InputField,{className:"trade-container__amount",classNameInlinePrefix:"trade-container__currency",classNameInput:"trade-container__input",currency:n,current_focus:r,error_messages:a,fractional_digits:(0,p.getDecimalPlaces)(n),id:"dt_amount_input",inline_prefix:o?n:null,is_autocomplete_disabled:!0,is_float:!0,is_hj_whitelisted:!0,is_incrementable:!0,is_nativepicker:i,is_negative_disabled:!0,max_length:p.AMOUNT_MAX_LENGTH,name:"amount",onChange:u,type:"tel",value:t,ariaLabel:(0,y.localize)("Amount"),setCurrentFocus:s})},k=function(e){var t,n,r,i=e.amount,o=e.basis,u=e.basis_list,c=e.contract_start_type,_=e.contract_type,d=e.contract_types_list,f=e.currencies_list,g=e.currency,v=e.current_focus,C=e.duration_unit,k=e.expiry_type,w=e.is_accumulator,j=e.is_equal,T=e.is_minimized,O=e.is_multiplier,M=e.is_nativepicker,S=e.is_single_currency,A=e.has_equals_only,N=e.onChange,F=e.setCurrentFocus,D=e.validation_errors;if(T)return l.createElement("div",{className:"fieldset-minimized fieldset-minimized__amount"},l.createElement("span",{className:"fieldset-minimized__basis"},(u.find((function(e){return e.value===o}))||{}).text)," ",l.createElement("i",null,l.createElement("span",{className:a()("fieldset-minimized__currency","symbols",(t={},n="symbols--".concat((g||"").toLowerCase()),r=g,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t))})),(0,p.addComma)(i,2));var P=D.amount;return l.createElement(s.Z,{className:"trade-container__fieldset center-text",header:O||w?(0,y.localize)("Stake"):void 0,header_tooltip:O?l.createElement(y.Localize,{i18n_default_text:"Your gross profit is the percentage change in market price times your stake and the multiplier chosen here."}):void 0},u.length>1&&l.createElement(m.ButtonToggle,{id:"dt_amount_toggle",buttons_arr:u.map((function(e){return{text:e.text,value:e.value}})),className:"dropdown--no-margin",is_animated:!0,name:"basis",onChange:N,value:o}),S?l.createElement(E,{amount:i,currency:g,current_focus:v,error_messages:P,is_single_currency:S,is_nativepicker:M,onChange:N,setCurrentFocus:F}):l.createElement("div",{className:"trade-container__currency-options"},l.createElement(E,{amount:i,currency:g,current_focus:v,error_messages:P,is_single_currency:S,is_nativepicker:M,onChange:N,setCurrentFocus:F}),l.createElement(m.Dropdown,{id:"amount",className:a()({"dc-dropdown-container__currency":!S}),is_alignment_left:!0,is_nativepicker:!1,list:f,name:"currency",initial_offset:256,no_border:!0,value:g,onChange:N})),l.createElement(h,{contract_start_type:c,contract_type:_,contract_types_list:d,duration_unit:C,expiry_type:k,onChange:N,value:parseInt(j),has_equals_only:A}),O&&l.createElement(l.Fragment,null,l.createElement(x,null),l.createElement(b.Z,{className:"trade-container__multipliers-trade-info",should_show_tooltip:!0,is_tooltip_relative:!0})))};k.propTypes={amount:o().oneOfType([o().number,o().string]),basis:o().string,basis_list:d.PropTypes.arrayOrObservableArray,contract_start_type:o().string,contract_type:o().string,contract_types_list:d.PropTypes.observableObject,currencies_list:d.PropTypes.observableObject,currency:o().string,current_focus:o().string,duration_unit:o().string,expiry_type:o().string,is_accumulator:o().bool,is_equal:o().oneOfType([o().number,o().string]),is_minimized:o().bool,is_multiplier:o().bool,is_nativepicker:o().bool,is_single_currency:o().bool,has_equals_only:o().bool,setCurrentFocus:o().func,onChange:o().func,validation_errors:o().object};const w=(0,f.$j)((function(e){var t=e.modules,n=e.client,r=e.ui;return{amount:t.trade.amount,basis:t.trade.basis,basis_list:t.trade.basis_list,contract_start_type:t.trade.contract_start_type,contract_type:t.trade.contract_type,contract_types_list:t.trade.contract_types_list,currencies_list:n.currencies_list,currency:t.trade.currency,current_focus:r.current_focus,duration_unit:t.trade.duration_unit,expiry_type:t.trade.expiry_type,is_accumulator:t.trade.is_accumulator,is_equal:t.trade.is_equal,is_single_currency:n.is_single_currency,is_multiplier:t.trade.is_multiplier,has_equals_only:t.trade.has_equals_only,stop_out:t.trade.stop_out,onChange:t.trade.onChange,setCurrentFocus:r.setCurrentFocus,validation_errors:t.trade.validation_errors}}))(k);var j=n("./src/Modules/Trading/Components/Form/TradeParams/barrier.jsx");function T(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var M=function(e){var t=e.hover_value,n=e.max_value,r=e.min_value,i=e.onClick,o=e.onMouseEnter,u=e.onMouseLeave,s=e.value;if(!n||!r)return null;var c=T(Array(n-r+1).keys()),_=function(e){return e+r===s},d=function(e){return e+r<s},m=function(e){return!d(e)&&e+r<=t};return l.createElement(l.Fragment,null,c.map((function(e){return l.createElement("span",{"data-testid":"tick_step_".concat(e+r),key:e,"data-value":e+r,className:a()("range-slider__ticks-step",{"range-slider__ticks-step--active":_(e),"range-slider__ticks-step--marked":d(e),"range-slider__ticks-step--marked-hover":m(e)}),onClick:function(){return i(e+r)},onMouseEnter:function(){return o(e+r)},onMouseLeave:u})})))};M.propTypes={hover_value:o().number,max_value:o().number,min_value:o().number,onClick:o().func,onMouseEnter:o().func,onMouseLeave:o().func,value:o().number};const S=M;function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var F=function(e){var t=e.className,n=e.name,r=e.value,i=e.min_value,o=e.max_value,u=e.onChange,s=A(l.useState(0),2),c=s[0],_=s[1],d=l.useRef(),p=function(e){var t=e.nativeEvent,n=t.offsetX,r=t.offsetY;(r<=-3||r>=3||n<-3||n>3)&&g()},f=function(e,t){return"".concat(2*(10/(o-i)*(e-i))+(t?.8:1.4),"em")},g=function(){c&&(_(0),d.current.style.width=0)},v=c||r,h=isNaN(o-i)?10:o-i;return l.createElement("div",{className:a()("range-slider",t,{"range-slider__error":r<i||r>o})},l.createElement("label",{className:"range-slider__label",htmlFor:"range"},l.createElement("input",{className:"input trade-container__input range-slider__track",id:"dt_duration_range_input",max:o,max_value:o,min:i,min_value:i,name:n,onChange:function(e){var t=+e.target.value;t!==r&&(g(),u({target:{name:n,value:t}}))},tabIndex:"0",type:"range",steps:h,value:r,"aria-label":"range-input"}),l.createElement("span",{ref:d,className:"range-slider__line range-slider__line--fill",onMouseLeave:p}),l.createElement("div",{className:"range-slider__ticks"},l.createElement(S,{hover_value:c,max_value:o,min_value:i,onClick:function(e){e!==r&&(g(),u({target:{name:n,value:e}}))},onMouseLeave:p,onMouseEnter:function(e){e&&(_(e),d.current.style.width=f(e,!0))},value:r})),l.createElement("div",{className:"range-slider__line",style:{width:"".concat(f(r))}})),l.createElement("div",{className:"range-slider__caption"},!!v&&l.createElement(m.Text,{align:"center",weight:"bold",size:"xs",color:"prominent",id:"dt_range_slider_label"},1===v&&(0,y.localize)("{{display_value}} Tick",{display_value:v}),v>1&&(0,y.localize)("{{display_value}} Ticks",{display_value:v}))))};F.propTypes={className:o().string,max_value:o().number,min_value:o().number,name:o().string,onChange:o().func,value:o().number};const D=F;var P=function(e){var t=e.name,n=e.onChange,r=e.value,i=a()("advanced-simple-toggle__icon","select-arrow",{"advanced-simple-toggle__icon--active":r});return l.createElement(l.Fragment,null,l.createElement("button",{id:r?"dt_advanced_toggle":"dt_simple_toggle",className:"advanced-simple-toggle",onClick:function(){n({target:{value:!r,name:t}})},"aria-label":(0,y.localize)("Toggle between advanced and simple duration settings")},l.createElement(m.Icon,{icon:"IcChevronDown",className:i,classNamePath:"advanced-simple-toggle__icon-path"})))};P.propTypes={name:o().string,onChange:o().func,value:o().bool};const z=P;var I=n("./src/Stores/Modules/Trading/Helpers/contract-type.js");function U(e,t,n,r,a,i,o){try{var l=e[i](o),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,a)}function Y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){U(i,r,a,o,l,"next",e)}function l(e){U(i,r,a,o,l,"throw",e)}o(void 0)}))}}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Z=function(e){var t,n,r=e.duration,i=e.duration_min_max,o=e.duration_units_list,u=e.expiry_type,s=e.id,c=e.is_24_hours_contract,_=e.mode,d=e.name,f=e.onChange,g=e.server_time,v=e.start_date,h=e.start_time,b=e.symbol,C=e.validation_errors,x=(0,p.useIsMounted)(),E=q(l.useState([]),2),k=E[0],w=E[1],j=q(l.useState([]),2),T=j[0],O=j[1],M=q(l.useState(r),2),S=M[0],A=M[1],N=q(l.useState(),2),F=N[0],D=N[1];l.useEffect((function(){Z()}),[Z]),l.useEffect((function(){S!==r&&A(r)}),[r]);var P=function(){return(0,p.setTime)((0,p.toMoment)((0,p.hasIntradayDurationUnit)(o)?(0,p.toMoment)(g).clone():(0,p.toMoment)(g).clone().add(null==i||null===(e=i.daily)||void 0===e?void 0:e.min,"second")),(0,p.isTimeValid)(h)?h:g.format("HH:mm:ss"));var e},z=function(){return i.daily?i.daily.max:31536e3},U=function(){var e="duration"===u,t=P().clone().startOf("day");return e&&(0,p.hasIntradayDurationUnit)(o)?t.add(1,"day"):t},$=function(){return"duration"===_},Z=l.useCallback(Y(regeneratorRuntime.mark((function e(){var t,n,r,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:(0,p.toMoment)().format("YYYY-MM-DD"),n=[],r=[],e.next=5,I.R.getTradingEvents(t,b);case 5:e.sent.forEach((function(e){var t=e.dates.split(", ");-1!==t.indexOf("Fridays")&&(r=[6,0]),n.push({dates:t,descrip:e.descrip})})),x()&&(w(r),O(n));case 8:case"end":return e.stop()}}),e)}))),[x,b]),L=!(null==C||null===(t=C[d])||void 0===t||!t.length);return l.createElement("div",{className:a()("dc-input-field",{"dc-input-field--has-error":L})},l.createElement(m.Tooltip,{className:"trade-container__tooltip",alignment:"left",message:L?C[d][0]:void 0,has_error:L},l.createElement(m.DatePicker,{id:s,alignment:"left",display_format:"DD MMM YYYY",show_leading_icon:!0,error:null!=C&&null!==(n=C[d])&&void 0!==n&&n.length?"":void 0,mode:_,max_date:c?P().clone().add(v?86400:z(),"second"):P().clone().add(z(),"second"),min_date:U(),name:d,onChange:function(e){x()&&($()?A(e.duration):e.target.value&&D((0,p.toMoment)(e.target.value))),"function"==typeof f&&e.target&&f({target:{name:e.target.name,value:$()?e.target.value:(0,p.toMoment)(e.target.value).format("YYYY-MM-DD")}})},onChangeCalendarMonth:Z,has_range_selection:$(),has_today_btn:!$(),footer:$()?S?1==+S?(0,y.localize)("Duration: {{duration}} day",{duration:S}):(0,y.localize)("Duration: {{duration}} days",{duration:S}):(0,y.localize)("Minimum duration is 1 day"):null,events:T,disabled_days:k,keep_open:!0,readOnly:!$(),value:$()?(0,p.toMoment)().add(S,"days").format("YYYY-MM-DD"):F||U()})))};Z.propTypes={duration:o().oneOfType([o().string,o().number]),duration_min_max:o().object,duration_units_list:d.PropTypes.arrayOrObservableArray,expiry_type:o().string,id:o().oneOfType([o().string,o().number]),is_24_hours_contract:o().bool,mode:o().string,name:o().string,onChange:o().func,server_time:o().object,start_date:o().oneOfType([o().number,o().string]),start_time:o().string,symbol:o().string,validation_errors:o().object};const L=(0,f.$j)((function(e){var t=e.modules,n=e.common;return{duration:t.trade.duration,duration_min_max:t.trade.duration_min_max,duration_units_list:t.trade.duration_units_list,expiry_type:t.trade.expiry_type,onChange:t.trade.onChange,server_time:n.server_time,start_date:t.trade.start_date,start_time:t.trade.start_time,symbol:t.trade.symbol,validation_errors:t.trade.validation_errors}}))(Z);var H=n("../../node_modules/react-transition-group/esm/CSSTransition.js");function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e){return function(e){if(Array.isArray(e))return V(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||G(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}(e,t)||G(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){if(e){if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function X(e,t,n,r){for(var a=0;a<t.length;a++)if(e.isBetween(t[a],n[a],r))return!0;return!1}var Q=function(e){var t=e.preClass,n=e.selected_time,r=e.end_times,i=e.start_times,o=e.onChange,u=e.className,s=i?i.map((function(e){return(0,p.toMoment)(e)})):[(0,p.toMoment)()],c=r?r.map((function(e){return(0,p.toMoment)(e)})):[(0,p.toMoment)().hour("23").minute("59").seconds("59").milliseconds("999")],_=(0,p.toMoment)(),d=R(n.split(":"),2),m=d[0],f=d[1],g=W(Array(24).keys()).map((function(e){return"0".concat(e).slice(-2)})),v=W(Array(12).keys()).map((function(e){return"0".concat(5*e).slice(-2)})),h=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(r&&n){var a=n.split(":"),i=R(a,2),l=i[0],u=i[1];("h"===e&&t!==l||"m"===e&&t!==u)&&o("".concat("h"===e?t:l,":").concat("m"===e?t:u))}};return l.createElement("div",{className:a()("".concat(t,"__dialog"),"".concat(u))},l.createElement("div",{className:"".concat(t,"__selector")},l.createElement("div",{className:"".concat(t,"__selector--hours")},l.createElement("div",{className:a()("".concat(t,"__selector-list-title"),"center-text")},l.createElement("strong",null,(0,y.localize)("Hour"))),l.createElement("div",null,g.map((function(e,r){_.hour(e);var i=s.map((function(e){return e.clone().minute(0)})),o=X(_,i,c),u=X(_,s,c,"minute"),d=_.minutes()>52?o&&u:o;return l.createElement("div",{className:a()("".concat(t,"__selector-list-item"),B({},"".concat(t,"__selector-list-item--selected"),m===e),B({},"".concat(t,"__selector-list-item--disabled"),!d)),key:r,onClick:function(){h("h",e,n,d)}},e)})))),l.createElement("div",{className:"".concat(t,"__selector--minutes")},l.createElement("div",{className:a()("".concat(t,"__selector-list-title"),"center-text")},l.createElement("strong",null,(0,y.localize)("Minute"))),l.createElement("div",null,v.map((function(e,r){_.hour(m).minute(e);var i=X(_,s,c,"minute");return l.createElement("div",{className:a()("".concat(t,"__selector-list-item"),B({},"".concat(t,"__selector-list-item--selected"),f===e),B({},"".concat(t,"__selector-list-item--disabled"),!i)),key:r,onClick:function(){h("m",e,n,i)}},e)}))))))};Q.propTypes={className:o().string,end_times:o().array,onChange:o().func,preClass:o().string,selected_time:o().array,start_times:o().array};const J=Q;function K(e){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(e)}function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ne="time-picker",re=function(e){var t=e.current_focus,n=e.end_times,r=e.is_nativepicker,i=e.name,o=e.onChange,u=e.padding,s=e.placeholder,c=e.selected_time,_=e.setCurrentFocus,d=e.start_times,p=e.validation_errors,f=ee(l.useState(!1),2),y=f[0],g=f[1],v=ee(l.useState(null),2),h=v[0],b=v[1];l.useEffect((function(){return document.addEventListener("mousedown",w),function(){return document.removeEventListener("mousedown",w)}}));var C,x,E,k=function(e){var t="object"===K(e)?e.target.selected_time:e;t!==c&&o({target:{name:i,value:t}})},w=function(e){null!=h&&h.contains(e.target)||!y||g(!1)};return l.createElement("div",{ref:function(e){e&&b(e)},className:a()(ne,(C={},x="".concat(ne,"--padding"),E=u,x in C?Object.defineProperty(C,x,{value:E,enumerable:!0,configurable:!0,writable:!0}):C[x]=E,C))},r?l.createElement("input",{type:"time",id:"dt_".concat(i,"_input"),value:c,onChange:k,name:i,min:d[0],max:n[n.length-1]}):l.createElement(l.Fragment,null,l.createElement(m.InputField,{error_messages:p,type:"text",is_hj_whitelisted:!0,is_read_only:!0,id:"dt_".concat(i,"_input"),className:a()("".concat(ne,"-input")),current_focus:t,value:"".concat(c," GMT"),onClick:function(){g(!y)},name:i,placeholder:s,setCurrentFocus:_}),l.createElement(m.Icon,{icon:"IcClockOutline",className:"".concat(ne,"__icon")}),l.createElement(H.Z,{in:y,classNames:{enter:"time-picker__dialog--enter",enterDone:"time-picker__dialog--enter-done",exit:"time-picker__dialog--exit"},timeout:100,unmountOnExit:!0},l.createElement(J,{end_times:n,start_times:d,className:"from-left",onChange:k,preClass:ne,selected_time:c}))))};re.propTypes={current_focus:o().string,end_times:o().array,is_clearable:o().bool,is_nativepicker:o().bool,name:o().string,onChange:o().func,padding:o().string,placeholder:o().string,selected_time:o().string,setCurrentFocus:o().func,start_times:o().array,validation_errors:o().array};const ae=(0,d.observer)((0,f.$j)((function(e){var t=e.ui;return{current_focus:t.current_focus,setCurrentFocus:t.setCurrentFocus}}))(re));var ie=function(e,t){return e.minute(Math.ceil(e.minute()/t)*t)},oe=function(e){var t=e.expiry_date,n=e.expiry_time,r=e.market_close_times,a=e.market_open_times,i=e.onChange,o=e.server_time,u=e.is_market_closed,s=(0,p.toMoment)(t),c=a.map((function(e){return(0,p.setTime)(s.clone(),e)})),_=r.map((function(e){return(0,p.setTime)(s.clone(),e)})),d=(0,p.setTime)(s.clone(),n),m=(0,p.toMoment)(o),f=function(e,t,n){var r={start:t.map((function(t){return e.isBefore(t)?t.clone():e})),end:n};return r.start.length>0&&(r.start[0]=ie(r.start[0],5)),r}(m.clone(),c,_),y=function(e,t,n,r){for(var a=0;a<n.length;a++)if(t.isAfter(n[a])&&t.isBefore(r[a]))return ie(t,5).format("HH:mm");for(var i=0;i<n.length;i++)if(n[i].isAfter(e))return ie(n[i],5).format("HH:mm");return ie(e,5).format("HH:mm")}(m.clone(),d,c,_);return l.useEffect((function(){n===y||u||i({target:{name:"expiry_time",value:y}})}),[n,y,i,u]),l.createElement(ae,{end_times:f.end,onChange:i,name:"expiry_time",placeholder:"12:00",start_times:f.start,selected_time:y})};oe.propTypes={expiry_date:o().oneOfType([o().string,o().number]),expiry_time:o().string,is_market_closed:o().bool,market_close_times:o().array,market_open_times:o().array,name:o().string,onChange:o().func,server_time:o().object};const le=(0,f.$j)((function(e){var t=e.modules,n=e.common;return{duration_units_list:t.trade.duration_units_list,expiry_time:t.trade.expiry_time,expiry_date:t.trade.expiry_date,market_close_times:t.trade.market_close_times,market_open_times:t.trade.market_open_times,onChange:t.trade.onChange,server_time:n.server_time,is_market_closed:t.trade.is_market_closed}}))(oe);function ue(){return ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ue.apply(this,arguments)}var se=function(e){var t=e.advanced_duration_unit,n=e.advanced_expiry_type,r=e.duration_units_list,i=e.duration_t,o=e.contract_expiry_type,u=e.changeDurationUnit,s=e.current_focus,c=e.getDurationFromUnit,_=e.expiry_date,d=e.expiry_list,f=e.expiry_type,y=e.number_input_props,g=e.onChange,v=e.onChangeUiStore,h=e.server_time,b=e.setCurrentFocus,C=e.shared_input_props,x=e.start_date,E=e.validation_errors,k=!1;if("endtime"===f){var w=(0,p.hasIntradayDurationUnit)(r);k=(!!x||(0,p.toMoment)(_||h).isSame((0,p.toMoment)(h),"day"))&&w}var j=a()("endtime-container",{"has-time":k});return l.createElement(l.Fragment,null,d.length>1&&l.createElement(m.ButtonToggle,{id:"dt_advanced_duration_toggle",buttons_arr:d,name:"advanced_expiry_type",is_animated:!0,onChange:function(e){var t=e.target,n=t.name,r=t.value;g({target:{name:"expiry_type",value:r}}),v({name:n,value:r})},value:n}),"duration"===f?l.createElement(l.Fragment,null,l.createElement("div",{className:"duration-container"},r.length>=1&&l.createElement(m.Dropdown,{classNameDisplay:"dc-dropdown__display--duration",disabled:!1,id:"duration",is_alignment_left:!0,is_nativepicker:!1,list:r,name:"advanced_duration_unit",no_border:!0,onChange:u,value:t}),"t"===t&&"tick"===o&&l.createElement(D,ue({name:"duration",ticks:10,value:i},C)),"d"===t&&l.createElement(L,{id:"dt_advanced_duration_datepicker",mode:"duration",name:"duration",is_24_hours_contract:k}),"t"!==t&&"d"!==t&&l.createElement(m.InputField,ue({id:"dt_advanced_duration_input",classNameInput:"trade-container__input",current_focus:s,error_messages:E.duration,label:1===r.length?r[0].text:null,name:"duration",setCurrentFocus:b,value:c(t)},y,C)))):l.createElement(l.Fragment,null,l.createElement("div",{className:j},l.createElement(L,{id:"dt_advanced_duration_datepicker",name:"expiry_date",is_24_hours_contract:k,value:_}),k&&l.createElement(le,null))))};se.propTypes={advanced_duration_unit:o().string,advanced_expiry_type:o().string,changeDurationUnit:o().func,contract_expiry_type:o().string,current_focus:o().string,duration_t:o().number,duration_units_list:d.PropTypes.arrayOrObservableArray,expiry_date:o().oneOfType([o().string,o().number]),expiry_list:o().array,expiry_type:o().string,getDurationFromUnit:o().func,number_input_props:o().object,onChange:o().func,onChangeUiStore:o().func,server_time:o().object,setCurrentFocus:o().func,shared_input_props:o().object,start_date:o().oneOfType([o().number,o().string]),validation_errors:o().object};const ce=(0,f.$j)((function(e){var t=e.modules,n=e.ui;return{contract_expiry_type:t.trade.contract_expiry_type,current_focus:n.current_focus,setCurrentFocus:n.setCurrentFocus,validation_errors:t.trade.validation_errors}}))(se);function _e(){return _e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_e.apply(this,arguments)}var de=function(e){var t,n,r,a=e.contract_expiry_type,i=e.changeDurationUnit,o=e.current_focus,u=e.duration_t,s=e.duration_units_list,c=e.getDurationFromUnit,_=e.number_input_props,d=e.shared_input_props,p=e.simple_duration_unit,f=e.validation_errors,y=e.setCurrentFocus,g=!s.some((function(e){return"t"===e.value}));return l.createElement(l.Fragment,null,s.length>1&&l.createElement(m.ButtonToggle,{id:"dt_simple_duration_toggle",buttons_arr:(n=s,r=n.filter((function(e){return"t"===e.value||"m"===e.value})),r.length<=1?[]:r),is_animated:!0,name:"simple_duration_unit",onChange:i,value:p}),"t"===p&&"tick"===a&&l.createElement(D,_e({name:"duration",value:u,ticks:10},d)),"d"===p&&l.createElement(L,{id:"dt_simple_duration_datepicker",mode:"duration",name:"duration"}),"t"!==p&&"d"!==p&&l.createElement(m.InputField,_e({id:"dt_simple_duration_input",classNameInput:"trade-container__input",current_focus:o,error_messages:f.duration,name:"duration",label:g?null===(t=s[0])||void 0===t?void 0:t.text:null,setCurrentFocus:y,value:c(p)},_,d)))};de.propTypes={changeDurationUnit:o().func,contract_expiry_type:o().string,current_focus:o().string,duration_t:o().number,duration_units_list:d.PropTypes.arrayOrObservableArray,getDurationFromUnit:o().func,number_input_props:o().object,setCurrentFocus:o().func,shared_input_props:o().object,simple_duration_unit:o().string,validation_errors:o().object};const me=(0,f.$j)((function(e){var t=e.modules,n=e.ui;return{contract_expiry_type:t.trade.contract_expiry_type,current_focus:n.current_focus,setCurrentFocus:n.setCurrentFocus,simple_duration_unit:n.simple_duration_unit,validation_errors:t.trade.validation_errors}}))(de);function pe(){return pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pe.apply(this,arguments)}function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ge=function(e){var t=e.advanced_duration_unit,n=e.advanced_expiry_type,r=e.duration,i=e.duration_unit,o=e.duration_units_list,u=e.duration_t,c=e.expiry_date,_=e.expiry_time,d=e.expiry_type,f=e.getDurationFromUnit,g=e.hasDurationUnit,v=e.is_advanced_duration,h=e.is_minimized,b=e.min_value,C=e.max_value,x=e.onChange,E=e.onChangeUiStore,k=e.onChangeMultiple,w=e.simple_duration_unit,j=e.server_time,T=e.start_date,O=e.market_open_times,M=[{text:(0,y.localize)("Duration"),value:"duration"}],S=M.find((function(e){return"endtime"===e.value}));if(1===o.length&&"t"===i?S&&M.pop():S||M.push({text:(0,y.localize)("End time"),value:"endtime"}),h){var A=(0,p.toMoment)(c),N=(o.find((function(e){return e.value===i}))||{}).text;return l.createElement("div",{className:"fieldset-minimized fieldset-minimized__duration"},"duration"===d?"".concat(r," ").concat(N):"".concat(A.format("ddd - DD MMM, YYYY"),"\n").concat(_))}var F=function(e){var t=e.target,n=t.name,r=t.value,a=f(r);E({name:n,value:r}),k({duration_unit:r,duration:a})},P={shared_input:{is_hj_whitelisted:!0,onChange:function(e){var n=e.target,r=n.name,a=n.value,i="duration_".concat(v?t:w);E({name:i,value:+a}),x({target:{name:r,value:+a}})},max_value:C,min_value:b},number_input:{type:"number",is_incrementable:!0}},I=M.length>1||o.length>1;return l.createElement(s.Z,{className:a()("trade-container__fieldset",{"trade-container__fieldset--advanced":v})},1===o.length&&!v&&l.createElement(m.Dropdown,{classNameDisplay:"dc-dropdown__display--duration",disabled:!1,id:"duration",is_alignment_left:!0,is_nativepicker:!1,list:o,name:"simple_duration_unit",no_border:!0,onChange:F,value:w}),!I&&l.createElement(D,pe({name:"duration",value:u},P.shared_input)),I&&l.createElement(l.Fragment,null,v&&l.createElement(ce,{advanced_expiry_type:n,advanced_duration_unit:t,changeDurationUnit:F,duration_t:u,duration_units_list:o,expiry_date:c,expiry_list:M,expiry_type:d,getDurationFromUnit:f,market_open_times:O,number_input_props:P.number_input,onChange:x,onChangeUiStore:E,server_time:j,shared_input_props:P.shared_input,start_date:T}),!v&&l.createElement(me,{getDurationFromUnit:f,changeDurationUnit:F,duration_t:u,duration_units_list:o,number_input_props:P.number_input,shared_input_props:P.shared_input,simple_duration_unit:w}),l.createElement(z,{name:"is_advanced_duration",onChange:function(e){var a=e.target,l=a.name,u=a.value;E({name:l,value:u});var s=u?t:w,c=f(s);g(s,u)||(s=o[0].value,E({name:"".concat(u?"advanced":"simple","_duration_unit"),value:s}));var _={};u||"duration"===d||(_.expiry_type="duration"),u&&d!==n&&(_.expiry_type=n),s===i&&c===r||(_.duration_unit=s,_.duration=c),Object.keys(_).length&&k(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},_))},value:v})))};ge.propTypes={advanced_duration_unit:o().string,advanced_expiry_type:o().string,duration:o().number,duration_t:o().number,duration_unit:o().string,duration_units_list:d.PropTypes.arrayOrObservableArray,expiry_date:o().oneOfType([o().string,o().number]),expiry_time:o().string,expiry_type:o().string,getDurationFromUnit:o().func,hasDurationUnit:o().func,is_advanced_duration:o().bool,is_minimized:o().bool,market_open_times:o().array,max_value:o().number,min_value:o().number,number_input:o().object,onChange:o().func,onChangeMultiple:o().func,onChangeUiStore:o().func,server_time:o().object,shared_input:o().object,simple_duration_unit:o().string,start_date:o().oneOfType([o().number,o().string]),validation_errors:o().object};const ve=ge;function he(){return he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},he.apply(this,arguments)}function be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}(e,t)||xe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e){return function(e){if(Array.isArray(e))return Ee(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e,t){if(e){if("string"==typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ee(e,t):void 0}}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ke=function(e){var t=e.advanced_duration_unit,n=e.advanced_expiry_type,r=e.duration,a=e.duration_unit,i=e.expiry_type,o=e.getDurationFromUnit,u=e.is_advanced_duration,s=e.onChange,c=e.onChangeUiStore,_=e.simple_duration_unit,d=e.contract_expiry_type,m=e.duration_min_max,f=e.duration_units_list,y=e.onChangeMultiple,g=function(e,t){var n=Ce(f);return n.length>1&&!t&&(n=n.filter((function(e){return"m"===e.value||"t"===e.value}))),n.some((function(t){return t.value===e}))},v=l.useCallback((function(e){var t=be((0,p.getDurationMinMaxValues)(m,d,a),2),n=t[0],r=t[1];"tick"===d&&e<n&&(c({name:"duration_".concat(a),value:n}),s({target:{name:"duration",value:n}})),!(e<n)&&e>r&&"d"!==a&&(c({name:"duration_".concat(a),value:r}),s({target:{name:"duration",value:r}}))}),[d,a,m,s,c]);l.useEffect((function(){"d"===a&&c({name:"is_advanced_duration",value:!0})}),[a,c]),l.useEffect((function(){var e=u?t:_,n=o(e);a!==e&&c({name:"".concat(u?"advanced":"simple","_duration_unit"),value:a}),+r!=+n&&c({name:"duration_".concat(a),value:r}),"endtime"===i&&(f.length>1||u?(u||c({name:"is_advanced_duration",value:!0}),c({name:"advanced_expiry_type",value:"endtime"})):s({target:{name:"expiry_type",value:"duration"}})),v(n)}),[]),l.useEffect((function(){u&&i!==n&&s({target:{name:"expiry_type",value:n}})}),[u,i,n,s]),l.useEffect((function(){var e=o(a);!u&&"duration"!==i&&s({target:{name:"expiry_type",value:"duration"}}),r!==e&&c({name:"duration_".concat(a),value:r}),v(e)}),[a,u,i,r,v,s,c,o]);var h=!g(u?t:_,u),b=!u&&"d"===_&&4===f.length,C=be((0,p.getDurationMinMaxValues)(m,d,a),2),x=C[0],E=C[1];return(h||b)&&function(){if((null==f?void 0:f.length)>0){var e=f[0].value,t=o(e);c({name:"".concat(u?"advanced":"simple","_duration_unit"),value:e}),y({duration_unit:e,duration:+t})}}(),l.createElement(ve,he({hasDurationUnit:g,max_value:E,min_value:x},e))};ke.propTypes={advanced_duration_unit:o().string,advanced_expiry_type:o().string,contract_expiry_type:o().string,duration:o().oneOfType([o().number,o().string]),duration_d:o().number,duration_h:o().number,duration_m:o().number,duration_min_max:o().object,duration_s:o().number,duration_t:o().oneOfType([o().number,o().string]),duration_unit:o().string,duration_units_list:d.PropTypes.arrayOrObservableArray,expiry_date:o().oneOfType([o().string,o().number]),expiry_time:o().string,expiry_type:o().string,getDurationFromUnit:o().func,is_advanced_duration:o().bool,is_minimized:o().bool,market_open_times:o().array,onChange:o().func,onChangeMultiple:o().func,onChangeUiStore:o().func,sessions:d.PropTypes.arrayOrObservableArray,simple_duration_unit:o().string,start_date:o().oneOfType([o().number,o().string]),start_time:o().string,symbol:o().string};const we=(0,f.$j)((function(e){var t=e.modules,n=e.ui;return{advanced_duration_unit:n.advanced_duration_unit,advanced_expiry_type:n.advanced_expiry_type,contract_expiry_type:t.trade.contract_expiry_type,duration:t.trade.duration,duration_unit:t.trade.duration_unit,duration_units_list:t.trade.duration_units_list,duration_min_max:t.trade.duration_min_max,duration_t:n.duration_t,expiry_date:t.trade.expiry_date,expiry_time:t.trade.expiry_time,expiry_type:t.trade.expiry_type,getDurationFromUnit:n.getDurationFromUnit,is_advanced_duration:n.is_advanced_duration,onChange:t.trade.onChange,onChangeUiStore:n.onChangeUiStore,onChangeMultiple:t.trade.onChangeMultiple,simple_duration_unit:n.simple_duration_unit,start_date:t.trade.start_date,market_open_times:t.trade.market_open_times}}))(ke);var je=n("./src/Modules/Trading/Components/Form/TradeParams/last-digit.jsx"),Te=n("./src/Stores/Modules/Trading/Helpers/multiplier.js");function Oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Me(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Se=function(e){var t=e.cancellation_range_list,n=e.cancellation_duration,r=e.has_cancellation,a=e.has_take_profit,i=e.has_stop_loss,o=e.onChangeMultiple,u=e.should_show_cancellation_warning,c=e.toggleCancellationWarning,_=(a||i)&&u,d=Oe(l.useState(!u),2),p=d[0],f=d[1],g=l.useCallback((function(){f((function(e){return!e}))}),[]),v=l.createElement(m.Checkbox,{id:"dt_cancellation-checkbox_input",onChange:function(){return(0,Te.Lf)({has_cancellation:r,onChangeMultiple:o})},name:"has_cancellation",label:(0,y.localize)("Deal cancellation"),defaultChecked:r});return l.createElement(s.Z,{className:"trade-container__fieldset"},l.createElement("div",{className:"dc-input-wrapper--inline"},_?l.createElement(m.Popover,{alignment:"left",classNameBubble:"trade-container__popover",is_bubble_hover_enabled:!0,margin:2,message:l.createElement(m.PopoverMessageCheckbox,{defaultChecked:p,checkboxLabel:(0,y.localize)("Don't show this again"),message:(0,y.localize)("Take profit and/or stop loss are not available while deal cancellation is active."),name:"should_show_cancellation_warning",onChange:g}),onBubbleClose:function(){p&&c()},relative_render:!0},v):l.createElement(l.Fragment,null,v),l.createElement(m.Popover,{alignment:"left",icon:"info",id:"dt_cancellation-checkbox__tooltip",is_bubble_hover_enabled:!0,message:(0,y.localize)("Cancel your trade anytime within a chosen time-frame. Triggered automatically if your trade reaches the stop out level within the chosen time-frame."),classNameBubble:"trade-container__deal-cancellation-popover",margin:216,relative_render:!0})),r&&l.createElement(m.Dropdown,{id:"dt_cancellation_range",className:"trade-container__multiplier-dropdown",is_alignment_left:!0,is_nativepicker:!1,list:t,name:"cancellation_duration",no_border:!0,value:n,onChange:function(e){return(0,Te.Qu)({event:e,onChangeMultiple:o})}}))};Se.propTypes={cancellation_range_list:o().array,cancellation_duration:o().string,has_cancellation:o().bool,has_stop_loss:o().bool,has_take_profit:o().bool,onChangeMultiple:o().func,should_show_cancellation_warning:o().bool,toggleCancellationWarning:o().func};const Ae=(0,f.$j)((function(e){var t=e.modules,n=e.ui;return{cancellation_range_list:t.trade.cancellation_range_list,cancellation_duration:t.trade.cancellation_duration,has_cancellation:t.trade.has_cancellation,has_stop_loss:t.trade.has_stop_loss,has_take_profit:t.trade.has_take_profit,onChangeMultiple:t.trade.onChangeMultiple,should_show_cancellation_warning:n.should_show_cancellation_warning,toggleCancellationWarning:n.toggleCancellationWarning}}))(Se);var Ne=n("./src/App/Components/Form/number-selector.jsx"),Fe=function(e){var t=e.accumulator_range_list,n=e.growth_rate,r=e.onChange,i=e.tick_size_barrier,o=t.reduce((function(e,n,r){return r%5==0&&e.push(t.slice(r,r+5)),e}),[]);return t.length?l.createElement(s.Z,{className:a()("trade-container__fieldset","accumulator"),header:(0,y.localize)("Accumulate"),is_center:!0,header_tooltip:(0,y.localize)("Your stake will grow by {{growth_rate}}% at every tick starting from the second tick, as long as the price remains within a range of ±{{tick_size_barrier}} from the previous tick price.",{growth_rate:(0,p.getGrowthRatePercentage)(n),tick_size_barrier:(0,p.getTickSizeBarrierPercentage)(i)})},l.createElement(Ne.Z,{arr_arr_numbers:o,name:"growth_rate",onChange:r,selected_number:n,should_show_in_percents:!0})):null};Fe.propTypes={accumulator_range_list:d.PropTypes.arrayOrObservableArray,growth_rate:o().oneOfType([o().number,o().string]),onChange:o().func,tick_size_barrier:o().number};const De=(0,f.$j)((function(e){var t=e.modules;return{accumulator_range_list:t.trade.accumulator_range_list,growth_rate:t.trade.growth_rate,onChange:t.trade.onChange,tick_size_barrier:t.trade.tick_size_barrier}}))(Fe);var Pe=n("./src/Modules/Trading/Components/Form/TradeParams/Multiplier/stop-loss.jsx"),ze=n("./src/Modules/Trading/Components/Form/TradeParams/Multiplier/take-profit.jsx"),Ie=n("./src/Modules/Trading/Components/Form/TradeParams/Multiplier/expiration.jsx"),Ue=n("./src/Modules/Trading/Components/Form/TradeParams/Accumulator/accumulators-info-display.jsx"),Ye=function(e){var t=e.form_components,n=e.is_minimized,r=function(e){return t.includes(e)};return l.createElement(l.Fragment,null,r("duration")&&l.createElement(we,{key:"duration",is_minimized:n}),r("barrier")&&l.createElement(j.Z,{key:"barrier",is_minimized:n}),r("last_digit")&&l.createElement(je.Z,{key:"last_digit",is_minimized:n}),r("accumulator")&&l.createElement(De,{key:"accumulator"}),r("amount")&&l.createElement(w,{key:"amount",is_minimized:n}),r("take_profit")&&l.createElement(ze.Z,{key:"take_profit"}),r("stop_loss")&&l.createElement(Pe.Z,{key:"stop_loss"}),r("cancellation")&&l.createElement(Ae,{key:"cancellation"}),r("expiration")&&l.createElement(Ie.Z,{key:"expiration"}),r("accu_info_display")&&l.createElement(Ue.Z,{key:"accu_info_display"}))};Ye.propTypes={form_components:d.PropTypes.arrayOrObservableArray,is_minimized:o().bool};const qe=(0,f.$j)((function(e){return{form_components:e.modules.trade.form_components}}))(Ye);var $e=function(e){var t=e.is_market_closed,n=e.is_trade_enabled;return l.createElement("div",{className:a()("sidebar__items",{"sidebar__items--market-closed":t})},n?l.createElement(l.Fragment,null,l.createElement(s.Z,{className:"trade-container__fieldset trade-types"},l.createElement(c.Z,null)),l.createElement(qe,null),l.createElement("div",{className:"purchase-container"},l.createElement(_.Z,{is_market_closed:t}))):l.createElement(u.G,{speed:2}))};$e.propTypes={is_market_closed:o().bool,is_trade_enabled:o().bool};const Ze=$e}}]);